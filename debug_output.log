    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.03s
     Running `target/debug/grue-compiler examples/mini_zork.grue`
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::parser] 🔧 PARSER_DEBUG: Parsing function 'look_around'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::parser] 🔧 PARSER_DEBUG: Function 'look_around' parsed with 0 parameters
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::parser] 🔧 PARSER_DEBUG: Parsing function 'examine'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::parser] 🔧 PARSER_DEBUG: Found parameter 'obj' for function 'examine'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::parser] 🔧 PARSER_DEBUG: Function 'examine' parsed with 1 parameters
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::parser] 🔧 PARSER_DEBUG: Parsing function 'handle_open'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::parser] 🔧 PARSER_DEBUG: Found parameter 'obj' for function 'handle_open'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::parser] 🔧 PARSER_DEBUG: Function 'handle_open' parsed with 1 parameters
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::parser] 🔧 PARSER_DEBUG: Parsing function 'handle_close'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::parser] 🔧 PARSER_DEBUG: Found parameter 'obj' for function 'handle_close'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::parser] 🔧 PARSER_DEBUG: Function 'handle_close' parsed with 1 parameters
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::parser] 🔧 PARSER_DEBUG: Parsing function 'handle_take'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::parser] 🔧 PARSER_DEBUG: Found parameter 'obj' for function 'handle_take'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::parser] 🔧 PARSER_DEBUG: Function 'handle_take' parsed with 1 parameters
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::parser] 🔧 PARSER_DEBUG: Parsing function 'handle_drop'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::parser] 🔧 PARSER_DEBUG: Found parameter 'obj' for function 'handle_drop'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::parser] 🔧 PARSER_DEBUG: Function 'handle_drop' parsed with 1 parameters
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::parser] 🔧 PARSER_DEBUG: Parsing function 'show_inventory'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::parser] 🔧 PARSER_DEBUG: Function 'show_inventory' parsed with 0 parameters
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::parser] 🔧 PARSER_DEBUG: Parsing function 'handle_go'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::parser] 🔧 PARSER_DEBUG: Found parameter 'direction' for function 'handle_go'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::parser] 🔧 PARSER_DEBUG: Function 'handle_go' parsed with 1 parameters
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::parser] 🔧 PARSER_DEBUG: Parsing function 'handle_climb'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::parser] 🔧 PARSER_DEBUG: Found parameter 'obj' for function 'handle_climb'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::parser] 🔧 PARSER_DEBUG: Function 'handle_climb' parsed with 1 parameters
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::parser] 🔧 PARSER_DEBUG: Parsing function 'handle_read'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::parser] 🔧 PARSER_DEBUG: Found parameter 'obj' for function 'handle_read'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::parser] 🔧 PARSER_DEBUG: Function 'handle_read' parsed with 1 parameters
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::parser] 🔧 PARSER_DEBUG: Parsing function 'player_can_see'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::parser] 🔧 PARSER_DEBUG: Found parameter 'obj' for function 'player_can_see'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::parser] 🔧 PARSER_DEBUG: Function 'player_can_see' parsed with 1 parameters
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::parser] 🔧 PARSER_DEBUG: Parsing function 'list_objects'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::parser] 🔧 PARSER_DEBUG: Found parameter 'location' for function 'list_objects'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::parser] 🔧 PARSER_DEBUG: Function 'list_objects' parsed with 1 parameters
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::parser] 🔧 PARSER_DEBUG: Parsing function 'list_contents'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::parser] 🔧 PARSER_DEBUG: Found parameter 'container' for function 'list_contents'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::parser] 🔧 PARSER_DEBUG: Function 'list_contents' parsed with 1 parameters
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::parser] 🔧 PARSER_DEBUG: Parsing function 'take_all'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::parser] 🔧 PARSER_DEBUG: Function 'take_all' parsed with 0 parameters
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] SEMANTIC: Registering builtin function: print
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] SEMANTIC: Registering builtin function: print_ret
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] SEMANTIC: Registering builtin function: new_line
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] SEMANTIC: Registering builtin function: println
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] SEMANTIC: Registering builtin function: error
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] SEMANTIC: Registering builtin function: to_string
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] SEMANTIC: Registering builtin function: to_int
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] SEMANTIC: Registering builtin function: random
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] SEMANTIC: Registering builtin function: length
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] SEMANTIC: Registering builtin function: empty
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] SEMANTIC: Registering builtin function: calculate
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] SEMANTIC: Registering builtin function: process
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] SEMANTIC: Registering builtin function: update
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] SEMANTIC: Registering builtin function: move
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] SEMANTIC: Registering builtin function: get_location
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] SEMANTIC: Registering builtin function: get_child
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] SEMANTIC: Registering builtin function: get_sibling
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] SEMANTIC: Registering builtin function: get_prop
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] SEMANTIC: Registering builtin function: test_attr
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] SEMANTIC: Registering builtin function: set_attr
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] SEMANTIC: Registering builtin function: clear_attr
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] SEMANTIC: Registering builtin function: indexOf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] SEMANTIC: Registering builtin function: slice
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] SEMANTIC: Registering builtin function: substring
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] SEMANTIC: Registering builtin function: toLowerCase
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] SEMANTIC: Registering builtin function: toUpperCase
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] SEMANTIC: Registering builtin function: trim
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] SEMANTIC: Registering builtin function: charAt
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] SEMANTIC: Registering builtin function: split
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] SEMANTIC: Registering builtin function: replace
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] SEMANTIC: Registering builtin function: startsWith
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] SEMANTIC: Registering builtin function: endsWith
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] SEMANTIC: Registering builtin function: abs
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] SEMANTIC: Registering builtin function: min
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] SEMANTIC: Registering builtin function: max
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] SEMANTIC: Registering builtin function: round
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] SEMANTIC: Registering builtin function: floor
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] SEMANTIC: Registering builtin function: ceil
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] SEMANTIC: Registering builtin function: is_string
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] SEMANTIC: Registering builtin function: is_int
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] SEMANTIC: Registering builtin function: is_bool
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] SEMANTIC: Registering builtin function: is_array
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] SEMANTIC: Registering builtin function: is_object
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] SEMANTIC: Registering builtin function: typeof
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] Adding objects to room scope for 'west_of_house': ["mailbox"]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] Added object 'mailbox' to room scope
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] Adding objects to room scope for 'north_of_house': []
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] Adding objects to room scope for 'south_of_house': []
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] Adding objects to room scope for 'behind_house': ["window"]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] Added object 'window' to room scope
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] Adding objects to room scope for 'forest_path': []
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] Adding objects to room scope for 'tree': ["nest"]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] Added object 'nest' to room scope
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] Adding objects to room scope for 'forest': []
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::semantic] Adding objects to room scope for 'clearing': []
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR GENERATOR: Starting IR generation for 17 items
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] Detected program mode: Interactive
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] PASS 1: Registered function 'look_around' with ID 1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] PASS 1: Registered function 'examine' with ID 2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] PASS 1: Registered function 'handle_open' with ID 3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] PASS 1: Registered function 'handle_close' with ID 4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] PASS 1: Registered function 'handle_take' with ID 5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] PASS 1: Registered function 'handle_drop' with ID 6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] PASS 1: Registered function 'show_inventory' with ID 7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] PASS 1: Registered function 'handle_go' with ID 8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] PASS 1: Registered function 'handle_climb' with ID 9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] PASS 1: Registered function 'handle_read' with ID 10
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] PASS 1: Registered function 'player_can_see' with ID 11
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] PASS 1: Registered function 'list_objects' with ID 12
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] PASS 1: Registered function 'list_contents' with ID 13
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] PASS 1: Registered function 'take_all' with ID 14
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] Assigned NEW object number 3 to object 'mailbox'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] Registered object 'mailbox' with ID 16 and object number 3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] Assigned NEW object number 4 to object 'leaflet'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] Registered object 'leaflet' with ID 17 and object number 4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] Assigned NEW object number 8 to object 'window'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] Registered object 'window' with ID 21 and object number 8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] Assigned NEW object number 11 to object 'nest'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] Registered object 'nest' with ID 24 and object number 11
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] Assigned NEW object number 12 to object 'egg'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] Registered object 'egg' with ID 25 and object number 12
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_room: Room 'west_of_house' already has object number 2 from registration pass
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] Processing 1 objects for room 'west_of_house'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] Object 'mailbox' already has object number 3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] Registered object 'mailbox' with ID 29 and object number 3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] Object 'leaflet' already has object number 4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] Registered object 'leaflet' with ID 30 and object number 4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 1 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type If(IfStmt { condition: Unary { operator: Not, operand: PropertyAccess { object: Identifier("west_of_house"), property: "visited" } }, then_branch: Block(BlockStmt { statements: [Expression(FunctionCall { name: "print", arguments: [String("Welcome to Zork!")] })] }), else_branch: None })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=32 property='visited' -> temp_id=33
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 IF_CONDITION_DEBUG: condition_temp=34 for if statement at line 0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if statement: then=35, else=36, end=37
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding then label 35
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 1 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type Expression(FunctionCall { name: "print", arguments: [String("Welcome to Zork!")] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding jump to end label 37
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding else label 36
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding end label 37
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_room: Room 'north_of_house' already has object number 5 from registration pass
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] Processing 0 objects for room 'north_of_house'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_room: Room 'south_of_house' already has object number 6 from registration pass
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] Processing 0 objects for room 'south_of_house'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_room: Room 'behind_house' already has object number 7 from registration pass
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] Processing 1 objects for room 'behind_house'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] Object 'window' already has object number 8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] Registered object 'window' with ID 45 and object number 8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 1 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type If(IfStmt { condition: PropertyAccess { object: Identifier("window"), property: "open" }, then_branch: Block(BlockStmt { statements: [Expression(FunctionCall { name: "print", arguments: [String("Through the open window you can see into what appears to be a kitchen.")] })] }), else_branch: None })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=47 property='open' -> temp_id=48
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 IF_CONDITION_DEBUG: condition_temp=48 for if statement at line 0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if statement: then=49, else=50, end=51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding then label 49
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 1 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type Expression(FunctionCall { name: "print", arguments: [String("Through the open window you can see into what appears to be a kitchen.")] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding jump to end label 51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding else label 50
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding end label 51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_room: Room 'forest_path' already has object number 9 from registration pass
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] Processing 0 objects for room 'forest_path'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_room: Room 'tree' already has object number 10 from registration pass
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] Processing 1 objects for room 'tree'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] Object 'nest' already has object number 11
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] Registered object 'nest' with ID 57 and object number 11
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] Object 'egg' already has object number 12
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] Registered object 'egg' with ID 58 and object number 12
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_room: Room 'forest' already has object number 13 from registration pass
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] Processing 0 objects for room 'forest'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_room: Room 'clearing' already has object number 14 from registration pass
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] Processing 0 objects for room 'clearing'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Function 'look_around' has 0 parameters in AST
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 3 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type Expression(FunctionCall { name: "print", arguments: [PropertyAccess { object: PropertyAccess { object: Identifier("player"), property: "location" }, property: "desc" }] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=62 property='location' -> temp_id=63
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=63 property='desc' -> temp_id=64
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 1 of type Expression(FunctionCall { name: "list_objects", arguments: [PropertyAccess { object: Identifier("player"), property: "location" }] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=66 property='location' -> temp_id=67
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 2 of type If(IfStmt { condition: PropertyAccess { object: PropertyAccess { object: Identifier("player"), property: "location" }, property: "on_look" }, then_branch: Block(BlockStmt { statements: [Expression(MethodCall { object: PropertyAccess { object: Identifier("player"), property: "location" }, method: "on_look", arguments: [] })] }), else_branch: None })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=69 property='location' -> temp_id=70
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=70 property='on_look' -> temp_id=71
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 IF_CONDITION_DEBUG: condition_temp=71 for if statement at line 0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if statement: then=72, else=73, end=74
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding then label 72
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 1 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type Expression(MethodCall { object: PropertyAccess { object: Identifier("player"), property: "location" }, method: "on_look", arguments: [] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=76 property='location' -> temp_id=77
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] Object handler 'on_look' mapped to property #19 for method call
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding jump to end label 74
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding else label 73
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding end label 74
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Creating IrFunction 'look_around' with 0 parameters
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Function 'examine' has 1 parameters in AST
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Processing parameter [1/1] 'obj' for function 'examine'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] Function 'examine': Added parameter 'obj' with IR ID 83 to function scope
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Added parameter 'obj' (IR ID 83) to parameters Vec for function 'examine'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 1 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type If(IfStmt { condition: Binary { left: Binary { left: PropertyAccess { object: Identifier("obj"), property: "location" }, operator: Equal, right: PropertyAccess { object: Identifier("player"), property: "location" } }, operator: Or, right: Binary { left: PropertyAccess { object: Identifier("obj"), property: "location" }, operator: Equal, right: Identifier("player") } }, then_branch: Block(BlockStmt { statements: [Expression(FunctionCall { name: "print", arguments: [PropertyAccess { object: Identifier("obj"), property: "desc" }] })] }), else_branch: Some(Block(BlockStmt { statements: [Expression(FunctionCall { name: "print", arguments: [String("You can't see any such thing.")] })] })) })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 83 for 'obj'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=83 property='location' -> temp_id=85
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=86 property='location' -> temp_id=87
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 83 for 'obj'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=83 property='location' -> temp_id=89
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 IF_CONDITION_DEBUG: condition_temp=92 for if statement at line 0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if statement: then=93, else=94, end=95
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding then label 93
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 1 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type Expression(FunctionCall { name: "print", arguments: [PropertyAccess { object: Identifier("obj"), property: "desc" }] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 83 for 'obj'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=83 property='desc' -> temp_id=97
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding jump to end label 95
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding else label 94
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 1 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type Expression(FunctionCall { name: "print", arguments: [String("You can't see any such thing.")] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding end label 95
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Creating IrFunction 'examine' with 1 parameters
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Final parameter [1/1]: name='obj', ir_id=83, slot=1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Function 'handle_open' has 1 parameters in AST
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Processing parameter [1/1] 'obj' for function 'handle_open'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] Function 'handle_open': Added parameter 'obj' with IR ID 102 to function scope
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Added parameter 'obj' (IR ID 102) to parameters Vec for function 'handle_open'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 3 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type If(IfStmt { condition: Unary { operator: Not, operand: FunctionCall { name: "player_can_see", arguments: [Identifier("obj")] } }, then_branch: Block(BlockStmt { statements: [Expression(FunctionCall { name: "print", arguments: [String("You can't see any such thing.")] }), Return(None)] }), else_branch: None })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 102 for 'obj'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 IF_CONDITION_DEBUG: condition_temp=105 for if statement at line 0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if statement: then=106, else=107, end=108
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding then label 106
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 2 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type Expression(FunctionCall { name: "print", arguments: [String("You can't see any such thing.")] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 1 of type Return(None)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding jump to end label 108
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding else label 107
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding end label 108
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 1 of type If(IfStmt { condition: Unary { operator: Not, operand: PropertyAccess { object: Identifier("obj"), property: "openable" } }, then_branch: Block(BlockStmt { statements: [Expression(FunctionCall { name: "print", arguments: [String("You can't open that.")] }), Return(None)] }), else_branch: None })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 102 for 'obj'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=102 property='openable' -> temp_id=112
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 IF_CONDITION_DEBUG: condition_temp=113 for if statement at line 0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if statement: then=114, else=115, end=116
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding then label 114
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 2 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type Expression(FunctionCall { name: "print", arguments: [String("You can't open that.")] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 1 of type Return(None)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding jump to end label 116
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding else label 115
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding end label 116
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 2 of type If(IfStmt { condition: PropertyAccess { object: Identifier("obj"), property: "open" }, then_branch: Block(BlockStmt { statements: [Expression(FunctionCall { name: "print", arguments: [String("It's already open.")] })] }), else_branch: Some(Block(BlockStmt { statements: [Assignment(AssignmentStmt { target: PropertyAccess { object: Identifier("obj"), property: "open" }, value: Boolean(true) }), Expression(FunctionCall { name: "print", arguments: [String("Opened.")] }), If(IfStmt { condition: Binary { left: PropertyAccess { object: Identifier("obj"), property: "container" }, operator: And, right: Unary { operator: Not, operand: MethodCall { object: Identifier("obj"), method: "empty", arguments: [] } } }, then_branch: Block(BlockStmt { statements: [Expression(FunctionCall { name: "print", arguments: [Binary { left: Binary { left: String("The "), operator: Add, right: PropertyAccess { object: Identifier("obj"), property: "name" } }, operator: Add, right: String(" contains:") }] }), Expression(FunctionCall { name: "list_contents", arguments: [Identifier("obj")] })] }), else_branch: None })] })) })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 102 for 'obj'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=102 property='open' -> temp_id=120
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 IF_CONDITION_DEBUG: condition_temp=120 for if statement at line 0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if statement: then=121, else=122, end=123
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding then label 121
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 1 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type Expression(FunctionCall { name: "print", arguments: [String("It's already open.")] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding jump to end label 123
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding else label 122
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 3 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type Assignment(AssignmentStmt { target: PropertyAccess { object: Identifier("obj"), property: "open" }, value: Boolean(true) })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 102 for 'obj'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 1 of type Expression(FunctionCall { name: "print", arguments: [String("Opened.")] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 2 of type If(IfStmt { condition: Binary { left: PropertyAccess { object: Identifier("obj"), property: "container" }, operator: And, right: Unary { operator: Not, operand: MethodCall { object: Identifier("obj"), method: "empty", arguments: [] } } }, then_branch: Block(BlockStmt { statements: [Expression(FunctionCall { name: "print", arguments: [Binary { left: Binary { left: String("The "), operator: Add, right: PropertyAccess { object: Identifier("obj"), property: "name" } }, operator: Add, right: String(" contains:") }] }), Expression(FunctionCall { name: "list_contents", arguments: [Identifier("obj")] })] }), else_branch: None })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 102 for 'obj'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=102 property='container' -> temp_id=131
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 102 for 'obj'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 IF_CONDITION_DEBUG: condition_temp=139 for if statement at line 0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if statement: then=140, else=141, end=142
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding then label 140
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 2 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type Expression(FunctionCall { name: "print", arguments: [Binary { left: Binary { left: String("The "), operator: Add, right: PropertyAccess { object: Identifier("obj"), property: "name" } }, operator: Add, right: String(" contains:") }] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 102 for 'obj'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=102 property='name' -> temp_id=145
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 1 of type Expression(FunctionCall { name: "list_contents", arguments: [Identifier("obj")] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 102 for 'obj'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding jump to end label 142
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding else label 141
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding end label 142
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding end label 123
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Creating IrFunction 'handle_open' with 1 parameters
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Final parameter [1/1]: name='obj', ir_id=102, slot=1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Function 'handle_close' has 1 parameters in AST
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Processing parameter [1/1] 'obj' for function 'handle_close'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] Function 'handle_close': Added parameter 'obj' with IR ID 151 to function scope
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Added parameter 'obj' (IR ID 151) to parameters Vec for function 'handle_close'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 3 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type If(IfStmt { condition: Unary { operator: Not, operand: FunctionCall { name: "player_can_see", arguments: [Identifier("obj")] } }, then_branch: Block(BlockStmt { statements: [Expression(FunctionCall { name: "print", arguments: [String("You can't see any such thing.")] }), Return(None)] }), else_branch: None })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 151 for 'obj'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 IF_CONDITION_DEBUG: condition_temp=154 for if statement at line 0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if statement: then=155, else=156, end=157
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding then label 155
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 2 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type Expression(FunctionCall { name: "print", arguments: [String("You can't see any such thing.")] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 1 of type Return(None)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding jump to end label 157
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding else label 156
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding end label 157
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 1 of type If(IfStmt { condition: Unary { operator: Not, operand: PropertyAccess { object: Identifier("obj"), property: "openable" } }, then_branch: Block(BlockStmt { statements: [Expression(FunctionCall { name: "print", arguments: [String("You can't close that.")] }), Return(None)] }), else_branch: None })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 151 for 'obj'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=151 property='openable' -> temp_id=161
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 IF_CONDITION_DEBUG: condition_temp=162 for if statement at line 0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if statement: then=163, else=164, end=165
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding then label 163
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 2 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type Expression(FunctionCall { name: "print", arguments: [String("You can't close that.")] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 1 of type Return(None)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding jump to end label 165
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding else label 164
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding end label 165
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 2 of type If(IfStmt { condition: Unary { operator: Not, operand: PropertyAccess { object: Identifier("obj"), property: "open" } }, then_branch: Block(BlockStmt { statements: [Expression(FunctionCall { name: "print", arguments: [String("It's already closed.")] })] }), else_branch: Some(Block(BlockStmt { statements: [Assignment(AssignmentStmt { target: PropertyAccess { object: Identifier("obj"), property: "open" }, value: Boolean(false) }), Expression(FunctionCall { name: "print", arguments: [String("Closed.")] })] })) })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 151 for 'obj'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=151 property='open' -> temp_id=169
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 IF_CONDITION_DEBUG: condition_temp=170 for if statement at line 0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if statement: then=171, else=172, end=173
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding then label 171
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 1 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type Expression(FunctionCall { name: "print", arguments: [String("It's already closed.")] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding jump to end label 173
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding else label 172
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 2 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type Assignment(AssignmentStmt { target: PropertyAccess { object: Identifier("obj"), property: "open" }, value: Boolean(false) })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 151 for 'obj'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 1 of type Expression(FunctionCall { name: "print", arguments: [String("Closed.")] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding end label 173
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Creating IrFunction 'handle_close' with 1 parameters
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Final parameter [1/1]: name='obj', ir_id=151, slot=1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Function 'handle_take' has 1 parameters in AST
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Processing parameter [1/1] 'obj' for function 'handle_take'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] Function 'handle_take': Added parameter 'obj' with IR ID 181 to function scope
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Added parameter 'obj' (IR ID 181) to parameters Vec for function 'handle_take'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 5 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type If(IfStmt { condition: Binary { left: PropertyAccess { object: Identifier("obj"), property: "location" }, operator: Equal, right: Identifier("player") }, then_branch: Block(BlockStmt { statements: [Expression(FunctionCall { name: "print", arguments: [String("You already have that.")] }), Return(None)] }), else_branch: None })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 181 for 'obj'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=181 property='location' -> temp_id=183
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 IF_CONDITION_DEBUG: condition_temp=185 for if statement at line 0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if statement: then=186, else=187, end=188
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding then label 186
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 2 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type Expression(FunctionCall { name: "print", arguments: [String("You already have that.")] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 1 of type Return(None)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding jump to end label 188
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding else label 187
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding end label 188
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 1 of type If(IfStmt { condition: Unary { operator: Not, operand: FunctionCall { name: "player_can_see", arguments: [Identifier("obj")] } }, then_branch: Block(BlockStmt { statements: [Expression(FunctionCall { name: "print", arguments: [String("You can't see any such thing.")] }), Return(None)] }), else_branch: None })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 181 for 'obj'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 IF_CONDITION_DEBUG: condition_temp=193 for if statement at line 0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if statement: then=194, else=195, end=196
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding then label 194
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 2 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type Expression(FunctionCall { name: "print", arguments: [String("You can't see any such thing.")] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 1 of type Return(None)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding jump to end label 196
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding else label 195
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding end label 196
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 2 of type If(IfStmt { condition: Binary { left: PropertyAccess { object: PropertyAccess { object: Identifier("obj"), property: "location" }, property: "container" }, operator: And, right: Unary { operator: Not, operand: PropertyAccess { object: PropertyAccess { object: Identifier("obj"), property: "location" }, property: "open" } } }, then_branch: Block(BlockStmt { statements: [Expression(FunctionCall { name: "print", arguments: [Binary { left: Binary { left: String("The "), operator: Add, right: PropertyAccess { object: PropertyAccess { object: Identifier("obj"), property: "location" }, property: "name" } }, operator: Add, right: String(" is closed.") }] }), Return(None)] }), else_branch: None })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 181 for 'obj'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=181 property='location' -> temp_id=200
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=200 property='container' -> temp_id=201
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 181 for 'obj'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=181 property='location' -> temp_id=202
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=202 property='open' -> temp_id=203
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 IF_CONDITION_DEBUG: condition_temp=205 for if statement at line 0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if statement: then=206, else=207, end=208
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding then label 206
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 2 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type Expression(FunctionCall { name: "print", arguments: [Binary { left: Binary { left: String("The "), operator: Add, right: PropertyAccess { object: PropertyAccess { object: Identifier("obj"), property: "location" }, property: "name" } }, operator: Add, right: String(" is closed.") }] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 181 for 'obj'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=181 property='location' -> temp_id=211
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=211 property='name' -> temp_id=212
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 1 of type Return(None)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding jump to end label 208
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding else label 207
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding end label 208
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 3 of type Expression(FunctionCall { name: "move", arguments: [Identifier("obj"), Identifier("player")] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 181 for 'obj'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 4 of type Expression(FunctionCall { name: "print", arguments: [String("Taken.")] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Creating IrFunction 'handle_take' with 1 parameters
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Final parameter [1/1]: name='obj', ir_id=181, slot=1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Function 'handle_drop' has 1 parameters in AST
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Processing parameter [1/1] 'obj' for function 'handle_drop'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] Function 'handle_drop': Added parameter 'obj' with IR ID 222 to function scope
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Added parameter 'obj' (IR ID 222) to parameters Vec for function 'handle_drop'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 3 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type If(IfStmt { condition: Binary { left: PropertyAccess { object: Identifier("obj"), property: "location" }, operator: NotEqual, right: Identifier("player") }, then_branch: Block(BlockStmt { statements: [Expression(FunctionCall { name: "print", arguments: [String("You don't have that.")] }), Return(None)] }), else_branch: None })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 222 for 'obj'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=222 property='location' -> temp_id=224
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 IF_CONDITION_DEBUG: condition_temp=226 for if statement at line 0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if statement: then=227, else=228, end=229
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding then label 227
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 2 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type Expression(FunctionCall { name: "print", arguments: [String("You don't have that.")] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 1 of type Return(None)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding jump to end label 229
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding else label 228
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding end label 229
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 1 of type Expression(FunctionCall { name: "move", arguments: [Identifier("obj"), PropertyAccess { object: Identifier("player"), property: "location" }] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 222 for 'obj'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=233 property='location' -> temp_id=234
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 2 of type Expression(FunctionCall { name: "print", arguments: [String("Dropped.")] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Creating IrFunction 'handle_drop' with 1 parameters
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Final parameter [1/1]: name='obj', ir_id=222, slot=1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Function 'show_inventory' has 0 parameters in AST
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 2 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type VarDecl(VarDeclStmt { name: "items", mutable: false, var_type: None, initializer: Some(MethodCall { object: Identifier("player"), method: "contents", arguments: [] }) })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 1 of type If(IfStmt { condition: MethodCall { object: Identifier("items"), method: "empty", arguments: [] }, then_branch: Block(BlockStmt { statements: [Expression(FunctionCall { name: "print", arguments: [String("You are empty-handed.")] })] }), else_branch: Some(Block(BlockStmt { statements: [Expression(FunctionCall { name: "print", arguments: [String("You are carrying:")] }), For(ForStmt { variable: "item", iterable: Identifier("items"), body: Block(BlockStmt { statements: [Expression(FunctionCall { name: "print", arguments: [Binary { left: String("  "), operator: Add, right: PropertyAccess { object: Identifier("item"), property: "name" } }] })] }) })] })) })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 240 for 'items'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 IF_CONDITION_DEBUG: condition_temp=249 for if statement at line 0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if statement: then=250, else=251, end=252
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding then label 250
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 1 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type Expression(FunctionCall { name: "print", arguments: [String("You are empty-handed.")] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding jump to end label 252
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding else label 251
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 2 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type Expression(FunctionCall { name: "print", arguments: [String("You are carrying:")] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 1 of type For(ForStmt { variable: "item", iterable: Identifier("items"), body: Block(BlockStmt { statements: [Expression(FunctionCall { name: "print", arguments: [Binary { left: String("  "), operator: Add, right: PropertyAccess { object: Identifier("item"), property: "name" } }] })] }) })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 240 for 'items'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 1 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type Expression(FunctionCall { name: "print", arguments: [Binary { left: String("  "), operator: Add, right: PropertyAccess { object: Identifier("item"), property: "name" } }] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 259 for 'item'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=259 property='name' -> temp_id=271
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding end label 252
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Creating IrFunction 'show_inventory' with 0 parameters
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Function 'handle_go' has 1 parameters in AST
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Processing parameter [1/1] 'direction' for function 'handle_go'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] Function 'handle_go': Added parameter 'direction' with IR ID 276 to function scope
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Added parameter 'direction' (IR ID 276) to parameters Vec for function 'handle_go'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 9 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type VarDecl(VarDeclStmt { name: "exit", mutable: false, var_type: None, initializer: Some(PropertyAccess { object: PropertyAccess { object: Identifier("player"), property: "location" }, property: "exits" }) })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=279 property='location' -> temp_id=280
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=280 property='exits' -> temp_id=281
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 1 of type Expression(Array([Identifier("direction")]))
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 276 for 'direction'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 2 of type If(IfStmt { condition: MethodCall { object: Identifier("exit"), method: "none", arguments: [] }, then_branch: Block(BlockStmt { statements: [Expression(FunctionCall { name: "print", arguments: [String("You can't go that way.")] }), Return(None)] }), else_branch: None })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 278 for 'exit'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 IF_CONDITION_DEBUG: condition_temp=284 for if statement at line 0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if statement: then=289, else=290, end=291
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding then label 289
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 2 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type Expression(FunctionCall { name: "print", arguments: [String("You can't go that way.")] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 1 of type Return(None)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding jump to end label 291
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding else label 290
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding end label 291
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 3 of type If(IfStmt { condition: PropertyAccess { object: Identifier("exit"), property: "blocked" }, then_branch: Block(BlockStmt { statements: [Expression(FunctionCall { name: "print", arguments: [PropertyAccess { object: Identifier("exit"), property: "message" }] }), Return(None)] }), else_branch: None })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 278 for 'exit'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=278 property='blocked' -> temp_id=295
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 IF_CONDITION_DEBUG: condition_temp=295 for if statement at line 0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if statement: then=296, else=297, end=298
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding then label 296
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 2 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type Expression(FunctionCall { name: "print", arguments: [PropertyAccess { object: Identifier("exit"), property: "message" }] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 278 for 'exit'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=278 property='message' -> temp_id=300
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 1 of type Return(None)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding jump to end label 298
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding else label 297
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding end label 298
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 4 of type If(IfStmt { condition: PropertyAccess { object: PropertyAccess { object: Identifier("player"), property: "location" }, property: "on_exit" }, then_branch: Block(BlockStmt { statements: [Expression(MethodCall { object: PropertyAccess { object: Identifier("player"), property: "location" }, method: "on_exit", arguments: [] })] }), else_branch: None })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=302 property='location' -> temp_id=303
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=303 property='on_exit' -> temp_id=304
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 IF_CONDITION_DEBUG: condition_temp=304 for if statement at line 0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if statement: then=305, else=306, end=307
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding then label 305
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 1 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type Expression(MethodCall { object: PropertyAccess { object: Identifier("player"), property: "location" }, method: "on_exit", arguments: [] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=309 property='location' -> temp_id=310
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] Object handler 'on_exit' mapped to property #26 for method call
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding jump to end label 307
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding else label 306
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding end label 307
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 5 of type Expression(FunctionCall { name: "move", arguments: [Identifier("player"), PropertyAccess { object: Identifier("exit"), property: "destination" }] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 278 for 'exit'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=278 property='destination' -> temp_id=317
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 6 of type Assignment(AssignmentStmt { target: PropertyAccess { object: PropertyAccess { object: Identifier("player"), property: "location" }, property: "visited" }, value: Boolean(true) })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=321 property='location' -> temp_id=322
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 7 of type If(IfStmt { condition: PropertyAccess { object: PropertyAccess { object: Identifier("player"), property: "location" }, property: "on_enter" }, then_branch: Block(BlockStmt { statements: [Expression(MethodCall { object: PropertyAccess { object: Identifier("player"), property: "location" }, method: "on_enter", arguments: [] })] }), else_branch: None })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=323 property='location' -> temp_id=324
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=324 property='on_enter' -> temp_id=325
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 IF_CONDITION_DEBUG: condition_temp=325 for if statement at line 0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if statement: then=326, else=327, end=328
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding then label 326
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 1 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type Expression(MethodCall { object: PropertyAccess { object: Identifier("player"), property: "location" }, method: "on_enter", arguments: [] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=330 property='location' -> temp_id=331
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] Object handler 'on_enter' mapped to property #28 for method call
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding jump to end label 328
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding else label 327
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding end label 328
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 8 of type Expression(FunctionCall { name: "look_around", arguments: [] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Creating IrFunction 'handle_go' with 1 parameters
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Final parameter [1/1]: name='direction', ir_id=276, slot=1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Function 'handle_climb' has 1 parameters in AST
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Processing parameter [1/1] 'obj' for function 'handle_climb'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] Function 'handle_climb': Added parameter 'obj' with IR ID 338 to function scope
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Added parameter 'obj' (IR ID 338) to parameters Vec for function 'handle_climb'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 1 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type If(IfStmt { condition: Binary { left: Binary { left: Identifier("obj"), operator: Equal, right: Identifier("tree") }, operator: And, right: Binary { left: PropertyAccess { object: Identifier("player"), property: "location" }, operator: Equal, right: Identifier("forest_path") } }, then_branch: Block(BlockStmt { statements: [Expression(FunctionCall { name: "handle_go", arguments: [String("up")] })] }), else_branch: Some(Block(BlockStmt { statements: [Expression(FunctionCall { name: "print", arguments: [String("You can't climb that.")] })] })) })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 338 for 'obj'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=342 property='location' -> temp_id=343
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 IF_CONDITION_DEBUG: condition_temp=346 for if statement at line 0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if statement: then=347, else=348, end=349
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding then label 347
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 1 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type Expression(FunctionCall { name: "handle_go", arguments: [String("up")] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding jump to end label 349
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding else label 348
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 1 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type Expression(FunctionCall { name: "print", arguments: [String("You can't climb that.")] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding end label 349
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Creating IrFunction 'handle_climb' with 1 parameters
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Final parameter [1/1]: name='obj', ir_id=338, slot=1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Function 'handle_read' has 1 parameters in AST
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Processing parameter [1/1] 'obj' for function 'handle_read'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] Function 'handle_read': Added parameter 'obj' with IR ID 356 to function scope
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Added parameter 'obj' (IR ID 356) to parameters Vec for function 'handle_read'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 2 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type If(IfStmt { condition: Unary { operator: Not, operand: FunctionCall { name: "player_can_see", arguments: [Identifier("obj")] } }, then_branch: Block(BlockStmt { statements: [Expression(FunctionCall { name: "print", arguments: [String("You can't see any such thing.")] }), Return(None)] }), else_branch: None })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 356 for 'obj'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 IF_CONDITION_DEBUG: condition_temp=359 for if statement at line 0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if statement: then=360, else=361, end=362
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding then label 360
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 2 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type Expression(FunctionCall { name: "print", arguments: [String("You can't see any such thing.")] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 1 of type Return(None)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding jump to end label 362
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding else label 361
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding end label 362
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 1 of type If(IfStmt { condition: Binary { left: Identifier("obj"), operator: Equal, right: Identifier("leaflet") }, then_branch: Block(BlockStmt { statements: [Expression(FunctionCall { name: "print", arguments: [PropertyAccess { object: Identifier("leaflet"), property: "desc" }] })] }), else_branch: Some(Block(BlockStmt { statements: [Expression(FunctionCall { name: "print", arguments: [String("There's nothing to read on that.")] })] })) })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 356 for 'obj'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 IF_CONDITION_DEBUG: condition_temp=367 for if statement at line 0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if statement: then=368, else=369, end=370
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding then label 368
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 1 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type Expression(FunctionCall { name: "print", arguments: [PropertyAccess { object: Identifier("leaflet"), property: "desc" }] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=372 property='desc' -> temp_id=373
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding jump to end label 370
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding else label 369
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 1 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type Expression(FunctionCall { name: "print", arguments: [String("There's nothing to read on that.")] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding end label 370
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Creating IrFunction 'handle_read' with 1 parameters
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Final parameter [1/1]: name='obj', ir_id=356, slot=1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Function 'player_can_see' has 1 parameters in AST
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Processing parameter [1/1] 'obj' for function 'player_can_see'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] Function 'player_can_see': Added parameter 'obj' with IR ID 378 to function scope
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Added parameter 'obj' (IR ID 378) to parameters Vec for function 'player_can_see'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 3 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type If(IfStmt { condition: Binary { left: Binary { left: PropertyAccess { object: Identifier("obj"), property: "location" }, operator: Equal, right: PropertyAccess { object: Identifier("player"), property: "location" } }, operator: Or, right: Binary { left: PropertyAccess { object: Identifier("obj"), property: "location" }, operator: Equal, right: Identifier("player") } }, then_branch: Block(BlockStmt { statements: [Return(Some(Boolean(true)))] }), else_branch: None })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 378 for 'obj'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=378 property='location' -> temp_id=380
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=381 property='location' -> temp_id=382
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 378 for 'obj'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=378 property='location' -> temp_id=384
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 IF_CONDITION_DEBUG: condition_temp=387 for if statement at line 0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if statement: then=388, else=389, end=390
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding then label 388
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 1 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type Return(Some(Boolean(true)))
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding jump to end label 390
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding else label 389
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding end label 390
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 1 of type If(IfStmt { condition: Binary { left: Binary { left: PropertyAccess { object: PropertyAccess { object: Identifier("obj"), property: "location" }, property: "container" }, operator: And, right: PropertyAccess { object: PropertyAccess { object: Identifier("obj"), property: "location" }, property: "open" } }, operator: And, right: Binary { left: PropertyAccess { object: PropertyAccess { object: Identifier("obj"), property: "location" }, property: "location" }, operator: Equal, right: PropertyAccess { object: Identifier("player"), property: "location" } } }, then_branch: Block(BlockStmt { statements: [Return(Some(Boolean(true)))] }), else_branch: None })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 378 for 'obj'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=378 property='location' -> temp_id=393
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=393 property='container' -> temp_id=394
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 378 for 'obj'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=378 property='location' -> temp_id=395
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=395 property='open' -> temp_id=396
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 378 for 'obj'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=378 property='location' -> temp_id=398
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=398 property='location' -> temp_id=399
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=400 property='location' -> temp_id=401
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 IF_CONDITION_DEBUG: condition_temp=403 for if statement at line 0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if statement: then=404, else=405, end=406
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding then label 404
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 1 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type Return(Some(Boolean(true)))
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding jump to end label 406
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding else label 405
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding end label 406
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 2 of type Return(Some(Boolean(false)))
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Creating IrFunction 'player_can_see' with 1 parameters
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Final parameter [1/1]: name='obj', ir_id=378, slot=1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Function 'list_objects' has 1 parameters in AST
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Processing parameter [1/1] 'location' for function 'list_objects'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] Function 'list_objects': Added parameter 'location' with IR ID 410 to function scope
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Added parameter 'location' (IR ID 410) to parameters Vec for function 'list_objects'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 4 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type VarDecl(VarDeclStmt { name: "objects", mutable: false, var_type: None, initializer: Some(MethodCall { object: Identifier("location"), method: "contents", arguments: [] }) })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 410 for 'location'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 1 of type VarDecl(VarDeclStmt { name: "visible_objects", mutable: false, var_type: None, initializer: Some(Array([])) })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 2 of type For(ForStmt { variable: "obj", iterable: Identifier("objects"), body: Block(BlockStmt { statements: [If(IfStmt { condition: Binary { left: Identifier("obj"), operator: NotEqual, right: Identifier("player") }, then_branch: Block(BlockStmt { statements: [Expression(MethodCall { object: Identifier("visible_objects"), method: "add", arguments: [Identifier("obj")] })] }), else_branch: None })] }) })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 412 for 'objects'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 1 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type If(IfStmt { condition: Binary { left: Identifier("obj"), operator: NotEqual, right: Identifier("player") }, then_branch: Block(BlockStmt { statements: [Expression(MethodCall { object: Identifier("visible_objects"), method: "add", arguments: [Identifier("obj")] })] }), else_branch: None })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 422 for 'obj'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 IF_CONDITION_DEBUG: condition_temp=434 for if statement at line 0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if statement: then=435, else=436, end=437
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding then label 435
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 1 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type Expression(MethodCall { object: Identifier("visible_objects"), method: "add", arguments: [Identifier("obj")] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 420 for 'visible_objects'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 422 for 'obj'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding jump to end label 437
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding else label 436
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding end label 437
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 3 of type If(IfStmt { condition: Unary { operator: Not, operand: MethodCall { object: Identifier("visible_objects"), method: "empty", arguments: [] } }, then_branch: Block(BlockStmt { statements: [For(ForStmt { variable: "obj", iterable: Identifier("visible_objects"), body: Block(BlockStmt { statements: [Expression(FunctionCall { name: "print", arguments: [Binary { left: Binary { left: String("There is "), operator: Add, right: PropertyAccess { object: Identifier("obj"), property: "name" } }, operator: Add, right: String(" here.") }] })] }) })] }), else_branch: None })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 420 for 'visible_objects'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 IF_CONDITION_DEBUG: condition_temp=453 for if statement at line 0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if statement: then=454, else=455, end=456
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding then label 454
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 1 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type For(ForStmt { variable: "obj", iterable: Identifier("visible_objects"), body: Block(BlockStmt { statements: [Expression(FunctionCall { name: "print", arguments: [Binary { left: Binary { left: String("There is "), operator: Add, right: PropertyAccess { object: Identifier("obj"), property: "name" } }, operator: Add, right: String(" here.") }] })] }) })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 420 for 'visible_objects'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 1 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type Expression(FunctionCall { name: "print", arguments: [Binary { left: Binary { left: String("There is "), operator: Add, right: PropertyAccess { object: Identifier("obj"), property: "name" } }, operator: Add, right: String(" here.") }] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 458 for 'obj'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=458 property='name' -> temp_id=470
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding jump to end label 456
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding else label 455
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding end label 456
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Creating IrFunction 'list_objects' with 1 parameters
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Final parameter [1/1]: name='location', ir_id=410, slot=1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Function 'list_contents' has 1 parameters in AST
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Processing parameter [1/1] 'container' for function 'list_contents'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] Function 'list_contents': Added parameter 'container' with IR ID 477 to function scope
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Added parameter 'container' (IR ID 477) to parameters Vec for function 'list_contents'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 2 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type VarDecl(VarDeclStmt { name: "contents", mutable: false, var_type: None, initializer: Some(MethodCall { object: Identifier("container"), method: "contents", arguments: [] }) })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 477 for 'container'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 1 of type For(ForStmt { variable: "item", iterable: Identifier("contents"), body: Block(BlockStmt { statements: [Expression(FunctionCall { name: "print", arguments: [Binary { left: String("  "), operator: Add, right: PropertyAccess { object: Identifier("item"), property: "name" } }] })] }) })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 479 for 'contents'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 1 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type Expression(FunctionCall { name: "print", arguments: [Binary { left: String("  "), operator: Add, right: PropertyAccess { object: Identifier("item"), property: "name" } }] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 487 for 'item'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=487 property='name' -> temp_id=499
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Creating IrFunction 'list_contents' with 1 parameters
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Final parameter [1/1]: name='container', ir_id=477, slot=1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Function 'take_all' has 0 parameters in AST
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 4 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type VarDecl(VarDeclStmt { name: "objects", mutable: false, var_type: None, initializer: Some(MethodCall { object: PropertyAccess { object: Identifier("player"), property: "location" }, method: "contents", arguments: [] }) })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=506 property='location' -> temp_id=507
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 1 of type VarDecl(VarDeclStmt { name: "taken", mutable: false, var_type: None, initializer: Some(Integer(0)) })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 2 of type For(ForStmt { variable: "obj", iterable: Identifier("objects"), body: Block(BlockStmt { statements: [If(IfStmt { condition: Binary { left: Binary { left: Identifier("obj"), operator: NotEqual, right: Identifier("player") }, operator: And, right: Binary { left: PropertyAccess { object: Identifier("obj"), property: "takeable" }, operator: NotEqual, right: Boolean(false) } }, then_branch: Block(BlockStmt { statements: [Expression(FunctionCall { name: "move", arguments: [Identifier("obj"), Identifier("player")] }), Expression(FunctionCall { name: "print", arguments: [Binary { left: PropertyAccess { object: Identifier("obj"), property: "name" }, operator: Add, right: String(": Taken.") }] }), Assignment(AssignmentStmt { target: Identifier("taken"), value: Binary { left: Identifier("taken"), operator: Add, right: Integer(1) } })] }), else_branch: None })] }) })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 505 for 'objects'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 1 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type If(IfStmt { condition: Binary { left: Binary { left: Identifier("obj"), operator: NotEqual, right: Identifier("player") }, operator: And, right: Binary { left: PropertyAccess { object: Identifier("obj"), property: "takeable" }, operator: NotEqual, right: Boolean(false) } }, then_branch: Block(BlockStmt { statements: [Expression(FunctionCall { name: "move", arguments: [Identifier("obj"), Identifier("player")] }), Expression(FunctionCall { name: "print", arguments: [Binary { left: PropertyAccess { object: Identifier("obj"), property: "name" }, operator: Add, right: String(": Taken.") }] }), Assignment(AssignmentStmt { target: Identifier("taken"), value: Binary { left: Identifier("taken"), operator: Add, right: Integer(1) } })] }), else_branch: None })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 517 for 'obj'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 517 for 'obj'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=517 property='takeable' -> temp_id=530
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 IF_CONDITION_DEBUG: condition_temp=533 for if statement at line 0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if statement: then=534, else=535, end=536
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding then label 534
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 3 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type Expression(FunctionCall { name: "move", arguments: [Identifier("obj"), Identifier("player")] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 517 for 'obj'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 1 of type Expression(FunctionCall { name: "print", arguments: [Binary { left: PropertyAccess { object: Identifier("obj"), property: "name" }, operator: Add, right: String(": Taken.") }] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 517 for 'obj'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 PROPERTY_ACCESS_DEBUG: object_temp=517 property='name' -> temp_id=541
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 2 of type Assignment(AssignmentStmt { target: Identifier("taken"), value: Binary { left: Identifier("taken"), operator: Add, right: Integer(1) } })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 515 for 'taken'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding jump to end label 536
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding else label 535
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding end label 536
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 3 of type If(IfStmt { condition: Binary { left: Identifier("taken"), operator: Equal, right: Integer(0) }, then_branch: Block(BlockStmt { statements: [Expression(FunctionCall { name: "print", arguments: [String("There's nothing here to take.")] })] }), else_branch: None })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] ✅ IR_FIX: Reusing existing variable ID 515 for 'taken'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔍 IF_CONDITION_DEBUG: condition_temp=550 for if statement at line 0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if statement: then=551, else=552, end=553
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding then label 551
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 1 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type Expression(FunctionCall { name: "print", arguments: [String("There's nothing here to take.")] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding jump to end label 553
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding else label 552
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR if: Adding end label 553
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] 🔧 IR_DEBUG: Creating IrFunction 'take_all' with 0 parameters
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing 9 statements
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 0 of type Assignment(AssignmentStmt { target: PropertyAccess { object: Identifier("player"), property: "location" }, value: Identifier("west_of_house") })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 1 of type Assignment(AssignmentStmt { target: PropertyAccess { object: Identifier("west_of_house"), property: "visited" }, value: Boolean(true) })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 2 of type Expression(FunctionCall { name: "print", arguments: [String("DORK I: The Last Great Empire")] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 3 of type Expression(FunctionCall { name: "print", arguments: [String("Copyright (c) 2025 Grue Games. All rights reserved.")] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 4 of type Expression(FunctionCall { name: "print", arguments: [String("ZORK is a registered trademark of Infocom, Inc.")] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 5 of type Expression(FunctionCall { name: "print", arguments: [String("DORK is .... not")] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 6 of type Expression(FunctionCall { name: "print", arguments: [String("Revision 1 / Serial number 8675309")] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 7 of type Expression(FunctionCall { name: "print", arguments: [String("")] })
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::ir] IR generate_block: Processing statement 8 of type Expression(FunctionCall { name: "look_around", arguments: [] })
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen] 🚀 COMPLETE Z-MACHINE FILE GENERATION: Starting comprehensive game image generation
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen_utils]  IR INVENTORY: Comprehensive input analysis
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen_utils]   ├─ Functions: 14 definitions
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen_utils]   ├─ Init block: present
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen_utils]   ├─ Grammar rules: 16 rules
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen_utils]   ├─ Objects: 5 definitions
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen_utils]   ├─ Rooms: 8 definitions
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen_utils]   ├─ String table: 0 strings
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen_utils]   └─ Total IR instructions: 560 instructions
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_utils] 📋 Function #0: 'look_around' with 25 instructions
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_utils] 📋 Function #1: 'examine' with 17 instructions
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_utils] 📋 Function #2: 'handle_open' with 55 instructions
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_utils] 📋 Function #3: 'handle_close' with 33 instructions
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_utils] 📋 Function #4: 'handle_take' with 44 instructions
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_utils] 📋 Function #5: 'handle_drop' with 16 instructions
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_utils] 📋 Function #6: 'show_inventory' with 40 instructions
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_utils] 📋 Function #7: 'handle_go' with 74 instructions
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_utils] 📋 Function #8: 'handle_climb' with 16 instructions
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_utils] 📋 Function #9: 'handle_read' with 22 instructions
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_utils] 📋 Function #10: 'player_can_see' with 35 instructions
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_utils] 📋 Function #11: 'list_objects' with 77 instructions
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_utils] 📋 Function #12: 'list_contents' with 29 instructions
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_utils] 📋 Function #13: 'take_all' with 58 instructions
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_utils] 📋 Init Block: 19 instructions
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_utils] 📊 IR INSTRUCTION BREAKDOWN:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_utils]   ├─ Discriminant(10: 129
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_utils]   ├─ Discriminant(0: 107
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_utils]   ├─ Discriminant(13: 69
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_utils]   ├─ Discriminant(5: 58
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_utils]   ├─ Discriminant(8: 43
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_utils]   ├─ Discriminant(9: 43
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_utils]   ├─ Discriminant(3: 42
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_utils]   ├─ Discriminant(2: 23
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_utils]   ├─ Discriminant(7: 14
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_utils]   ├─ Discriminant(4: 10
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_utils]   ├─ Discriminant(6: 6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_utils]   ├─ Discriminant(17: 5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_utils]   ├─ Discriminant(14: 5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_utils]   ├─ Discriminant(1: 5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_utils]   ├─ Discriminant(22: 1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_utils]  IR VALIDATION: Checking input completeness
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_utils]  IR VALIDATION: Input appears valid (560 total instructions)
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen] 📋 Phase 1: Content analysis and preparation
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LAYOUT_DEBUG: Starting memory layout planning
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Allocated input buffers at: text=0x0220, parse=0x0260
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PROPERTY_ADDR_INIT: Final memory property_table_addr=0x033e, object space current_property_addr=0x00bc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Property table address: 0x033e, estimated objects: 13, allocation starts at: 0x00bc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Dictionary address (static memory base): 0x05c8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Initial string layout starting at 0x09b0, 0 strings
[2025-09-12T15:05:07Z WARN  gruesome::grue_compiler::codegen_headers] 🔄 FINAL_ASSEMBLY_ADDRESS_UPDATE: Layout phase - code start position | 0x0040 → 0x09b0 (delta: +2416)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Layout phase complete: final_assembly_address=0x09b0
[2025-09-12T15:05:07Z WARN  gruesome::grue_compiler::codegen] COMPREHENSIVE SCAN: Found 331 unique IR IDs used in instructions
[2025-09-12T15:05:07Z WARN  gruesome::grue_compiler::codegen] All used IR IDs: [1, 8, 11, 12, 13, 41, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 76, 77, 78, 79, 83, 85, 86, 87, 88, 89, 90, 91, 92, 97, 98, 100, 101, 102, 104, 105, 110, 111, 112, 113, 118, 119, 120, 125, 126, 128, 129, 130, 131, 132, 133, 137, 138, 139, 144, 145, 146, 147, 148, 149, 150, 151, 153, 154, 159, 160, 161, 162, 167, 168, 169, 170, 175, 176, 178, 179, 180, 181, 183, 184, 185, 190, 191, 192, 193, 198, 199, 200, 201, 202, 203, 204, 205, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 224, 225, 226, 231, 232, 233, 234, 235, 236, 237, 238, 240, 241, 242, 243, 248, 254, 255, 257, 258, 259, 260, 261, 265, 266, 267, 268, 270, 271, 272, 273, 274, 275, 278, 279, 280, 281, 283, 284, 288, 293, 294, 295, 300, 301, 302, 303, 304, 309, 310, 311, 312, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 330, 331, 332, 333, 337, 338, 340, 341, 342, 343, 344, 345, 346, 351, 352, 354, 355, 356, 358, 359, 364, 365, 366, 367, 372, 373, 374, 376, 377, 378, 380, 381, 382, 383, 384, 385, 386, 387, 392, 393, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 408, 409, 410, 412, 413, 414, 419, 420, 421, 422, 423, 424, 428, 429, 430, 431, 433, 434, 439, 440, 444, 445, 446, 447, 448, 452, 453, 458, 459, 460, 464, 465, 466, 467, 469, 470, 471, 472, 473, 474, 475, 476, 477, 479, 480, 481, 486, 487, 488, 489, 493, 494, 495, 496, 498, 499, 500, 501, 502, 503, 505, 506, 507, 508, 509, 514, 515, 516, 517, 518, 519, 523, 524, 525, 526, 528, 529, 530, 531, 532, 533, 538, 539, 540, 541, 542, 543, 544, 545, 546, 547, 548, 549, 550, 555, 556, 558, 559, 560, 561, 562, 563, 564, 565, 566, 567, 568, 569, 570, 571, 572, 573, 574]
[2025-09-12T15:05:07Z WARN  gruesome::grue_compiler::codegen] Comprehensive scan complete. 331 IDs found. No fallback mappings created.
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] Starting property analysis...
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] Using IR property 'contents' -> number 21 (from PropertyManager)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] Using IR property 'description' -> number 7 (from PropertyManager)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] Using IR property 'visited' -> number 14 (from PropertyManager)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] Using IR property 'long_name' -> number 2 (from PropertyManager)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] Using IR property 'article' -> number 11 (from PropertyManager)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] Using IR property 'blocked' -> number 24 (from PropertyManager)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] Using IR property 'message' -> number 25 (from PropertyManager)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] Using IR property 'valuable' -> number 18 (from PropertyManager)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] Using IR property 'exits' -> number 22 (from PropertyManager)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] Using IR property 'destination' -> number 27 (from PropertyManager)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] Using IR property 'life' -> number 6 (from PropertyManager)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] Using IR property 'capacity' -> number 8 (from PropertyManager)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] Using IR property 'on_exit' -> number 26 (from PropertyManager)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] Using IR property 'open' -> number 17 (from PropertyManager)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] Using IR property 'empty' -> number 20 (from PropertyManager)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] Using IR property 'on_look' -> number 19 (from PropertyManager)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] Using IR property 'initial' -> number 3 (from PropertyManager)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] Using IR property 'takeable' -> number 30 (from PropertyManager)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] Using IR property 'none' -> number 23 (from PropertyManager)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] Using IR property 'short_name' -> number 1 (from PropertyManager)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] Using IR property 'on_enter' -> number 28 (from PropertyManager)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] Using IR property 'size' -> number 10 (from PropertyManager)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] Using IR property 'after' -> number 5 (from PropertyManager)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] Using IR property 'adjective' -> number 12 (from PropertyManager)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] Using IR property 'container' -> number 16 (from PropertyManager)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] Using IR property 'add' -> number 29 (from PropertyManager)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] Using IR property 'value' -> number 9 (from PropertyManager)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] Using IR property 'openable' -> number 15 (from PropertyManager)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] Using IR property 'location' -> number 13 (from PropertyManager)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] Using IR property 'before' -> number 4 (from PropertyManager)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] Object property usage analysis complete. 14 objects analyzed.
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] Property analysis complete. 30 properties registered.
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Created new string ID 1000 for 'West of House'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🏠 Collected room display name: 'West of House' -> ID 1000
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Created new string ID 1001 for 'You are standing in an open field west of a white house, with a boarded front door.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🏠 Collected room description: 'You are standing in an open field west of a white house, with a boarded front door.' -> ID 1001
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Created new string ID 1002 for 'North of House'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🏠 Collected room display name: 'North of House' -> ID 1002
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Created new string ID 1003 for 'You are facing the north side of a white house. There is no door here, and all the windows are boarded up. To the north a narrow path winds through the trees.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🏠 Collected room description: 'You are facing the north side of a white house. There is no door here, and all the windows are boarded up. To the north a narrow path winds through the trees.' -> ID 1003
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Created new string ID 1004 for 'South of House'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🏠 Collected room display name: 'South of House' -> ID 1004
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Created new string ID 1005 for 'You are facing the south side of a white house. A path leads to the east.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🏠 Collected room description: 'You are facing the south side of a white house. A path leads to the east.' -> ID 1005
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Created new string ID 1006 for 'Behind House'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🏠 Collected room display name: 'Behind House' -> ID 1006
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Created new string ID 1007 for 'You are behind the white house. A path leads into the forest to the east. In one corner of the house there is a small window which is slightly ajar.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🏠 Collected room description: 'You are behind the white house. A path leads into the forest to the east. In one corner of the house there is a small window which is slightly ajar.' -> ID 1007
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Created new string ID 1008 for 'Forest Path'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🏠 Collected room display name: 'Forest Path' -> ID 1008
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Created new string ID 1009 for 'This is a path winding through a dimly lit forest. The path heads north-south here. One particularly large tree with some low branches stands at the edge of the path.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🏠 Collected room description: 'This is a path winding through a dimly lit forest. The path heads north-south here. One particularly large tree with some low branches stands at the edge of the path.' -> ID 1009
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Created new string ID 1010 for 'Up a Tree'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🏠 Collected room display name: 'Up a Tree' -> ID 1010
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Created new string ID 1011 for 'You are about 10 feet above the ground nestled among some large branches. The nearest branch above you is above your reach.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🏠 Collected room description: 'You are about 10 feet above the ground nestled among some large branches. The nearest branch above you is above your reach.' -> ID 1011
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Created new string ID 1012 for 'Forest'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🏠 Collected room display name: 'Forest' -> ID 1012
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Created new string ID 1013 for 'This is a forest, with trees in all directions. To the east, there appears to be sunlight.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🏠 Collected room description: 'This is a forest, with trees in all directions. To the east, there appears to be sunlight.' -> ID 1013
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Created new string ID 1014 for 'Forest Clearing'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🏠 Collected room display name: 'Forest Clearing' -> ID 1014
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Created new string ID 1015 for 'You are in a clearing, with a forest surrounding you on all sides. A path leads south.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🏠 Collected room description: 'You are in a clearing, with a forest surrounding you on all sides. A path leads south.' -> ID 1015
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Created new string ID 1016 for 'small mailbox'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 📦 Collected object short name: 'small mailbox' -> ID 1016
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Created new string ID 1017 for '[expression]'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 📦 Collected object description: '[expression]' -> ID 1017
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 📦 Collected object name: 'small mailbox' -> ID 1016
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Created new string ID 1018 for 'mailbox'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 📦 Collected object name: 'mailbox' -> ID 1018
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Created new string ID 1019 for 'box'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 📦 Collected object name: 'box' -> ID 1019
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 📦 Collected object property string: 'mailbox' -> ID 1018
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 📦 Collected object property string: '[expression]' -> ID 1017
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Created new string ID 1020 for 'leaflet'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 📦 Collected object short name: 'leaflet' -> ID 1020
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 📦 Collected object description: '[expression]' -> ID 1017
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 📦 Collected object name: 'leaflet' -> ID 1020
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Created new string ID 1021 for 'paper'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 📦 Collected object name: 'paper' -> ID 1021
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 📦 Collected object property string: 'leaflet' -> ID 1020
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 📦 Collected object property string: '[expression]' -> ID 1017
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Created new string ID 1022 for 'window'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 📦 Collected object short name: 'window' -> ID 1022
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 📦 Collected object description: '[expression]' -> ID 1017
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 📦 Collected object name: 'window' -> ID 1022
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Created new string ID 1023 for 'small window'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 📦 Collected object name: 'small window' -> ID 1023
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 📦 Collected object property string: '[expression]' -> ID 1017
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 📦 Collected object property string: 'window' -> ID 1022
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Created new string ID 1024 for 'bird's nest'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 📦 Collected object short name: 'bird's nest' -> ID 1024
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 📦 Collected object description: '[expression]' -> ID 1017
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 📦 Collected object name: 'bird's nest' -> ID 1024
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Created new string ID 1025 for 'nest'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 📦 Collected object name: 'nest' -> ID 1025
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 📦 Collected object property string: 'nest' -> ID 1025
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 📦 Collected object property string: '[expression]' -> ID 1017
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Created new string ID 1026 for 'jewel-encrusted egg'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 📦 Collected object short name: 'jewel-encrusted egg' -> ID 1026
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 📦 Collected object description: '[expression]' -> ID 1017
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 📦 Collected object name: 'jewel-encrusted egg' -> ID 1026
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Created new string ID 1027 for 'egg'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 📦 Collected object name: 'egg' -> ID 1027
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Created new string ID 1028 for 'large egg'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 📦 Collected object name: 'large egg' -> ID 1028
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 📦 Collected object property string: '[expression]' -> ID 1017
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 📦 Collected object property string: 'egg' -> ID 1027
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Created new string ID 1029 for '> '
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🎯 Allocated main loop prompt string ID: 1029
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoding 69 strings using Z-Machine ZSCII
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'You can't see any such thing.' -> 32 Z-chars -> 22 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'You can't see any such thing.' -> 32 Z-chars -> 22 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'You can't open that.' -> 23 Z-chars -> 16 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'It's already open.' -> 21 Z-chars -> 14 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'Opened.' -> 9 Z-chars -> 6 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'The ' -> 5 Z-chars -> 4 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string ' contains:' -> 11 Z-chars -> 8 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'You can't see any such thing.' -> 32 Z-chars -> 22 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'You can't close that.' -> 24 Z-chars -> 16 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'It's already closed.' -> 23 Z-chars -> 16 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'Closed.' -> 9 Z-chars -> 6 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'You already have that.' -> 24 Z-chars -> 16 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'You can't see any such thing.' -> 32 Z-chars -> 22 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'The ' -> 5 Z-chars -> 4 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string ' is closed.' -> 12 Z-chars -> 8 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'Taken.' -> 8 Z-chars -> 6 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'You don't have that.' -> 23 Z-chars -> 16 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'Dropped.' -> 10 Z-chars -> 8 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'You are empty-handed.' -> 24 Z-chars -> 16 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'You are carrying:' -> 19 Z-chars -> 14 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string '  ' -> 2 Z-chars -> 2 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'You can't go that way.' -> 25 Z-chars -> 18 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'up' -> 2 Z-chars -> 2 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'You can't climb that.' -> 24 Z-chars -> 16 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'You can't see any such thing.' -> 32 Z-chars -> 22 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'There's nothing to read on that.' -> 35 Z-chars -> 24 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'There is ' -> 10 Z-chars -> 8 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string ' here.' -> 7 Z-chars -> 6 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string '  ' -> 2 Z-chars -> 2 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string ': Taken.' -> 11 Z-chars -> 8 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'There's nothing here to take.' -> 32 Z-chars -> 22 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'DORK I: The Last Great Empire' -> 39 Z-chars -> 26 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'Copyright (c) 2025 Grue Games. All rights reserved.' -> 63 Z-chars -> 42 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'ZORK is a registered trademark of Infocom, Inc.' -> 55 Z-chars -> 38 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'DORK is .... not' -> 24 Z-chars -> 16 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'Revision 1 / Serial number 8675309' -> 45 Z-chars -> 30 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string '' -> 0 Z-chars -> 2 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'West of House' -> 15 Z-chars -> 10 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'You are standing in an open field west of a white house, with a boarded front door.' -> 86 Z-chars -> 58 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'Welcome to Zork!' -> 19 Z-chars -> 14 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'North of House' -> 16 Z-chars -> 12 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'You are facing the north side of a white house. There is no door here, and all the windows are boarded up. To the north a narrow path winds through the trees.' -> 165 Z-chars -> 110 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'South of House' -> 16 Z-chars -> 12 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'You are facing the south side of a white house. A path leads to the east.' -> 77 Z-chars -> 52 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'Behind House' -> 14 Z-chars -> 10 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'You are behind the white house. A path leads into the forest to the east. In one corner of the house there is a small window which is slightly ajar.' -> 154 Z-chars -> 104 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'Through the open window you can see into what appears to be a kitchen.' -> 72 Z-chars -> 48 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'Forest Path' -> 13 Z-chars -> 10 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'This is a path winding through a dimly lit forest. The path heads north-south here. One particularly large tree with some low branches stands at the edge of the path.' -> 173 Z-chars -> 116 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'Up a Tree' -> 11 Z-chars -> 8 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'You are about 10 feet above the ground nestled among some large branches. The nearest branch above you is above your reach.' -> 129 Z-chars -> 86 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'Forest' -> 7 Z-chars -> 6 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'This is a forest, with trees in all directions. To the east, there appears to be sunlight.' -> 96 Z-chars -> 64 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'Forest Clearing' -> 17 Z-chars -> 12 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'You are in a clearing, with a forest surrounding you on all sides. A path leads south.' -> 91 Z-chars -> 62 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'small mailbox' -> 13 Z-chars -> 10 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string '[expression]' -> 18 Z-chars -> 12 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'mailbox' -> 7 Z-chars -> 6 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'box' -> 3 Z-chars -> 2 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'leaflet' -> 7 Z-chars -> 6 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'paper' -> 5 Z-chars -> 4 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'window' -> 6 Z-chars -> 4 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'small window' -> 12 Z-chars -> 8 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'bird's nest' -> 12 Z-chars -> 8 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'nest' -> 4 Z-chars -> 4 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'jewel-encrusted egg' -> 20 Z-chars -> 14 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'egg' -> 3 Z-chars -> 2 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'large egg' -> 9 Z-chars -> 6 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string '> ' -> 5 Z-chars -> 4 bytes
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]  Phase 1 complete: Content analysis and string encoding finished
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen] 🏗️ Phase 2: Generate ALL Z-Machine sections to separated memory spaces
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen] 🏗️ Phase 2: Generating ALL Z-Machine sections to separated memory spaces
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 Step 2a: Generating string space
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_DEBUG: encoded_strings contains 69 entries
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] ❌ STRING_DEBUG: String ID 148 is NOT in encoded_strings
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_DEBUG: Available encoded string IDs: [100, 110, 118, 125, 129, 144, 147, 159, 167, 175, 179, 190, 198, 210, 214, 220, 231, 237, 254, 257, 270, 293, 351, 354, 364, 376, 469, 472, 498, 542, 555, 562, 564, 566, 568, 570, 572, 1000, 1001, 39, 1002, 1003, 1004, 1005, 1006, 1007, 53, 1008, 1009, 1010, 1011, 1012, 1013, 1014, 1015, 1016, 1017, 1018, 1019, 1020, 1021, 1022, 1023, 1024, 1025, 1026, 1027, 1028, 1029]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=100, offset=0x0000, size=22
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=110, offset=0x0016, size=22
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=118, offset=0x002c, size=16
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=125, offset=0x003c, size=14
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=129, offset=0x004a, size=6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=144, offset=0x0050, size=4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=147, offset=0x0054, size=8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=159, offset=0x005c, size=22
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=167, offset=0x0072, size=16
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=175, offset=0x0082, size=16
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=179, offset=0x0092, size=6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=190, offset=0x0098, size=16
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=198, offset=0x00a8, size=22
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=210, offset=0x00be, size=4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=214, offset=0x00c2, size=8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=220, offset=0x00ca, size=6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=231, offset=0x00d0, size=16
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=237, offset=0x00e0, size=8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=254, offset=0x00e8, size=16
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=257, offset=0x00f8, size=14
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=270, offset=0x0106, size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=293, offset=0x0108, size=18
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=351, offset=0x011a, size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=354, offset=0x011c, size=16
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=364, offset=0x012c, size=22
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=376, offset=0x0142, size=24
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=469, offset=0x015a, size=8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=472, offset=0x0162, size=6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=498, offset=0x0168, size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=542, offset=0x016a, size=8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=555, offset=0x0172, size=22
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=562, offset=0x0188, size=26
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=564, offset=0x01a2, size=42
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=566, offset=0x01cc, size=38
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=568, offset=0x01f2, size=16
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=570, offset=0x0202, size=30
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=572, offset=0x0220, size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=1000, offset=0x0222, size=10
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=1001, offset=0x022c, size=58
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=39, offset=0x0266, size=14
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=1002, offset=0x0274, size=12
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=1003, offset=0x0280, size=110
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=1004, offset=0x02ee, size=12
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=1005, offset=0x02fa, size=52
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=1006, offset=0x032e, size=10
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=1007, offset=0x0338, size=104
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=53, offset=0x03a0, size=48
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=1008, offset=0x03d0, size=10
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=1009, offset=0x03da, size=116
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=1010, offset=0x044e, size=8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=1011, offset=0x0456, size=86
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=1012, offset=0x04ac, size=6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=1013, offset=0x04b2, size=64
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=1014, offset=0x04f2, size=12
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=1015, offset=0x04fe, size=62
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=1016, offset=0x053c, size=10
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=1017, offset=0x0546, size=12
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=1018, offset=0x0552, size=6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=1019, offset=0x0558, size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=1020, offset=0x055a, size=6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=1021, offset=0x0560, size=4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=1022, offset=0x0564, size=4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=1023, offset=0x0568, size=8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=1024, offset=0x0570, size=8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=1025, offset=0x0578, size=4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=1026, offset=0x057c, size=14
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=1027, offset=0x058a, size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=1028, offset=0x058c, size=6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=1029, offset=0x0592, size=4
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]  Step 2a complete: String space populated (1430 bytes)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🏠 Step 2b: Generating object space
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📋 Generating full object table for Interactive program
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects]  Object table generation setup: starting address 0x0000
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen_objects] 🏗️  === OBJECT TABLE GENERATION DEBUG ===
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen_objects] 🏗️  Target version: V3
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen_objects] 🏗️  IR contains: 8 rooms, 5 objects
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] Generating property defaults table (31 entries)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 🏗️ OBJECT_ALLOCATED: offset=0x0000, size=1188
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects]  Object space allocated: 1188 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0000 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0001 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0002 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0003 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0004 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0005 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0006 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0007 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0008 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0009 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x000a (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x000b (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x000c (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x000d (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x000e (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x64 at offset 0x000f (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0010 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0011 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0012 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x05 at offset 0x0013 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0014 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0015 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0016 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0017 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0018 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0019 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x001a (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x001b (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x001c (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x001d (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x001e (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x001f (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0020 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0021 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0022 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0023 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0024 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0025 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0026 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0027 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0028 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0029 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x002a (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x002b (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x002c (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x002d (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x002e (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x002f (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0030 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0031 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0032 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0033 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0034 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0035 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0036 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0037 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0038 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0039 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x003a (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x003b (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x003c (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x003d (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] Object entries start at offset 62
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] Creating player object as object #1 for Frotz compatibility
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] PROPERTY DEBUG: Setting player location property 13 to value 2 (0x0002)
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen_objects] 🏗️  Object #1: PLAYER - location property 13 = 2, desc property 7 = 'yourself'
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen_objects] 🏗️  Object #2: ROOM 'west_of_house' (ID: 28, short: 'West of House')
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen_objects] 🏗️  Object #3: ROOM 'north_of_house' (ID: 42, short: 'North of House')
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen_objects] 🏗️  Object #4: ROOM 'south_of_house' (ID: 43, short: 'South of House')
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen_objects] 🏗️  Object #5: ROOM 'behind_house' (ID: 44, short: 'Behind House')
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen_objects] 🏗️  Object #6: ROOM 'forest_path' (ID: 55, short: 'Forest Path')
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen_objects] 🏗️  Object #7: ROOM 'tree' (ID: 56, short: 'Up a Tree')
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen_objects] 🏗️  Object #8: ROOM 'forest' (ID: 59, short: 'Forest')
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen_objects] 🏗️  Object #9: ROOM 'clearing' (ID: 60, short: 'Forest Clearing')
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen_objects] 🏗️  Object #10: OBJECT 'mailbox' (ID: 29, short: 'small mailbox')
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen_objects] 🏗️  Object #11: OBJECT 'leaflet' (ID: 30, short: 'leaflet')
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen_objects] 🏗️  Object #12: OBJECT 'window' (ID: 45, short: 'window')
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen_objects] 🏗️  Object #13: OBJECT 'nest' (ID: 57, short: 'bird's nest')
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen_objects] 🏗️  Object #14: OBJECT 'egg' (ID: 58, short: 'jewel-encrusted egg')
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen_objects] 🏗️  === OBJECT ID MAPPING ===
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen_objects] 🏗️  Total objects to generate: 14 (8 rooms + 5 objects + 1 player)
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen_objects] 🏗️  ID Mapping: IR ID 9999 → Object #1 ('yourself')
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen_objects] 🏗️  ID Mapping: IR ID 28 → Object #2 ('West of House')
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen_objects] 🏗️  ID Mapping: IR ID 42 → Object #3 ('North of House')
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen_objects] 🏗️  ID Mapping: IR ID 43 → Object #4 ('South of House')
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen_objects] 🏗️  ID Mapping: IR ID 44 → Object #5 ('Behind House')
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen_objects] 🏗️  ID Mapping: IR ID 55 → Object #6 ('Forest Path')
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen_objects] 🏗️  ID Mapping: IR ID 56 → Object #7 ('Up a Tree')
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen_objects] 🏗️  ID Mapping: IR ID 59 → Object #8 ('Forest')
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen_objects] 🏗️  ID Mapping: IR ID 60 → Object #9 ('Forest Clearing')
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen_objects] 🏗️  ID Mapping: IR ID 29 → Object #10 ('small mailbox')
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen_objects] 🏗️  ID Mapping: IR ID 30 → Object #11 ('leaflet')
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen_objects] 🏗️  ID Mapping: IR ID 45 → Object #12 ('window')
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen_objects] 🏗️  ID Mapping: IR ID 57 → Object #13 ('bird's nest')
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen_objects] 🏗️  ID Mapping: IR ID 58 → Object #14 ('jewel-encrusted egg')
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OBJECT LAYOUT: Object 1 ('yourself'):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Property defaults size: 62 bytes (0x3e)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Object entry size: 9 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Object offset calculation: 62 + (1 - 1) * 9 = 0x003e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x003e (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x003f (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0040 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0041 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0042 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0043 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0044 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x00bc (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing text_length=0 at addr=0x00bc for object 'yourself'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Object 'yourself': name_bytes.len()=8, text_length=0, addr=0x00bc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: After text_length, addr=0x00bd, about to write properties
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 13: size_byte=0x2d, data_len=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2d at offset 0x00bd (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0x2d at addr=0x00bd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x00be (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x00 at addr=0x00be
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x02 at offset 0x00bf (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 1=0x02 at addr=0x00bf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'yourself' -> 8 Z-chars -> 6 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 7: size_byte=0xa7, data_len=6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xa7 at offset 0x00c0 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0xa7 at addr=0x00c0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x7a at offset 0x00c1 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x7a at addr=0x00c1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x9a at offset 0x00c2 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 1=0x9a at addr=0x00c2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x5f at offset 0x00c3 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 2=0x5f at addr=0x00c3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x0a at offset 0x00c4 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 3=0x0a at addr=0x00c4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xc5 at offset 0x00c5 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 4=0xc5 at addr=0x00c5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x60 at offset 0x00c6 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 5=0x60 at addr=0x00c6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x00c7 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing terminator 0x00 at addr=0x00c7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Property table for 'yourself' complete: 0x00bc-0x00c7 (12 bytes)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Property table for 'yourself' (object #1) created at 0x00bc with 2 properties: [7, 13]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PROPERTY TABLE: create_property_table_from_ir for object 1 ('yourself'):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Started at prop_table_addr (current_property_addr): 0x00bc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Final addr after writing all properties: 0x00c8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Updated current_property_addr to: 0x00c8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - RETURNING property table address: 0x00bc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OBJECT ENTRY: Object 1 ('yourself') property table creation:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - create_property_table_from_ir returned: 0x00bc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Writing to object space offset: 0x003e + 7 = 0x0045
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - High byte: 0x00 -> object_space[0x0045]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Low byte:  0xbc -> object_space[0x0046]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0045 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xbc at offset 0x0046 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Verification: Read back from object_space = 0x00bc (high=0x00, low=0xbc)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Created object #1: 'yourself' at offset 0x003e, attributes=0x00000000, prop_table=0x00bc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OBJECT LAYOUT: Object 2 ('West of House'):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Property defaults size: 62 bytes (0x3e)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Object entry size: 9 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Object offset calculation: 62 + (2 - 1) * 9 = 0x0047
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0047 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0048 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0049 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x004a (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x004b (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x004c (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x004d (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x00c8 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing text_length=0 at addr=0x00c8 for object 'West of House'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Object 'West of House': name_bytes.len()=8, text_length=0, addr=0x00c8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: After text_length, addr=0x00c9, about to write properties
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 19: size_byte=0x13, data_len=1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x13 at offset 0x00c9 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0x13 at addr=0x00c9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x00ca (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x00 at addr=0x00ca
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 14: size_byte=0x0e, data_len=1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x0e at offset 0x00cb (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0x0e at addr=0x00cb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x00cc (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x00 at addr=0x00cc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 13: size_byte=0x2d, data_len=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2d at offset 0x00cd (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0x2d at addr=0x00cd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x00ce (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x00 at addr=0x00ce
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x00cf (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 1=0x00 at addr=0x00cf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'You are standing in an open field west of a white house, with a boarded front door.' -> 86 Z-chars -> 58 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 7: size_byte=0xe7, data_len=58
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xe7 at offset 0x00d0 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0xe7 at addr=0x00d0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x13 at offset 0x00d1 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x13 at addr=0x00d1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xd4 at offset 0x00d2 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 1=0xd4 at addr=0x00d2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x68 at offset 0x00d3 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 2=0x68 at addr=0x00d3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x06 at offset 0x00d4 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 3=0x06 at addr=0x00d4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x5d at offset 0x00d5 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 4=0x5d at addr=0x00d5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x40 at offset 0x00d6 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 5=0x40 at addr=0x00d6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x63 at offset 0x00d7 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 6=0x63 at addr=0x00d7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x26 at offset 0x00d8 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 7=0x26 at addr=0x00d8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x4d at offset 0x00d9 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 8=0x4d at addr=0x00d9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2e at offset 0x00da (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 9=0x2e at addr=0x00da
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x4d at offset 0x00db (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 10=0x4d at addr=0x00db
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x80 at offset 0x00dc (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 11=0x80 at addr=0x00dc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x3a at offset 0x00dd (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 12=0x3a at addr=0x00dd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x60 at offset 0x00de (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 13=0x60 at addr=0x00de
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x1a at offset 0x00df (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 14=0x1a at addr=0x00df
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x60 at offset 0x00e0 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 15=0x60 at addr=0x00e0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x52 at offset 0x00e1 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 16=0x52 at addr=0x00e1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xaa at offset 0x00e2 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 17=0xaa at addr=0x00e2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x4c at offset 0x00e3 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 18=0x4c at addr=0x00e3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x0b at offset 0x00e4 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 19=0x0b at addr=0x00e4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x39 at offset 0x00e5 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 20=0x39 at addr=0x00e5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x51 at offset 0x00e6 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 21=0x51 at addr=0x00e6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x24 at offset 0x00e7 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 22=0x24 at addr=0x00e7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x1c at offset 0x00e8 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 23=0x1c at addr=0x00e8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2b at offset 0x00e9 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 24=0x2b at addr=0x00e9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x19 at offset 0x00ea (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 25=0x19 at addr=0x00ea
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x02 at offset 0x00eb (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 26=0x02 at addr=0x00eb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x8b at offset 0x00ec (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 27=0x8b at addr=0x00ec
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x00ed (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 28=0x00 at addr=0x00ed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xc0 at offset 0x00ee (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 29=0xc0 at addr=0x00ee
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x71 at offset 0x00ef (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 30=0x71 at addr=0x00ef
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xae at offset 0x00f0 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 31=0xae at addr=0x00f0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x65 at offset 0x00f1 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 32=0x65 at addr=0x00f1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x40 at offset 0x00f2 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 33=0x40 at addr=0x00f2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x36 at offset 0x00f3 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 34=0x36 at addr=0x00f3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x9a at offset 0x00f4 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 35=0x9a at addr=0x00f4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x61 at offset 0x00f5 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 36=0x61 at addr=0x00f5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x45 at offset 0x00f6 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 37=0x45 at addr=0x00f6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x4c at offset 0x00f7 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 38=0x4c at addr=0x00f7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x1c at offset 0x00f8 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 39=0x1c at addr=0x00f8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x3b at offset 0x00f9 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 40=0x3b at addr=0x00f9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2d at offset 0x00fa (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 41=0x2d at addr=0x00fa
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x00fb (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 42=0x00 at addr=0x00fb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xc0 at offset 0x00fc (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 43=0xc0 at addr=0x00fc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x1e at offset 0x00fd (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 44=0x1e at addr=0x00fd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x86 at offset 0x00fe (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 45=0x86 at addr=0x00fe
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x5d at offset 0x00ff (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 46=0x5d at addr=0x00ff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2a at offset 0x0100 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 47=0x2a at addr=0x0100
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x24 at offset 0x0101 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 48=0x24 at addr=0x0101
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x0b at offset 0x0102 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 49=0x0b at addr=0x0102
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x5e at offset 0x0103 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 50=0x5e at addr=0x0103
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x93 at offset 0x0104 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 51=0x93 at addr=0x0104
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x64 at offset 0x0105 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 52=0x64 at addr=0x0105
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x09 at offset 0x0106 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 53=0x09 at addr=0x0106
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x52 at offset 0x0107 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 54=0x52 at addr=0x0107
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x97 at offset 0x0108 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 55=0x97 at addr=0x0108
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x96 at offset 0x0109 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 56=0x96 at addr=0x0109
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x40 at offset 0x010a (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 57=0x40 at addr=0x010a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x010b (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing terminator 0x00 at addr=0x010b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Property table for 'West of House' complete: 0x00c8-0x010b (68 bytes)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Property table for 'West of House' (object #2) created at 0x00c8 with 4 properties: [19, 14, 7, 13]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PROPERTY TABLE: create_property_table_from_ir for object 2 ('West of House'):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Started at prop_table_addr (current_property_addr): 0x00c8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Final addr after writing all properties: 0x010c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Updated current_property_addr to: 0x010c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - RETURNING property table address: 0x00c8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OBJECT ENTRY: Object 2 ('West of House') property table creation:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - create_property_table_from_ir returned: 0x00c8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Writing to object space offset: 0x0047 + 7 = 0x004e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - High byte: 0x00 -> object_space[0x004e]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Low byte:  0xc8 -> object_space[0x004f]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x004e (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xc8 at offset 0x004f (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Verification: Read back from object_space = 0x00c8 (high=0x00, low=0xc8)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Created object #2: 'West of House' at offset 0x0047, attributes=0x00000000, prop_table=0x00c8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OBJECT LAYOUT: Object 3 ('North of House'):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Property defaults size: 62 bytes (0x3e)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Object entry size: 9 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Object offset calculation: 62 + (3 - 1) * 9 = 0x0050
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0050 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0051 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0052 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0053 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0054 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0055 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0056 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x010c (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing text_length=0 at addr=0x010c for object 'North of House'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Object 'North of House': name_bytes.len()=8, text_length=0, addr=0x010c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: After text_length, addr=0x010d, about to write properties
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 19: size_byte=0x13, data_len=1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x13 at offset 0x010d (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0x13 at addr=0x010d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x010e (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x00 at addr=0x010e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 14: size_byte=0x0e, data_len=1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x0e at offset 0x010f (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0x0e at addr=0x010f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0110 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x00 at addr=0x0110
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 13: size_byte=0x2d, data_len=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2d at offset 0x0111 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0x2d at addr=0x0111
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0112 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x00 at addr=0x0112
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0113 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 1=0x00 at addr=0x0113
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'You are facing the north side of a white house. There is no door here, and all the windows are boarded up. To the north a narrow path winds through the trees.' -> 165 Z-chars -> 110 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 7: size_byte=0xe7, data_len=110
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xe7 at offset 0x0114 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0xe7 at addr=0x0114
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x13 at offset 0x0115 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x13 at addr=0x0115
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xd4 at offset 0x0116 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 1=0xd4 at addr=0x0116
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x68 at offset 0x0117 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 2=0x68 at addr=0x0117
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x06 at offset 0x0118 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 3=0x06 at addr=0x0118
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x5d at offset 0x0119 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 4=0x5d at addr=0x0119
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x40 at offset 0x011a (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 5=0x40 at addr=0x011a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2c at offset 0x011b (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 6=0x2c at addr=0x011b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xc8 at offset 0x011c (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 7=0xc8 at addr=0x011c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x3a at offset 0x011d (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 8=0x3a at addr=0x011d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x6c at offset 0x011e (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 9=0x6c at addr=0x011e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x03 at offset 0x011f (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 10=0x03 at addr=0x011f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2d at offset 0x0120 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 11=0x2d at addr=0x0120
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x28 at offset 0x0121 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 12=0x28 at addr=0x0121
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x13 at offset 0x0122 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 13=0x13 at addr=0x0122
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x52 at offset 0x0123 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 14=0x52 at addr=0x0123
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xf9 at offset 0x0124 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 15=0xf9 at addr=0x0124
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x34 at offset 0x0125 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 16=0x34 at addr=0x0125
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x18 at offset 0x0126 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 17=0x18 at addr=0x0126
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x39 at offset 0x0127 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 18=0x39 at addr=0x0127
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2a at offset 0x0128 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 19=0x2a at addr=0x0128
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x02 at offset 0x0129 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 20=0x02 at addr=0x0129
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x8b at offset 0x012a (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 21=0x8b at addr=0x012a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x012b (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 22=0x00 at addr=0x012b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xc0 at offset 0x012c (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 23=0xc0 at addr=0x012c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x71 at offset 0x012d (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 24=0x71 at addr=0x012d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xae at offset 0x012e (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 25=0xae at addr=0x012e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x65 at offset 0x012f (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 26=0x65 at addr=0x012f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x40 at offset 0x0130 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 27=0x40 at addr=0x0130
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x36 at offset 0x0131 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 28=0x36 at addr=0x0131
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x9a at offset 0x0132 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 29=0x9a at addr=0x0132
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x61 at offset 0x0133 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 30=0x61 at addr=0x0133
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x45 at offset 0x0134 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 31=0x45 at addr=0x0134
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x48 at offset 0x0135 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 32=0x48 at addr=0x0135
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x04 at offset 0x0136 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 33=0x04 at addr=0x0136
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x65 at offset 0x0137 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 34=0x65 at addr=0x0137
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xaa at offset 0x0138 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 35=0xaa at addr=0x0138
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x5d at offset 0x0139 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 36=0x5d at addr=0x0139
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x40 at offset 0x013a (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 37=0x40 at addr=0x013a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x3b at offset 0x013b (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 38=0x3b at addr=0x013b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x013c (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 39=0x00 at addr=0x013c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x4e at offset 0x013d (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 40=0x4e at addr=0x013d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x80 at offset 0x013e (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 41=0x80 at addr=0x013e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x26 at offset 0x013f (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 42=0x26 at addr=0x013f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x94 at offset 0x0140 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 43=0x94 at addr=0x0140
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x5c at offset 0x0141 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 44=0x5c at addr=0x0141
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x0d at offset 0x0142 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 45=0x0d at addr=0x0142
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2a at offset 0x0143 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 46=0x2a at addr=0x0143
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xea at offset 0x0144 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 47=0xea at addr=0x0144
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x16 at offset 0x0145 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 48=0x16 at addr=0x0145
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x60 at offset 0x0146 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 49=0x60 at addr=0x0146
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x1a at offset 0x0147 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 50=0x1a at addr=0x0147
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x69 at offset 0x0148 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 51=0x69 at addr=0x0148
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0149 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 52=0x00 at addr=0x0149
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xd1 at offset 0x014a (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 53=0xd1 at addr=0x014a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x44 at offset 0x014b (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 54=0x44 at addr=0x014b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x19 at offset 0x014c (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 55=0x19 at addr=0x014c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x35 at offset 0x014d (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 56=0x35 at addr=0x014d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x40 at offset 0x014e (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 57=0x40 at addr=0x014e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x71 at offset 0x014f (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 58=0x71 at addr=0x014f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xd3 at offset 0x0150 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 59=0xd3 at addr=0x0150
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x26 at offset 0x0151 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 60=0x26 at addr=0x0151
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x9c at offset 0x0152 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 61=0x9c at addr=0x0152
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x60 at offset 0x0153 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 62=0x60 at addr=0x0153
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x06 at offset 0x0154 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 63=0x06 at addr=0x0154
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x5d at offset 0x0155 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 64=0x5d at addr=0x0155
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x40 at offset 0x0156 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 65=0x40 at addr=0x0156
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x1e at offset 0x0157 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 66=0x1e at addr=0x0157
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x86 at offset 0x0158 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 67=0x86 at addr=0x0158
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x5d at offset 0x0159 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 68=0x5d at addr=0x0159
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2a at offset 0x015a (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 69=0x2a at addr=0x015a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x24 at offset 0x015b (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 70=0x24 at addr=0x015b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x1a at offset 0x015c (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 71=0x1a at addr=0x015c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x54 at offset 0x015d (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 72=0x54 at addr=0x015d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xb2 at offset 0x015e (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 73=0xb2 at addr=0x015e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x015f (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 74=0x00 at addr=0x015f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x99 at offset 0x0160 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 75=0x99 at addr=0x0160
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x50 at offset 0x0161 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 76=0x50 at addr=0x0161
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x19 at offset 0x0162 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 77=0x19 at addr=0x0162
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x35 at offset 0x0163 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 78=0x35 at addr=0x0163
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x40 at offset 0x0164 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 79=0x40 at addr=0x0164
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x4e at offset 0x0165 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 80=0x4e at addr=0x0165
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x97 at offset 0x0166 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 81=0x97 at addr=0x0166
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x65 at offset 0x0167 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 82=0x65 at addr=0x0167
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xa0 at offset 0x0168 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 83=0xa0 at addr=0x0168
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x18 at offset 0x0169 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 84=0x18 at addr=0x0169
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x13 at offset 0x016a (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 85=0x13 at addr=0x016a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x1a at offset 0x016b (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 86=0x1a at addr=0x016b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xf7 at offset 0x016c (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 87=0xf7 at addr=0x016c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x53 at offset 0x016d (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 88=0x53 at addr=0x016d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x80 at offset 0x016e (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 89=0x80 at addr=0x016e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x54 at offset 0x016f (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 90=0x54 at addr=0x016f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xd9 at offset 0x0170 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 91=0xd9 at addr=0x0170
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x34 at offset 0x0171 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 92=0x34 at addr=0x0171
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x1c at offset 0x0172 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 93=0x1c at addr=0x0172
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x3a at offset 0x0173 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 94=0x3a at addr=0x0173
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x69 at offset 0x0174 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 95=0x69 at addr=0x0174
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x60 at offset 0x0175 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 96=0x60 at addr=0x0175
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x19 at offset 0x0176 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 97=0x19 at addr=0x0176
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x36 at offset 0x0177 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 98=0x36 at addr=0x0177
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xf4 at offset 0x0178 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 99=0xf4 at addr=0x0178
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x69 at offset 0x0179 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 100=0x69 at addr=0x0179
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x8d at offset 0x017a (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 101=0x8d at addr=0x017a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x03 at offset 0x017b (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 102=0x03 at addr=0x017b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2d at offset 0x017c (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 103=0x2d at addr=0x017c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x28 at offset 0x017d (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 104=0x28 at addr=0x017d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x19 at offset 0x017e (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 105=0x19 at addr=0x017e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x5d at offset 0x017f (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 106=0x5d at addr=0x017f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x4a at offset 0x0180 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 107=0x4a at addr=0x0180
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xe0 at offset 0x0181 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 108=0xe0 at addr=0x0181
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xb2 at offset 0x0182 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 109=0xb2 at addr=0x0182
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0183 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing terminator 0x00 at addr=0x0183
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Property table for 'North of House' complete: 0x010c-0x0183 (120 bytes)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Property table for 'North of House' (object #3) created at 0x010c with 4 properties: [19, 7, 14, 13]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PROPERTY TABLE: create_property_table_from_ir for object 3 ('North of House'):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Started at prop_table_addr (current_property_addr): 0x010c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Final addr after writing all properties: 0x0184
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Updated current_property_addr to: 0x0184
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - RETURNING property table address: 0x010c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OBJECT ENTRY: Object 3 ('North of House') property table creation:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - create_property_table_from_ir returned: 0x010c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Writing to object space offset: 0x0050 + 7 = 0x0057
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - High byte: 0x01 -> object_space[0x0057]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Low byte:  0x0c -> object_space[0x0058]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x01 at offset 0x0057 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x0c at offset 0x0058 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Verification: Read back from object_space = 0x010c (high=0x01, low=0x0c)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Created object #3: 'North of House' at offset 0x0050, attributes=0x00000000, prop_table=0x010c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OBJECT LAYOUT: Object 4 ('South of House'):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Property defaults size: 62 bytes (0x3e)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Object entry size: 9 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Object offset calculation: 62 + (4 - 1) * 9 = 0x0059
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0059 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x005a (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x005b (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x005c (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x005d (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x005e (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x005f (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0184 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing text_length=0 at addr=0x0184 for object 'South of House'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Object 'South of House': name_bytes.len()=8, text_length=0, addr=0x0184
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: After text_length, addr=0x0185, about to write properties
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 19: size_byte=0x13, data_len=1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x13 at offset 0x0185 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0x13 at addr=0x0185
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0186 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x00 at addr=0x0186
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 14: size_byte=0x0e, data_len=1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x0e at offset 0x0187 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0x0e at addr=0x0187
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0188 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x00 at addr=0x0188
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 13: size_byte=0x2d, data_len=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2d at offset 0x0189 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0x2d at addr=0x0189
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x018a (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x00 at addr=0x018a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x018b (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 1=0x00 at addr=0x018b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'You are facing the south side of a white house. A path leads to the east.' -> 77 Z-chars -> 52 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 7: size_byte=0xe7, data_len=52
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xe7 at offset 0x018c (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0xe7 at addr=0x018c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x13 at offset 0x018d (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x13 at addr=0x018d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xd4 at offset 0x018e (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 1=0xd4 at addr=0x018e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x68 at offset 0x018f (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 2=0x68 at addr=0x018f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x06 at offset 0x0190 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 3=0x06 at addr=0x0190
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x5d at offset 0x0191 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 4=0x5d at addr=0x0191
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x40 at offset 0x0192 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 5=0x40 at addr=0x0192
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2c at offset 0x0193 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 6=0x2c at addr=0x0193
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xc8 at offset 0x0194 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 7=0xc8 at addr=0x0194
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x3a at offset 0x0195 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 8=0x3a at addr=0x0195
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x6c at offset 0x0196 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 9=0x6c at addr=0x0196
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x03 at offset 0x0197 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 10=0x03 at addr=0x0197
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2d at offset 0x0198 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 11=0x2d at addr=0x0198
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x28 at offset 0x0199 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 12=0x28 at addr=0x0199
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x18 at offset 0x019a (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 13=0x18 at addr=0x019a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x53 at offset 0x019b (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 14=0x53 at addr=0x019b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x59 at offset 0x019c (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 15=0x59 at addr=0x019c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x34 at offset 0x019d (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 16=0x34 at addr=0x019d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x18 at offset 0x019e (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 17=0x18 at addr=0x019e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x39 at offset 0x019f (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 18=0x39 at addr=0x019f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2a at offset 0x01a0 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 19=0x2a at addr=0x01a0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x02 at offset 0x01a1 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 20=0x02 at addr=0x01a1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x8b at offset 0x01a2 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 21=0x8b at addr=0x01a2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x01a3 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 22=0x00 at addr=0x01a3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xc0 at offset 0x01a4 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 23=0xc0 at addr=0x01a4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x71 at offset 0x01a5 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 24=0x71 at addr=0x01a5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xae at offset 0x01a6 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 25=0xae at addr=0x01a6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x65 at offset 0x01a7 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 26=0x65 at addr=0x01a7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x40 at offset 0x01a8 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 27=0x40 at addr=0x01a8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x36 at offset 0x01a9 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 28=0x36 at addr=0x01a9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x9a at offset 0x01aa (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 29=0x9a at addr=0x01aa
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x61 at offset 0x01ab (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 30=0x61 at addr=0x01ab
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x45 at offset 0x01ac (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 31=0x45 at addr=0x01ac
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x48 at offset 0x01ad (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 32=0x48 at addr=0x01ad
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x04 at offset 0x01ae (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 33=0x04 at addr=0x01ae
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x18 at offset 0x01af (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 34=0x18 at addr=0x01af
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x15 at offset 0x01b0 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 35=0x15 at addr=0x01b0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x1b at offset 0x01b1 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 36=0x1b at addr=0x01b1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2d at offset 0x01b2 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 37=0x2d at addr=0x01b2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x02 at offset 0x01b3 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 38=0x02 at addr=0x01b3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2a at offset 0x01b4 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 39=0x2a at addr=0x01b4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x19 at offset 0x01b5 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 40=0x19 at addr=0x01b5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x38 at offset 0x01b6 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 41=0x38 at addr=0x01b6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x03 at offset 0x01b7 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 42=0x03 at addr=0x01b7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x34 at offset 0x01b8 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 43=0x34 at addr=0x01b8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x03 at offset 0x01b9 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 44=0x03 at addr=0x01b9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2d at offset 0x01ba (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 45=0x2d at addr=0x01ba
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x28 at offset 0x01bb (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 46=0x28 at addr=0x01bb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x0a at offset 0x01bc (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 47=0x0a at addr=0x01bc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x1b at offset 0x01bd (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 48=0x1b at addr=0x01bd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x19 at offset 0x01be (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 49=0x19 at addr=0x01be
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x96 at offset 0x01bf (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 50=0x96 at addr=0x01bf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x40 at offset 0x01c0 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 51=0x40 at addr=0x01c0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x01c1 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing terminator 0x00 at addr=0x01c1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Property table for 'South of House' complete: 0x0184-0x01c1 (62 bytes)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Property table for 'South of House' (object #4) created at 0x0184 with 4 properties: [13, 19, 7, 14]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PROPERTY TABLE: create_property_table_from_ir for object 4 ('South of House'):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Started at prop_table_addr (current_property_addr): 0x0184
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Final addr after writing all properties: 0x01c2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Updated current_property_addr to: 0x01c2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - RETURNING property table address: 0x0184
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OBJECT ENTRY: Object 4 ('South of House') property table creation:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - create_property_table_from_ir returned: 0x0184
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Writing to object space offset: 0x0059 + 7 = 0x0060
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - High byte: 0x01 -> object_space[0x0060]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Low byte:  0x84 -> object_space[0x0061]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x01 at offset 0x0060 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x84 at offset 0x0061 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Verification: Read back from object_space = 0x0184 (high=0x01, low=0x84)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Created object #4: 'South of House' at offset 0x0059, attributes=0x00000000, prop_table=0x0184
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OBJECT LAYOUT: Object 5 ('Behind House'):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Property defaults size: 62 bytes (0x3e)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Object entry size: 9 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Object offset calculation: 62 + (5 - 1) * 9 = 0x0062
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0062 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0063 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0064 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0065 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0066 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0067 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0068 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x01c2 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing text_length=0 at addr=0x01c2 for object 'Behind House'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Object 'Behind House': name_bytes.len()=8, text_length=0, addr=0x01c2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: After text_length, addr=0x01c3, about to write properties
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 19: size_byte=0x13, data_len=1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x13 at offset 0x01c3 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0x13 at addr=0x01c3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x01c4 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x00 at addr=0x01c4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 14: size_byte=0x0e, data_len=1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x0e at offset 0x01c5 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0x0e at addr=0x01c5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x01c6 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x00 at addr=0x01c6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 13: size_byte=0x2d, data_len=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2d at offset 0x01c7 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0x2d at addr=0x01c7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x01c8 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x00 at addr=0x01c8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x01c9 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 1=0x00 at addr=0x01c9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'You are behind the white house. A path leads into the forest to the east. In one corner of the house there is a small window which is slightly ajar.' -> 154 Z-chars -> 104 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 7: size_byte=0xe7, data_len=104
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xe7 at offset 0x01ca (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0xe7 at addr=0x01ca
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x13 at offset 0x01cb (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x13 at addr=0x01cb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xd4 at offset 0x01cc (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 1=0xd4 at addr=0x01cc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x68 at offset 0x01cd (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 2=0x68 at addr=0x01cd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x06 at offset 0x01ce (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 3=0x06 at addr=0x01ce
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x5d at offset 0x01cf (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 4=0x5d at addr=0x01cf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x40 at offset 0x01d0 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 5=0x40 at addr=0x01d0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x1d at offset 0x01d1 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 6=0x1d at addr=0x01d1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x4d at offset 0x01d2 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 7=0x4d at addr=0x01d2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x3a at offset 0x01d3 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 8=0x3a at addr=0x01d3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x69 at offset 0x01d4 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 9=0x69 at addr=0x01d4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x03 at offset 0x01d5 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 10=0x03 at addr=0x01d5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2d at offset 0x01d6 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 11=0x2d at addr=0x01d6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x28 at offset 0x01d7 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 12=0x28 at addr=0x01d7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x1c at offset 0x01d8 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 13=0x1c at addr=0x01d8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x35 at offset 0x01d9 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 14=0x35 at addr=0x01d9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xd9 at offset 0x01da (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 15=0xd9 at addr=0x01da
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x28 at offset 0x01db (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 16=0x28 at addr=0x01db
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x0d at offset 0x01dc (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 17=0x0d at addr=0x01dc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x53 at offset 0x01dd (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 18=0x53 at addr=0x01dd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x58 at offset 0x01de (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 19=0x58 at addr=0x01de
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x28 at offset 0x01df (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 20=0x28 at addr=0x01df
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xb2 at offset 0x01e0 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 21=0xb2 at addr=0x01e0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x01e1 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 22=0x00 at addr=0x01e1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x86 at offset 0x01e2 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 23=0x86 at addr=0x01e2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x02 at offset 0x01e3 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 24=0x02 at addr=0x01e3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xa6 at offset 0x01e4 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 25=0xa6 at addr=0x01e4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x65 at offset 0x01e5 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 26=0x65 at addr=0x01e5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xa0 at offset 0x01e6 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 27=0xa0 at addr=0x01e6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x45 at offset 0x01e7 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 28=0x45 at addr=0x01e7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x46 at offset 0x01e8 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 29=0x46 at addr=0x01e8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x27 at offset 0x01e9 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 30=0x27 at addr=0x01e9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x01ea (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 31=0x00 at addr=0x01ea
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x3a at offset 0x01eb (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 32=0x3a at addr=0x01eb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x79 at offset 0x01ec (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 33=0x79 at addr=0x01ec
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x50 at offset 0x01ed (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 34=0x50 at addr=0x01ed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x19 at offset 0x01ee (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 35=0x19 at addr=0x01ee
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x35 at offset 0x01ef (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 36=0x35 at addr=0x01ef
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x40 at offset 0x01f0 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 37=0x40 at addr=0x01f0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2e at offset 0x01f1 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 38=0x2e at addr=0x01f1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x97 at offset 0x01f2 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 39=0x97 at addr=0x01f2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2b at offset 0x01f3 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 40=0x2b at addr=0x01f3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x19 at offset 0x01f4 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 41=0x19 at addr=0x01f4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x03 at offset 0x01f5 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 42=0x03 at addr=0x01f5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x34 at offset 0x01f6 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 43=0x34 at addr=0x01f6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x03 at offset 0x01f7 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 44=0x03 at addr=0x01f7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2d at offset 0x01f8 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 45=0x2d at addr=0x01f8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x28 at offset 0x01f9 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 46=0x28 at addr=0x01f9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x0a at offset 0x01fa (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 47=0x0a at addr=0x01fa
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x1b at offset 0x01fb (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 48=0x1b at addr=0x01fb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x19 at offset 0x01fc (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 49=0x19 at addr=0x01fc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x16 at offset 0x01fd (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 50=0x16 at addr=0x01fd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x40 at offset 0x01fe (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 51=0x40 at addr=0x01fe
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x11 at offset 0x01ff (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 52=0x11 at addr=0x01ff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xd3 at offset 0x0200 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 53=0xd3 at addr=0x0200
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x02 at offset 0x0201 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 54=0x02 at addr=0x0201
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x93 at offset 0x0202 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 55=0x93 at addr=0x0202
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x28 at offset 0x0203 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 56=0x28 at addr=0x0203
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x08 at offset 0x0204 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 57=0x08 at addr=0x0204
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x52 at offset 0x0205 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 58=0x52 at addr=0x0205
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xf3 at offset 0x0206 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 59=0xf3 at addr=0x0206
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2a at offset 0x0207 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 60=0x2a at addr=0x0207
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xe0 at offset 0x0208 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 61=0xe0 at addr=0x0208
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x51 at offset 0x0209 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 62=0x51 at addr=0x0209
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x60 at offset 0x020a (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 63=0x60 at addr=0x020a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x65 at offset 0x020b (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 64=0x65 at addr=0x020b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xaa at offset 0x020c (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 65=0xaa at addr=0x020c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x01 at offset 0x020d (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 66=0x01 at addr=0x020d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xb4 at offset 0x020e (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 67=0xb4 at addr=0x020e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x6b at offset 0x020f (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 68=0x6b at addr=0x020f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x0a at offset 0x0210 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 69=0x0a at addr=0x0210
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x03 at offset 0x0211 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 70=0x03 at addr=0x0211
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2d at offset 0x0212 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 71=0x2d at addr=0x0212
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2a at offset 0x0213 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 72=0x2a at addr=0x0213
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xea at offset 0x0214 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 73=0xea at addr=0x0214
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x01 at offset 0x0215 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 74=0x01 at addr=0x0215
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xd8 at offset 0x0216 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 75=0xd8 at addr=0x0216
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0217 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 76=0x00 at addr=0x0217
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xc0 at offset 0x0218 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 77=0xc0 at addr=0x0218
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x62 at offset 0x0219 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 78=0x62 at addr=0x0219
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x46 at offset 0x021a (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 79=0x46 at addr=0x021a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x46 at offset 0x021b (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 80=0x46 at addr=0x021b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x20 at offset 0x021c (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 81=0x20 at addr=0x021c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x71 at offset 0x021d (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 82=0x71 at addr=0x021d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xd3 at offset 0x021e (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 83=0xd3 at addr=0x021e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x26 at offset 0x021f (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 84=0x26 at addr=0x021f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x9c at offset 0x0220 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 85=0x9c at addr=0x0220
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x03 at offset 0x0221 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 86=0x03 at addr=0x0221
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x8d at offset 0x0222 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 87=0x8d at addr=0x0222
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x39 at offset 0x0223 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 88=0x39 at addr=0x0223
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x0d at offset 0x0224 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 89=0x0d at addr=0x0224
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x01 at offset 0x0225 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 90=0x01 at addr=0x0225
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xd8 at offset 0x0226 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 91=0xd8 at addr=0x0226
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x03 at offset 0x0227 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 92=0x03 at addr=0x0227
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x11 at offset 0x0228 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 93=0x11 at addr=0x0228
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x39 at offset 0x0229 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 94=0x39 at addr=0x0229
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x8d at offset 0x022a (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 95=0x8d at addr=0x022a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x66 at offset 0x022b (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 96=0x66 at addr=0x022b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x3e at offset 0x022c (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 97=0x3e at addr=0x022c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x022d (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 98=0x00 at addr=0x022d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xcf at offset 0x022e (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 99=0xcf at addr=0x022e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x1a at offset 0x022f (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 100=0x1a at addr=0x022f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xe5 at offset 0x0230 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 101=0xe5 at addr=0x0230
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xc8 at offset 0x0231 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 102=0xc8 at addr=0x0231
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0232 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 103=0x00 at addr=0x0232
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0233 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing terminator 0x00 at addr=0x0233
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Property table for 'Behind House' complete: 0x01c2-0x0233 (114 bytes)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Property table for 'Behind House' (object #5) created at 0x01c2 with 4 properties: [13, 7, 14, 19]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PROPERTY TABLE: create_property_table_from_ir for object 5 ('Behind House'):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Started at prop_table_addr (current_property_addr): 0x01c2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Final addr after writing all properties: 0x0234
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Updated current_property_addr to: 0x0234
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - RETURNING property table address: 0x01c2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OBJECT ENTRY: Object 5 ('Behind House') property table creation:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - create_property_table_from_ir returned: 0x01c2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Writing to object space offset: 0x0062 + 7 = 0x0069
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - High byte: 0x01 -> object_space[0x0069]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Low byte:  0xc2 -> object_space[0x006a]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x01 at offset 0x0069 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xc2 at offset 0x006a (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Verification: Read back from object_space = 0x01c2 (high=0x01, low=0xc2)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Created object #5: 'Behind House' at offset 0x0062, attributes=0x00000000, prop_table=0x01c2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OBJECT LAYOUT: Object 6 ('Forest Path'):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Property defaults size: 62 bytes (0x3e)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Object entry size: 9 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Object offset calculation: 62 + (6 - 1) * 9 = 0x006b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x006b (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x006c (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x006d (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x006e (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x006f (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0070 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0071 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0234 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing text_length=0 at addr=0x0234 for object 'Forest Path'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Object 'Forest Path': name_bytes.len()=8, text_length=0, addr=0x0234
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: After text_length, addr=0x0235, about to write properties
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 19: size_byte=0x13, data_len=1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x13 at offset 0x0235 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0x13 at addr=0x0235
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0236 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x00 at addr=0x0236
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 14: size_byte=0x0e, data_len=1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x0e at offset 0x0237 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0x0e at addr=0x0237
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0238 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x00 at addr=0x0238
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 13: size_byte=0x2d, data_len=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2d at offset 0x0239 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0x2d at addr=0x0239
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x023a (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x00 at addr=0x023a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x023b (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 1=0x00 at addr=0x023b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'This is a path winding through a dimly lit forest. The path heads north-south here. One particularly large tree with some low branches stands at the edge of the path.' -> 173 Z-chars -> 116 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 7: size_byte=0xe7, data_len=116
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xe7 at offset 0x023c (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0xe7 at addr=0x023c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x13 at offset 0x023d (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x13 at addr=0x023d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2d at offset 0x023e (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 1=0x2d at addr=0x023e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x3b at offset 0x023f (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 2=0x3b at addr=0x023f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0240 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 3=0x00 at addr=0x0240
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x3b at offset 0x0241 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 4=0x3b at addr=0x0241
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0242 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 5=0x00 at addr=0x0242
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x18 at offset 0x0243 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 6=0x18 at addr=0x0243
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x15 at offset 0x0244 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 7=0x15 at addr=0x0244
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x1b at offset 0x0245 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 8=0x1b at addr=0x0245
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2d at offset 0x0246 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 9=0x2d at addr=0x0246
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x03 at offset 0x0247 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 10=0x03 at addr=0x0247
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x8e at offset 0x0248 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 11=0x8e at addr=0x0248
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x4d at offset 0x0249 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 12=0x4d at addr=0x0249
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2e at offset 0x024a (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 13=0x2e at addr=0x024a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x4d at offset 0x024b (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 14=0x4d at addr=0x024b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x80 at offset 0x024c (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 15=0x80 at addr=0x024c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x65 at offset 0x024d (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 16=0x65 at addr=0x024d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xb7 at offset 0x024e (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 17=0xb7 at addr=0x024e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x53 at offset 0x024f (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 18=0x53 at addr=0x024f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x4c at offset 0x0250 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 19=0x4c at addr=0x0250
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x34 at offset 0x0251 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 20=0x34 at addr=0x0251
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x06 at offset 0x0252 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 21=0x06 at addr=0x0252
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x01 at offset 0x0253 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 22=0x01 at addr=0x0253
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2e at offset 0x0254 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 23=0x2e at addr=0x0254
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x4a at offset 0x0255 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 24=0x4a at addr=0x0255
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x3e at offset 0x0256 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 25=0x3e at addr=0x0256
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x02 at offset 0x0257 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 26=0x02 at addr=0x0257
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2e at offset 0x0258 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 27=0x2e at addr=0x0258
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x64 at offset 0x0259 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 28=0x64 at addr=0x0259
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x0b at offset 0x025a (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 29=0x0b at addr=0x025a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x52 at offset 0x025b (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 30=0x52 at addr=0x025b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xea at offset 0x025c (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 31=0xea at addr=0x025c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x63 at offset 0x025d (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 32=0x63 at addr=0x025d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x25 at offset 0x025e (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 33=0x25 at addr=0x025e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x48 at offset 0x025f (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 34=0x48 at addr=0x025f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x04 at offset 0x0260 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 35=0x04 at addr=0x0260
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x65 at offset 0x0261 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 36=0x65 at addr=0x0261
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xaa at offset 0x0262 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 37=0xaa at addr=0x0262
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x02 at offset 0x0263 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 38=0x02 at addr=0x0263
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xa6 at offset 0x0264 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 39=0xa6 at addr=0x0264
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x65 at offset 0x0265 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 40=0x65 at addr=0x0265
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xa0 at offset 0x0266 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 41=0xa0 at addr=0x0266
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x35 at offset 0x0267 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 42=0x35 at addr=0x0267
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x46 at offset 0x0268 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 43=0x46 at addr=0x0268
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x27 at offset 0x0269 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 44=0x27 at addr=0x0269
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x026a (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 45=0x00 at addr=0x026a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x4e at offset 0x026b (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 46=0x4e at addr=0x026b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x97 at offset 0x026c (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 47=0x97 at addr=0x026c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x65 at offset 0x026d (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 48=0x65 at addr=0x026d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xa5 at offset 0x026e (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 49=0xa5 at addr=0x026e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x73 at offset 0x026f (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 50=0x73 at addr=0x026f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x14 at offset 0x0270 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 51=0x14 at addr=0x0270
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x6b at offset 0x0271 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 52=0x6b at addr=0x0271
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2d at offset 0x0272 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 53=0x2d at addr=0x0272
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x01 at offset 0x0273 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 54=0x01 at addr=0x0273
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xaa at offset 0x0274 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 55=0xaa at addr=0x0274
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x5d at offset 0x0275 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 56=0x5d at addr=0x0275
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x45 at offset 0x0276 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 57=0x45 at addr=0x0276
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x48 at offset 0x0277 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 58=0x48 at addr=0x0277
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x04 at offset 0x0278 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 59=0x04 at addr=0x0278
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x52 at offset 0x0279 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 60=0x52 at addr=0x0279
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x6a at offset 0x027a (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 61=0x6a at addr=0x027a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x02 at offset 0x027b (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 62=0x02 at addr=0x027b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xa6 at offset 0x027c (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 63=0xa6 at addr=0x027c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x5f at offset 0x027d (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 64=0x5f at addr=0x027d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2e at offset 0x027e (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 65=0x2e at addr=0x027e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x23 at offset 0x027f (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 66=0x23 at addr=0x027f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x51 at offset 0x0280 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 67=0x51 at addr=0x0280
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x1a at offset 0x0281 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 68=0x1a at addr=0x0281
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xf1 at offset 0x0282 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 69=0xf1 at addr=0x0282
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x78 at offset 0x0283 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 70=0x78 at addr=0x0283
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x11 at offset 0x0284 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 71=0x11 at addr=0x0284
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x1a at offset 0x0285 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 72=0x1a at addr=0x0285
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xec at offset 0x0286 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 73=0xec at addr=0x0286
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x28 at offset 0x0287 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 74=0x28 at addr=0x0287
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x19 at offset 0x0288 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 75=0x19 at addr=0x0288
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x5d at offset 0x0289 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 76=0x5d at addr=0x0289
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x4a at offset 0x028a (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 77=0x4a at addr=0x028a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x03 at offset 0x028b (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 78=0x03 at addr=0x028b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x8e at offset 0x028c (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 79=0x8e at addr=0x028c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x65 at offset 0x028d (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 80=0x65 at addr=0x028d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xa0 at offset 0x028e (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 81=0xa0 at addr=0x028e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x62 at offset 0x028f (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 82=0x62 at addr=0x028f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x92 at offset 0x0290 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 83=0x92 at addr=0x0290
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x28 at offset 0x0291 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 84=0x28 at addr=0x0291
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x11 at offset 0x0292 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 85=0x11 at addr=0x0292
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x53 at offset 0x0293 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 86=0x53 at addr=0x0293
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x80 at offset 0x0294 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 87=0x80 at addr=0x0294
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x1e at offset 0x0295 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 88=0x1e at addr=0x0295
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xe6 at offset 0x0296 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 89=0xe6 at addr=0x0296
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x4d at offset 0x0297 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 90=0x4d at addr=0x0297
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x0d at offset 0x0298 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 91=0x0d at addr=0x0298
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2b at offset 0x0299 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 92=0x2b at addr=0x0299
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x029a (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 93=0x00 at addr=0x029a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x63 at offset 0x029b (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 94=0x63 at addr=0x029b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x26 at offset 0x029c (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 95=0x26 at addr=0x029c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x4d at offset 0x029d (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 96=0x4d at addr=0x029d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x38 at offset 0x029e (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 97=0x38 at addr=0x029e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x029f (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 98=0x00 at addr=0x029f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xd9 at offset 0x02a0 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 99=0xd9 at addr=0x02a0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x03 at offset 0x02a1 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 100=0x03 at addr=0x02a1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2d at offset 0x02a2 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 101=0x2d at addr=0x02a2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x28 at offset 0x02a3 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 102=0x28 at addr=0x02a3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x0a at offset 0x02a4 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 103=0x0a at addr=0x02a4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x25 at offset 0x02a5 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 104=0x25 at addr=0x02a5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x8a at offset 0x02a6 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 105=0x8a at addr=0x02a6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x02 at offset 0x02a7 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 106=0x02 at addr=0x02a7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x8b at offset 0x02a8 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 107=0x8b at addr=0x02a8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x03 at offset 0x02a9 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 108=0x03 at addr=0x02a9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2d at offset 0x02aa (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 109=0x2d at addr=0x02aa
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x28 at offset 0x02ab (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 110=0x28 at addr=0x02ab
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x15 at offset 0x02ac (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 111=0x15 at addr=0x02ac
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x1b at offset 0x02ad (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 112=0x1b at addr=0x02ad
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2d at offset 0x02ae (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 113=0x2d at addr=0x02ae
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x96 at offset 0x02af (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 114=0x96 at addr=0x02af
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x40 at offset 0x02b0 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 115=0x40 at addr=0x02b0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x02b1 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing terminator 0x00 at addr=0x02b1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Property table for 'Forest Path' complete: 0x0234-0x02b1 (126 bytes)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Property table for 'Forest Path' (object #6) created at 0x0234 with 4 properties: [14, 13, 19, 7]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PROPERTY TABLE: create_property_table_from_ir for object 6 ('Forest Path'):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Started at prop_table_addr (current_property_addr): 0x0234
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Final addr after writing all properties: 0x02b2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Updated current_property_addr to: 0x02b2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - RETURNING property table address: 0x0234
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OBJECT ENTRY: Object 6 ('Forest Path') property table creation:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - create_property_table_from_ir returned: 0x0234
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Writing to object space offset: 0x006b + 7 = 0x0072
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - High byte: 0x02 -> object_space[0x0072]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Low byte:  0x34 -> object_space[0x0073]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x02 at offset 0x0072 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x34 at offset 0x0073 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Verification: Read back from object_space = 0x0234 (high=0x02, low=0x34)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Created object #6: 'Forest Path' at offset 0x006b, attributes=0x00000000, prop_table=0x0234
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OBJECT LAYOUT: Object 7 ('Up a Tree'):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Property defaults size: 62 bytes (0x3e)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Object entry size: 9 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Object offset calculation: 62 + (7 - 1) * 9 = 0x0074
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0074 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0075 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0076 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0077 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0078 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0079 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x007a (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x02b2 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing text_length=0 at addr=0x02b2 for object 'Up a Tree'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Object 'Up a Tree': name_bytes.len()=8, text_length=0, addr=0x02b2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: After text_length, addr=0x02b3, about to write properties
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 19: size_byte=0x13, data_len=1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x13 at offset 0x02b3 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0x13 at addr=0x02b3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x02b4 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x00 at addr=0x02b4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 14: size_byte=0x0e, data_len=1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x0e at offset 0x02b5 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0x0e at addr=0x02b5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x02b6 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x00 at addr=0x02b6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 13: size_byte=0x2d, data_len=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2d at offset 0x02b7 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0x2d at addr=0x02b7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x02b8 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x00 at addr=0x02b8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x02b9 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 1=0x00 at addr=0x02b9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'You are about 10 feet above the ground nestled among some large branches. The nearest branch above you is above your reach.' -> 129 Z-chars -> 86 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 7: size_byte=0xe7, data_len=86
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xe7 at offset 0x02ba (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0xe7 at addr=0x02ba
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x13 at offset 0x02bb (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x13 at addr=0x02bb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xd4 at offset 0x02bc (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 1=0xd4 at addr=0x02bc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x68 at offset 0x02bd (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 2=0x68 at addr=0x02bd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x06 at offset 0x02be (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 3=0x06 at addr=0x02be
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x5d at offset 0x02bf (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 4=0x5d at addr=0x02bf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x40 at offset 0x02c0 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 5=0x40 at addr=0x02c0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x18 at offset 0x02c1 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 6=0x18 at addr=0x02c1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xf4 at offset 0x02c2 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 7=0xf4 at addr=0x02c2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x6b at offset 0x02c3 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 8=0x6b at addr=0x02c3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x20 at offset 0x02c4 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 9=0x20 at addr=0x02c4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x15 at offset 0x02c5 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 10=0x15 at addr=0x02c5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x25 at offset 0x02c6 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 11=0x25 at addr=0x02c6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x20 at offset 0x02c7 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 12=0x20 at addr=0x02c7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x0b at offset 0x02c8 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 13=0x0b at addr=0x02c8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x29 at offset 0x02c9 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 14=0x29 at addr=0x02c9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x59 at offset 0x02ca (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 15=0x59 at addr=0x02ca
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x02cb (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 16=0x00 at addr=0x02cb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xc7 at offset 0x02cc (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 17=0xc7 at addr=0x02cc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x53 at offset 0x02cd (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 18=0x53 at addr=0x02cd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x6a at offset 0x02ce (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 19=0x6a at addr=0x02ce
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x03 at offset 0x02cf (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 20=0x03 at addr=0x02cf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2d at offset 0x02d0 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 21=0x2d at addr=0x02d0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x28 at offset 0x02d1 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 22=0x28 at addr=0x02d1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x0c at offset 0x02d2 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 23=0x0c at addr=0x02d2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x5e at offset 0x02d3 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 24=0x5e at addr=0x02d3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x9a at offset 0x02d4 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 25=0x9a at addr=0x02d4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x4d at offset 0x02d5 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 26=0x4d at addr=0x02d5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x20 at offset 0x02d6 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 27=0x20 at addr=0x02d6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x4d at offset 0x02d7 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 28=0x4d at addr=0x02d7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x58 at offset 0x02d8 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 29=0x58 at addr=0x02d8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x66 at offset 0x02d9 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 30=0x66 at addr=0x02d9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2a at offset 0x02da (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 31=0x2a at addr=0x02da
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x24 at offset 0x02db (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 32=0x24 at addr=0x02db
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x06 at offset 0x02dc (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 33=0x06 at addr=0x02dc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x4a at offset 0x02dd (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 34=0x4a at addr=0x02dd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x93 at offset 0x02de (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 35=0x93 at addr=0x02de
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x30 at offset 0x02df (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 36=0x30 at addr=0x02df
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x18 at offset 0x02e0 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 37=0x18 at addr=0x02e0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x52 at offset 0x02e1 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 38=0x52 at addr=0x02e1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x4a at offset 0x02e2 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 39=0x4a at addr=0x02e2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x02 at offset 0x02e3 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 40=0x02 at addr=0x02e3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x26 at offset 0x02e4 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 41=0x26 at addr=0x02e4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x5d at offset 0x02e5 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 42=0x5d at addr=0x02e5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x8a at offset 0x02e6 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 43=0x8a at addr=0x02e6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x02e7 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 44=0x00 at addr=0x02e7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xf7 at offset 0x02e8 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 45=0xf7 at addr=0x02e8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x1a at offset 0x02e9 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 46=0x1a at addr=0x02e9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x68 at offset 0x02ea (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 47=0x68 at addr=0x02ea
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x35 at offset 0x02eb (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 48=0x35 at addr=0x02eb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x58 at offset 0x02ec (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 49=0x58 at addr=0x02ec
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x16 at offset 0x02ed (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 50=0x16 at addr=0x02ed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x40 at offset 0x02ee (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 51=0x40 at addr=0x02ee
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x13 at offset 0x02ef (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 52=0x13 at addr=0x02ef
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2d at offset 0x02f0 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 53=0x2d at addr=0x02f0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x28 at offset 0x02f1 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 54=0x28 at addr=0x02f1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x13 at offset 0x02f2 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 55=0x13 at addr=0x02f2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x28 at offset 0x02f3 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 56=0x28 at addr=0x02f3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xd7 at offset 0x02f4 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 57=0xd7 at addr=0x02f4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2b at offset 0x02f5 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 58=0x2b at addr=0x02f5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x19 at offset 0x02f6 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 59=0x19 at addr=0x02f6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x02f7 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 60=0x00 at addr=0x02f7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xf7 at offset 0x02f8 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 61=0xf7 at addr=0x02f8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x1a at offset 0x02f9 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 62=0x1a at addr=0x02f9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x68 at offset 0x02fa (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 63=0x68 at addr=0x02fa
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x34 at offset 0x02fb (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 64=0x34 at addr=0x02fb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x06 at offset 0x02fc (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 65=0x06 at addr=0x02fc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x1e at offset 0x02fd (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 66=0x1e at addr=0x02fd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x9b at offset 0x02fe (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 67=0x9b at addr=0x02fe
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x28 at offset 0x02ff (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 68=0x28 at addr=0x02ff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x1e at offset 0x0300 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 69=0x1e at addr=0x0300
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x53 at offset 0x0301 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 70=0x53 at addr=0x0301
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x40 at offset 0x0302 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 71=0x40 at addr=0x0302
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x3b at offset 0x0303 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 72=0x3b at addr=0x0303
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0304 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 73=0x00 at addr=0x0304
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x18 at offset 0x0305 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 74=0x18 at addr=0x0305
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xf4 at offset 0x0306 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 75=0xf4 at addr=0x0306
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x6d at offset 0x0307 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 76=0x6d at addr=0x0307
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x40 at offset 0x0308 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 77=0x40 at addr=0x0308
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x7a at offset 0x0309 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 78=0x7a at addr=0x0309
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x9a at offset 0x030a (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 79=0x9a at addr=0x030a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x5c at offset 0x030b (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 80=0x5c at addr=0x030b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x17 at offset 0x030c (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 81=0x17 at addr=0x030c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x28 at offset 0x030d (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 82=0x28 at addr=0x030d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xc8 at offset 0x030e (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 83=0xc8 at addr=0x030e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xb4 at offset 0x030f (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 84=0xb4 at addr=0x030f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xb2 at offset 0x0310 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 85=0xb2 at addr=0x0310
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0311 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing terminator 0x00 at addr=0x0311
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Property table for 'Up a Tree' complete: 0x02b2-0x0311 (96 bytes)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Property table for 'Up a Tree' (object #7) created at 0x02b2 with 4 properties: [19, 14, 7, 13]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PROPERTY TABLE: create_property_table_from_ir for object 7 ('Up a Tree'):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Started at prop_table_addr (current_property_addr): 0x02b2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Final addr after writing all properties: 0x0312
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Updated current_property_addr to: 0x0312
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - RETURNING property table address: 0x02b2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OBJECT ENTRY: Object 7 ('Up a Tree') property table creation:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - create_property_table_from_ir returned: 0x02b2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Writing to object space offset: 0x0074 + 7 = 0x007b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - High byte: 0x02 -> object_space[0x007b]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Low byte:  0xb2 -> object_space[0x007c]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x02 at offset 0x007b (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xb2 at offset 0x007c (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Verification: Read back from object_space = 0x02b2 (high=0x02, low=0xb2)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Created object #7: 'Up a Tree' at offset 0x0074, attributes=0x00000000, prop_table=0x02b2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OBJECT LAYOUT: Object 8 ('Forest'):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Property defaults size: 62 bytes (0x3e)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Object entry size: 9 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Object offset calculation: 62 + (8 - 1) * 9 = 0x007d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x007d (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x007e (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x007f (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0080 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0081 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0082 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0083 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0312 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing text_length=0 at addr=0x0312 for object 'Forest'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Object 'Forest': name_bytes.len()=6, text_length=0, addr=0x0312
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: After text_length, addr=0x0313, about to write properties
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 19: size_byte=0x13, data_len=1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x13 at offset 0x0313 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0x13 at addr=0x0313
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0314 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x00 at addr=0x0314
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 14: size_byte=0x0e, data_len=1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x0e at offset 0x0315 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0x0e at addr=0x0315
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0316 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x00 at addr=0x0316
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 13: size_byte=0x2d, data_len=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2d at offset 0x0317 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0x2d at addr=0x0317
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0318 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x00 at addr=0x0318
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0319 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 1=0x00 at addr=0x0319
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'This is a forest, with trees in all directions. To the east, there appears to be sunlight.' -> 96 Z-chars -> 64 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 7: size_byte=0xe7, data_len=64
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xe7 at offset 0x031a (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0xe7 at addr=0x031a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x13 at offset 0x031b (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x13 at addr=0x031b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2d at offset 0x031c (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 1=0x2d at addr=0x031c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x3b at offset 0x031d (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 2=0x3b at addr=0x031d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x031e (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 3=0x00 at addr=0x031e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x3b at offset 0x031f (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 4=0x3b at addr=0x031f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0320 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 5=0x00 at addr=0x0320
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x18 at offset 0x0321 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 6=0x18 at addr=0x0321
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x0b at offset 0x0322 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 7=0x0b at addr=0x0322
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x52 at offset 0x0323 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 8=0x52 at addr=0x0323
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xea at offset 0x0324 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 9=0xea at addr=0x0324
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x63 at offset 0x0325 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 10=0x63 at addr=0x0325
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x25 at offset 0x0326 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 11=0x25 at addr=0x0326
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x4c at offset 0x0327 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 12=0x4c at addr=0x0327
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x1c at offset 0x0328 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 13=0x1c at addr=0x0328
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x3b at offset 0x0329 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 14=0x3b at addr=0x0329
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2d at offset 0x032a (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 15=0x2d at addr=0x032a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x03 at offset 0x032b (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 16=0x03 at addr=0x032b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x37 at offset 0x032c (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 17=0x37 at addr=0x032c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x29 at offset 0x032d (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 18=0x29 at addr=0x032d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x58 at offset 0x032e (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 19=0x58 at addr=0x032e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x01 at offset 0x032f (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 20=0x01 at addr=0x032f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xd3 at offset 0x0330 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 21=0xd3 at addr=0x0330
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0331 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 22=0x00 at addr=0x0331
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xd1 at offset 0x0332 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 23=0xd1 at addr=0x0332
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x44 at offset 0x0333 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 24=0x44 at addr=0x0333
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x09 at offset 0x0334 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 25=0x09 at addr=0x0334
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x3a at offset 0x0335 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 26=0x3a at addr=0x0335
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xea at offset 0x0336 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 27=0xea at addr=0x0336
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x23 at offset 0x0337 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 28=0x23 at addr=0x0337
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2e at offset 0x0338 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 29=0x2e at addr=0x0338
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x52 at offset 0x0339 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 30=0x52 at addr=0x0339
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x78 at offset 0x033a (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 31=0x78 at addr=0x033a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x16 at offset 0x033b (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 32=0x16 at addr=0x033b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x40 at offset 0x033c (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 33=0x40 at addr=0x033c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x13 at offset 0x033d (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 34=0x13 at addr=0x033d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x34 at offset 0x033e (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 35=0x34 at addr=0x033e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x03 at offset 0x033f (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 36=0x03 at addr=0x033f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2d at offset 0x0340 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 37=0x2d at addr=0x0340
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x28 at offset 0x0341 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 38=0x28 at addr=0x0341
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x0a at offset 0x0342 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 39=0x0a at addr=0x0342
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x1b at offset 0x0343 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 40=0x1b at addr=0x0343
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x19 at offset 0x0344 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 41=0x19 at addr=0x0344
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x16 at offset 0x0345 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 42=0x16 at addr=0x0345
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x60 at offset 0x0346 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 43=0x60 at addr=0x0346
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x65 at offset 0x0347 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 44=0x65 at addr=0x0347
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xaa at offset 0x0348 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 45=0xaa at addr=0x0348
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x5d at offset 0x0349 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 46=0x5d at addr=0x0349
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x40 at offset 0x034a (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 47=0x40 at addr=0x034a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x1a at offset 0x034b (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 48=0x1a at addr=0x034b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xb5 at offset 0x034c (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 49=0xb5 at addr=0x034c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x28 at offset 0x034d (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 50=0x28 at addr=0x034d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xd7 at offset 0x034e (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 51=0xd7 at addr=0x034e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x60 at offset 0x034f (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 52=0x60 at addr=0x034f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x19 at offset 0x0350 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 53=0x19 at addr=0x0350
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x50 at offset 0x0351 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 54=0x50 at addr=0x0351
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x07 at offset 0x0352 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 55=0x07 at addr=0x0352
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x28 at offset 0x0353 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 56=0x28 at addr=0x0353
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x18 at offset 0x0354 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 57=0x18 at addr=0x0354
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x6a at offset 0x0355 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 58=0x6a at addr=0x0355
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x71 at offset 0x0356 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 59=0x71 at addr=0x0356
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x39 at offset 0x0357 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 60=0x39 at addr=0x0357
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x8d at offset 0x0358 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 61=0x8d at addr=0x0358
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xe4 at offset 0x0359 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 62=0xe4 at addr=0x0359
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xb2 at offset 0x035a (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 63=0xb2 at addr=0x035a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x035b (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing terminator 0x00 at addr=0x035b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Property table for 'Forest' complete: 0x0312-0x035b (74 bytes)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Property table for 'Forest' (object #8) created at 0x0312 with 4 properties: [13, 7, 14, 19]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PROPERTY TABLE: create_property_table_from_ir for object 8 ('Forest'):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Started at prop_table_addr (current_property_addr): 0x0312
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Final addr after writing all properties: 0x035c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Updated current_property_addr to: 0x035c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - RETURNING property table address: 0x0312
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OBJECT ENTRY: Object 8 ('Forest') property table creation:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - create_property_table_from_ir returned: 0x0312
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Writing to object space offset: 0x007d + 7 = 0x0084
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - High byte: 0x03 -> object_space[0x0084]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Low byte:  0x12 -> object_space[0x0085]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x03 at offset 0x0084 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x12 at offset 0x0085 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Verification: Read back from object_space = 0x0312 (high=0x03, low=0x12)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Created object #8: 'Forest' at offset 0x007d, attributes=0x00000000, prop_table=0x0312
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OBJECT LAYOUT: Object 9 ('Forest Clearing'):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Property defaults size: 62 bytes (0x3e)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Object entry size: 9 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Object offset calculation: 62 + (9 - 1) * 9 = 0x0086
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0086 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0087 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0088 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0089 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x008a (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x008b (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x008c (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x035c (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing text_length=0 at addr=0x035c for object 'Forest Clearing'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Object 'Forest Clearing': name_bytes.len()=8, text_length=0, addr=0x035c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: After text_length, addr=0x035d, about to write properties
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 19: size_byte=0x13, data_len=1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x13 at offset 0x035d (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0x13 at addr=0x035d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x035e (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x00 at addr=0x035e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 14: size_byte=0x0e, data_len=1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x0e at offset 0x035f (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0x0e at addr=0x035f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0360 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x00 at addr=0x0360
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 13: size_byte=0x2d, data_len=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2d at offset 0x0361 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0x2d at addr=0x0361
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0362 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x00 at addr=0x0362
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0363 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 1=0x00 at addr=0x0363
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'You are in a clearing, with a forest surrounding you on all sides. A path leads south.' -> 91 Z-chars -> 62 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 7: size_byte=0xe7, data_len=62
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xe7 at offset 0x0364 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0xe7 at addr=0x0364
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x13 at offset 0x0365 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x13 at addr=0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xd4 at offset 0x0366 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 1=0xd4 at addr=0x0366
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x68 at offset 0x0367 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 2=0x68 at addr=0x0367
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x06 at offset 0x0368 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 3=0x06 at addr=0x0368
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x5d at offset 0x0369 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 4=0x5d at addr=0x0369
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x40 at offset 0x036a (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 5=0x40 at addr=0x036a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x3a at offset 0x036b (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 6=0x3a at addr=0x036b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x60 at offset 0x036c (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 7=0x60 at addr=0x036c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x18 at offset 0x036d (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 8=0x18 at addr=0x036d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x08 at offset 0x036e (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 9=0x08 at addr=0x036e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x45 at offset 0x036f (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 10=0x45 at addr=0x036f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x46 at offset 0x0370 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 11=0x46 at addr=0x0370
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x5d at offset 0x0371 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 12=0x5d at addr=0x0371
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xd3 at offset 0x0372 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 13=0xd3 at addr=0x0372
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x30 at offset 0x0373 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 14=0x30 at addr=0x0373
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xb3 at offset 0x0374 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 15=0xb3 at addr=0x0374
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x03 at offset 0x0375 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 16=0x03 at addr=0x0375
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x8e at offset 0x0376 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 17=0x8e at addr=0x0376
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x65 at offset 0x0377 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 18=0x65 at addr=0x0377
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xa0 at offset 0x0378 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 19=0xa0 at addr=0x0378
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x18 at offset 0x0379 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 20=0x18 at addr=0x0379
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x0b at offset 0x037a (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 21=0x0b at addr=0x037a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x52 at offset 0x037b (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 22=0x52 at addr=0x037b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xea at offset 0x037c (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 23=0xea at addr=0x037c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x63 at offset 0x037d (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 24=0x63 at addr=0x037d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x20 at offset 0x037e (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 25=0x20 at addr=0x037e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x63 at offset 0x037f (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 26=0x63 at addr=0x037f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x57 at offset 0x0380 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 27=0x57 at addr=0x0380
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x5e at offset 0x0381 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 28=0x5e at addr=0x0381
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x9a at offset 0x0382 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 29=0x9a at addr=0x0382
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x4d at offset 0x0383 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 30=0x4d at addr=0x0383
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2e at offset 0x0384 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 31=0x2e at addr=0x0384
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x4d at offset 0x0385 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 32=0x4d at addr=0x0385
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x80 at offset 0x0386 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 33=0x80 at addr=0x0386
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x7a at offset 0x0387 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 34=0x7a at addr=0x0387
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x9a at offset 0x0388 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 35=0x9a at addr=0x0388
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x02 at offset 0x0389 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 36=0x02 at addr=0x0389
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x93 at offset 0x038a (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 37=0x93 at addr=0x038a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x038b (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 38=0x00 at addr=0x038b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xd1 at offset 0x038c (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 39=0xd1 at addr=0x038c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x44 at offset 0x038d (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 40=0x44 at addr=0x038d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x18 at offset 0x038e (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 41=0x18 at addr=0x038e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x39 at offset 0x038f (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 42=0x39 at addr=0x038f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2a at offset 0x0390 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 43=0x2a at addr=0x0390
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x60 at offset 0x0391 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 44=0x60 at addr=0x0391
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xb2 at offset 0x0392 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 45=0xb2 at addr=0x0392
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0393 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 46=0x00 at addr=0x0393
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x86 at offset 0x0394 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 47=0x86 at addr=0x0394
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x02 at offset 0x0395 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 48=0x02 at addr=0x0395
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xa6 at offset 0x0396 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 49=0xa6 at addr=0x0396
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x65 at offset 0x0397 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 50=0x65 at addr=0x0397
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xa0 at offset 0x0398 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 51=0xa0 at addr=0x0398
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x45 at offset 0x0399 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 52=0x45 at addr=0x0399
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x46 at offset 0x039a (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 53=0x46 at addr=0x039a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x27 at offset 0x039b (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 54=0x27 at addr=0x039b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x039c (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 55=0x00 at addr=0x039c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x62 at offset 0x039d (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 56=0x62 at addr=0x039d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x9a at offset 0x039e (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 57=0x9a at addr=0x039e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x65 at offset 0x039f (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 58=0x65 at addr=0x039f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xa5 at offset 0x03a0 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 59=0xa5 at addr=0x03a0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xc8 at offset 0x03a1 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 60=0xc8 at addr=0x03a1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x03a2 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 61=0x00 at addr=0x03a2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x03a3 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing terminator 0x00 at addr=0x03a3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Property table for 'Forest Clearing' complete: 0x035c-0x03a3 (72 bytes)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Property table for 'Forest Clearing' (object #9) created at 0x035c with 4 properties: [13, 14, 7, 19]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PROPERTY TABLE: create_property_table_from_ir for object 9 ('Forest Clearing'):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Started at prop_table_addr (current_property_addr): 0x035c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Final addr after writing all properties: 0x03a4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Updated current_property_addr to: 0x03a4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - RETURNING property table address: 0x035c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OBJECT ENTRY: Object 9 ('Forest Clearing') property table creation:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - create_property_table_from_ir returned: 0x035c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Writing to object space offset: 0x0086 + 7 = 0x008d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - High byte: 0x03 -> object_space[0x008d]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Low byte:  0x5c -> object_space[0x008e]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x03 at offset 0x008d (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x5c at offset 0x008e (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Verification: Read back from object_space = 0x035c (high=0x03, low=0x5c)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Created object #9: 'Forest Clearing' at offset 0x0086, attributes=0x00000000, prop_table=0x035c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OBJECT LAYOUT: Object 10 ('small mailbox'):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Property defaults size: 62 bytes (0x3e)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Object entry size: 9 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Object offset calculation: 62 + (10 - 1) * 9 = 0x008f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x008f (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0090 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0091 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x06 at offset 0x0092 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x02 at offset 0x0093 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0094 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x0b at offset 0x0095 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x03a4 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing text_length=0 at addr=0x03a4 for object 'small mailbox'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Object 'small mailbox': name_bytes.len()=8, text_length=0, addr=0x03a4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: After text_length, addr=0x03a5, about to write properties
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 16: size_byte=0x10, data_len=1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x10 at offset 0x03a5 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0x10 at addr=0x03a5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x01 at offset 0x03a6 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x01 at addr=0x03a6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 15: size_byte=0x0f, data_len=1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x0f at offset 0x03a7 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0x0f at addr=0x03a7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x01 at offset 0x03a8 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x01 at addr=0x03a8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 13: size_byte=0x2d, data_len=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2d at offset 0x03a9 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0x2d at addr=0x03a9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x03aa (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x00 at addr=0x03aa
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x03ab (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 1=0x00 at addr=0x03ab
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'small mailbox' -> 13 Z-chars -> 10 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 7: size_byte=0xe7, data_len=10
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xe7 at offset 0x03ac (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0xe7 at addr=0x03ac
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x62 at offset 0x03ad (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x62 at addr=0x03ad
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x46 at offset 0x03ae (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 1=0x46 at addr=0x03ae
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x46 at offset 0x03af (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 2=0x46 at addr=0x03af
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x20 at offset 0x03b0 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 3=0x20 at addr=0x03b0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x48 at offset 0x03b1 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 4=0x48 at addr=0x03b1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xce at offset 0x03b2 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 5=0xce at addr=0x03b2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x44 at offset 0x03b3 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 6=0x44 at addr=0x03b3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xf4 at offset 0x03b4 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 7=0xf4 at addr=0x03b4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xf4 at offset 0x03b5 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 8=0xf4 at addr=0x03b5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x03b6 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 9=0x00 at addr=0x03b6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string '[expression]' -> 18 Z-chars -> 12 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 2: size_byte=0xe2, data_len=12
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xe2 at offset 0x03b7 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0xe2 at addr=0x03b7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x14 at offset 0x03b8 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x14 at addr=0x03b8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xc2 at offset 0x03b9 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 1=0xc2 at addr=0x03b9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x6d at offset 0x03ba (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 2=0x6d at addr=0x03ba
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x5d at offset 0x03bb (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 3=0x5d at addr=0x03bb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x56 at offset 0x03bc (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 4=0x56 at addr=0x03bc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xea at offset 0x03bd (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 5=0xea at addr=0x03bd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x63 at offset 0x03be (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 6=0x63 at addr=0x03be
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x0e at offset 0x03bf (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 7=0x0e at addr=0x03bf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x52 at offset 0x03c0 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 8=0x52 at addr=0x03c0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x65 at offset 0x03c1 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 9=0x65 at addr=0x03c1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x98 at offset 0x03c2 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 10=0x98 at addr=0x03c2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x5d at offset 0x03c3 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 11=0x5d at addr=0x03c3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'mailbox' -> 7 Z-chars -> 6 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 1: size_byte=0xa1, data_len=6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xa1 at offset 0x03c4 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0xa1 at addr=0x03c4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x48 at offset 0x03c5 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x48 at addr=0x03c5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xce at offset 0x03c6 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 1=0xce at addr=0x03c6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x44 at offset 0x03c7 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 2=0x44 at addr=0x03c7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xf4 at offset 0x03c8 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 3=0xf4 at addr=0x03c8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xf4 at offset 0x03c9 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 4=0xf4 at addr=0x03c9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x03ca (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 5=0x00 at addr=0x03ca
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x03cb (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing terminator 0x00 at addr=0x03cb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Property table for 'small mailbox' complete: 0x03a4-0x03cb (40 bytes)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Property table for 'small mailbox' (object #10) created at 0x03a4 with 6 properties: [16, 1, 15, 13, 7, 2]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PROPERTY TABLE: create_property_table_from_ir for object 10 ('small mailbox'):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Started at prop_table_addr (current_property_addr): 0x03a4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Final addr after writing all properties: 0x03cc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Updated current_property_addr to: 0x03cc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - RETURNING property table address: 0x03a4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OBJECT ENTRY: Object 10 ('small mailbox') property table creation:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - create_property_table_from_ir returned: 0x03a4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Writing to object space offset: 0x008f + 7 = 0x0096
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - High byte: 0x03 -> object_space[0x0096]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Low byte:  0xa4 -> object_space[0x0097]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x03 at offset 0x0096 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xa4 at offset 0x0097 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Verification: Read back from object_space = 0x03a4 (high=0x03, low=0xa4)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Created object #10: 'small mailbox' at offset 0x008f, attributes=0x00000006, prop_table=0x03a4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OBJECT LAYOUT: Object 11 ('leaflet'):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Property defaults size: 62 bytes (0x3e)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Object entry size: 9 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Object offset calculation: 62 + (11 - 1) * 9 = 0x0098
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0098 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0099 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x009a (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x009b (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x0a at offset 0x009c (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x009d (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x009e (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x03cc (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing text_length=0 at addr=0x03cc for object 'leaflet'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Object 'leaflet': name_bytes.len()=7, text_length=0, addr=0x03cc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: After text_length, addr=0x03cd, about to write properties
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 13: size_byte=0x2d, data_len=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2d at offset 0x03cd (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0x2d at addr=0x03cd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x03ce (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x00 at addr=0x03ce
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x03cf (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 1=0x00 at addr=0x03cf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'leaflet' -> 7 Z-chars -> 6 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 7: size_byte=0xa7, data_len=6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xa7 at offset 0x03d0 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0xa7 at addr=0x03d0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x45 at offset 0x03d1 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x45 at addr=0x03d1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x46 at offset 0x03d2 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 1=0x46 at addr=0x03d2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2e at offset 0x03d3 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 2=0x2e at addr=0x03d3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2a at offset 0x03d4 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 3=0x2a at addr=0x03d4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xe4 at offset 0x03d5 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 4=0xe4 at addr=0x03d5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x03d6 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 5=0x00 at addr=0x03d6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string '[expression]' -> 18 Z-chars -> 12 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 2: size_byte=0xe2, data_len=12
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xe2 at offset 0x03d7 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0xe2 at addr=0x03d7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x14 at offset 0x03d8 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x14 at addr=0x03d8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xc2 at offset 0x03d9 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 1=0xc2 at addr=0x03d9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x6d at offset 0x03da (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 2=0x6d at addr=0x03da
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x5d at offset 0x03db (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 3=0x5d at addr=0x03db
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x56 at offset 0x03dc (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 4=0x56 at addr=0x03dc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xea at offset 0x03dd (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 5=0xea at addr=0x03dd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x63 at offset 0x03de (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 6=0x63 at addr=0x03de
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x0e at offset 0x03df (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 7=0x0e at addr=0x03df
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x52 at offset 0x03e0 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 8=0x52 at addr=0x03e0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x65 at offset 0x03e1 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 9=0x65 at addr=0x03e1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x98 at offset 0x03e2 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 10=0x98 at addr=0x03e2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x5d at offset 0x03e3 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 11=0x5d at addr=0x03e3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'leaflet' -> 7 Z-chars -> 6 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 1: size_byte=0xa1, data_len=6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xa1 at offset 0x03e4 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0xa1 at addr=0x03e4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x45 at offset 0x03e5 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x45 at addr=0x03e5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x46 at offset 0x03e6 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 1=0x46 at addr=0x03e6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2e at offset 0x03e7 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 2=0x2e at addr=0x03e7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2a at offset 0x03e8 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 3=0x2a at addr=0x03e8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xe4 at offset 0x03e9 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 4=0xe4 at addr=0x03e9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x03ea (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 5=0x00 at addr=0x03ea
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x03eb (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing terminator 0x00 at addr=0x03eb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Property table for 'leaflet' complete: 0x03cc-0x03eb (32 bytes)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Property table for 'leaflet' (object #11) created at 0x03cc with 4 properties: [13, 1, 2, 7]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PROPERTY TABLE: create_property_table_from_ir for object 11 ('leaflet'):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Started at prop_table_addr (current_property_addr): 0x03cc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Final addr after writing all properties: 0x03ec
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Updated current_property_addr to: 0x03ec
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - RETURNING property table address: 0x03cc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OBJECT ENTRY: Object 11 ('leaflet') property table creation:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - create_property_table_from_ir returned: 0x03cc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Writing to object space offset: 0x0098 + 7 = 0x009f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - High byte: 0x03 -> object_space[0x009f]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Low byte:  0xcc -> object_space[0x00a0]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x03 at offset 0x009f (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xcc at offset 0x00a0 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Verification: Read back from object_space = 0x03cc (high=0x03, low=0xcc)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Created object #11: 'leaflet' at offset 0x0098, attributes=0x00000000, prop_table=0x03cc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OBJECT LAYOUT: Object 12 ('window'):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Property defaults size: 62 bytes (0x3e)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Object entry size: 9 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Object offset calculation: 62 + (12 - 1) * 9 = 0x00a1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x00a1 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x00a2 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x00a3 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x04 at offset 0x00a4 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x05 at offset 0x00a5 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x00a6 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x00a7 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x03ec (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing text_length=0 at addr=0x03ec for object 'window'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Object 'window': name_bytes.len()=6, text_length=0, addr=0x03ec
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: After text_length, addr=0x03ed, about to write properties
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 15: size_byte=0x0f, data_len=1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x0f at offset 0x03ed (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0x0f at addr=0x03ed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x01 at offset 0x03ee (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x01 at addr=0x03ee
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 13: size_byte=0x2d, data_len=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2d at offset 0x03ef (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0x2d at addr=0x03ef
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x03f0 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x00 at addr=0x03f0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x03f1 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 1=0x00 at addr=0x03f1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'window' -> 6 Z-chars -> 4 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 7: size_byte=0x67, data_len=4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x67 at offset 0x03f2 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0x67 at addr=0x03f2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x71 at offset 0x03f3 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x71 at addr=0x03f3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xd3 at offset 0x03f4 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 1=0xd3 at addr=0x03f4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xa6 at offset 0x03f5 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 2=0xa6 at addr=0x03f5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x9c at offset 0x03f6 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 3=0x9c at addr=0x03f6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string '[expression]' -> 18 Z-chars -> 12 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 2: size_byte=0xe2, data_len=12
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xe2 at offset 0x03f7 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0xe2 at addr=0x03f7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x14 at offset 0x03f8 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x14 at addr=0x03f8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xc2 at offset 0x03f9 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 1=0xc2 at addr=0x03f9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x6d at offset 0x03fa (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 2=0x6d at addr=0x03fa
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x5d at offset 0x03fb (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 3=0x5d at addr=0x03fb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x56 at offset 0x03fc (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 4=0x56 at addr=0x03fc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xea at offset 0x03fd (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 5=0xea at addr=0x03fd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x63 at offset 0x03fe (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 6=0x63 at addr=0x03fe
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x0e at offset 0x03ff (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 7=0x0e at addr=0x03ff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x52 at offset 0x0400 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 8=0x52 at addr=0x0400
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x65 at offset 0x0401 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 9=0x65 at addr=0x0401
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x98 at offset 0x0402 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 10=0x98 at addr=0x0402
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x5d at offset 0x0403 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 11=0x5d at addr=0x0403
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'window' -> 6 Z-chars -> 4 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 1: size_byte=0x61, data_len=4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x61 at offset 0x0404 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0x61 at addr=0x0404
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x71 at offset 0x0405 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x71 at addr=0x0405
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xd3 at offset 0x0406 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 1=0xd3 at addr=0x0406
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xa6 at offset 0x0407 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 2=0xa6 at addr=0x0407
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x9c at offset 0x0408 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 3=0x9c at addr=0x0408
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0409 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing terminator 0x00 at addr=0x0409
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Property table for 'window' complete: 0x03ec-0x0409 (30 bytes)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Property table for 'window' (object #12) created at 0x03ec with 5 properties: [15, 7, 2, 1, 13]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PROPERTY TABLE: create_property_table_from_ir for object 12 ('window'):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Started at prop_table_addr (current_property_addr): 0x03ec
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Final addr after writing all properties: 0x040a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Updated current_property_addr to: 0x040a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - RETURNING property table address: 0x03ec
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OBJECT ENTRY: Object 12 ('window') property table creation:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - create_property_table_from_ir returned: 0x03ec
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Writing to object space offset: 0x00a1 + 7 = 0x00a8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - High byte: 0x03 -> object_space[0x00a8]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Low byte:  0xec -> object_space[0x00a9]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x03 at offset 0x00a8 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xec at offset 0x00a9 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Verification: Read back from object_space = 0x03ec (high=0x03, low=0xec)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Created object #12: 'window' at offset 0x00a1, attributes=0x00000004, prop_table=0x03ec
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OBJECT LAYOUT: Object 13 ('bird's nest'):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Property defaults size: 62 bytes (0x3e)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Object entry size: 9 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Object offset calculation: 62 + (13 - 1) * 9 = 0x00aa
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x00aa (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x00ab (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x00ac (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x02 at offset 0x00ad (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x07 at offset 0x00ae (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x00af (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x0e at offset 0x00b0 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x040a (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing text_length=0 at addr=0x040a for object 'bird's nest'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Object 'bird's nest': name_bytes.len()=8, text_length=0, addr=0x040a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: After text_length, addr=0x040b, about to write properties
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 16: size_byte=0x10, data_len=1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x10 at offset 0x040b (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0x10 at addr=0x040b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x01 at offset 0x040c (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x01 at addr=0x040c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 13: size_byte=0x2d, data_len=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2d at offset 0x040d (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0x2d at addr=0x040d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x040e (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x00 at addr=0x040e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x040f (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 1=0x00 at addr=0x040f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'bird's nest' -> 12 Z-chars -> 8 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 7: size_byte=0xe7, data_len=8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xe7 at offset 0x0410 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0xe7 at addr=0x0410
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x1d at offset 0x0411 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x1d at addr=0x0411
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xd7 at offset 0x0412 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 1=0xd7 at addr=0x0412
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x24 at offset 0x0413 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 2=0x24 at addr=0x0413
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xb8 at offset 0x0414 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 3=0xb8 at addr=0x0414
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x60 at offset 0x0415 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 4=0x60 at addr=0x0415
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x13 at offset 0x0416 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 5=0x13 at addr=0x0416
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xab at offset 0x0417 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 6=0xab at addr=0x0417
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x19 at offset 0x0418 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 7=0x19 at addr=0x0418
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string '[expression]' -> 18 Z-chars -> 12 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 2: size_byte=0xe2, data_len=12
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xe2 at offset 0x0419 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0xe2 at addr=0x0419
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x14 at offset 0x041a (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x14 at addr=0x041a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xc2 at offset 0x041b (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 1=0xc2 at addr=0x041b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x6d at offset 0x041c (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 2=0x6d at addr=0x041c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x5d at offset 0x041d (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 3=0x5d at addr=0x041d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x56 at offset 0x041e (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 4=0x56 at addr=0x041e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xea at offset 0x041f (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 5=0xea at addr=0x041f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x63 at offset 0x0420 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 6=0x63 at addr=0x0420
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x0e at offset 0x0421 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 7=0x0e at addr=0x0421
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x52 at offset 0x0422 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 8=0x52 at addr=0x0422
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x65 at offset 0x0423 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 9=0x65 at addr=0x0423
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x98 at offset 0x0424 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 10=0x98 at addr=0x0424
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x5d at offset 0x0425 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 11=0x5d at addr=0x0425
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'nest' -> 4 Z-chars -> 4 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 1: size_byte=0x61, data_len=4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x61 at offset 0x0426 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0x61 at addr=0x0426
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x4d at offset 0x0427 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x4d at addr=0x0427
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x58 at offset 0x0428 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 1=0x58 at addr=0x0428
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xe4 at offset 0x0429 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 2=0xe4 at addr=0x0429
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x042a (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 3=0x00 at addr=0x042a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x042b (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing terminator 0x00 at addr=0x042b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Property table for 'bird's nest' complete: 0x040a-0x042b (34 bytes)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Property table for 'bird's nest' (object #13) created at 0x040a with 5 properties: [2, 16, 1, 13, 7]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PROPERTY TABLE: create_property_table_from_ir for object 13 ('bird's nest'):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Started at prop_table_addr (current_property_addr): 0x040a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Final addr after writing all properties: 0x042c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Updated current_property_addr to: 0x042c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - RETURNING property table address: 0x040a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OBJECT ENTRY: Object 13 ('bird's nest') property table creation:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - create_property_table_from_ir returned: 0x040a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Writing to object space offset: 0x00aa + 7 = 0x00b1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - High byte: 0x04 -> object_space[0x00b1]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Low byte:  0x0a -> object_space[0x00b2]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x04 at offset 0x00b1 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x0a at offset 0x00b2 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Verification: Read back from object_space = 0x040a (high=0x04, low=0x0a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Created object #13: 'bird's nest' at offset 0x00aa, attributes=0x00000002, prop_table=0x040a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OBJECT LAYOUT: Object 14 ('jewel-encrusted egg'):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Property defaults size: 62 bytes (0x3e)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Object entry size: 9 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Object offset calculation: 62 + (14 - 1) * 9 = 0x00b3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x00b3 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x00b4 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x00b5 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x06 at offset 0x00b6 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x0d at offset 0x00b7 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x00b8 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x00b9 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x042c (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing text_length=0 at addr=0x042c for object 'jewel-encrusted egg'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Object 'jewel-encrusted egg': name_bytes.len()=8, text_length=0, addr=0x042c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: After text_length, addr=0x042d, about to write properties
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 18: size_byte=0x12, data_len=1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x12 at offset 0x042d (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0x12 at addr=0x042d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x01 at offset 0x042e (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x01 at addr=0x042e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 16: size_byte=0x10, data_len=1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x10 at offset 0x042f (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0x10 at addr=0x042f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x01 at offset 0x0430 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x01 at addr=0x0430
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 15: size_byte=0x0f, data_len=1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x0f at offset 0x0431 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0x0f at addr=0x0431
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x01 at offset 0x0432 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x01 at addr=0x0432
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 13: size_byte=0x2d, data_len=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2d at offset 0x0433 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0x2d at addr=0x0433
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0434 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x00 at addr=0x0434
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0435 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 1=0x00 at addr=0x0435
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'jewel-encrusted egg' -> 20 Z-chars -> 14 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 7: size_byte=0xe7, data_len=14
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xe7 at offset 0x0436 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0xe7 at addr=0x0436
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x3d at offset 0x0437 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x3d at addr=0x0437
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x5c at offset 0x0438 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 1=0x5c at addr=0x0438
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2a at offset 0x0439 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 2=0x2a at addr=0x0439
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x25 at offset 0x043a (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 3=0x25 at addr=0x043a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x71 at offset 0x043b (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 4=0x71 at addr=0x043b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x53 at offset 0x043c (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 5=0x53 at addr=0x043c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x22 at offset 0x043d (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 6=0x22 at addr=0x043d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xfa at offset 0x043e (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 7=0xfa at addr=0x043e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x63 at offset 0x043f (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 8=0x63 at addr=0x043f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2a at offset 0x0440 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 9=0x2a at addr=0x0440
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x24 at offset 0x0441 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 10=0x24 at addr=0x0441
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x0a at offset 0x0442 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 11=0x0a at addr=0x0442
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xb1 at offset 0x0443 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 12=0xb1 at addr=0x0443
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x80 at offset 0x0444 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 13=0x80 at addr=0x0444
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string '[expression]' -> 18 Z-chars -> 12 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 2: size_byte=0xe2, data_len=12
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xe2 at offset 0x0445 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0xe2 at addr=0x0445
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x14 at offset 0x0446 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0x14 at addr=0x0446
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xc2 at offset 0x0447 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 1=0xc2 at addr=0x0447
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x6d at offset 0x0448 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 2=0x6d at addr=0x0448
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x5d at offset 0x0449 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 3=0x5d at addr=0x0449
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x56 at offset 0x044a (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 4=0x56 at addr=0x044a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xea at offset 0x044b (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 5=0xea at addr=0x044b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x63 at offset 0x044c (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 6=0x63 at addr=0x044c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x0e at offset 0x044d (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 7=0x0e at addr=0x044d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x52 at offset 0x044e (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 8=0x52 at addr=0x044e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x65 at offset 0x044f (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 9=0x65 at addr=0x044f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x98 at offset 0x0450 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 10=0x98 at addr=0x0450
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x5d at offset 0x0451 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 11=0x5d at addr=0x0451
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'egg' -> 3 Z-chars -> 2 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Writing property 1: size_byte=0x21, data_len=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x21 at offset 0x0452 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing size_byte=0x21 at addr=0x0452
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0xa9 at offset 0x0453 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 0=0xa9 at addr=0x0453
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x8c at offset 0x0454 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing prop data byte 1=0x8c at addr=0x0454
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x00 at offset 0x0455 (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Writing terminator 0x00 at addr=0x0455
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] PROP TABLE DEBUG: Property table for 'jewel-encrusted egg' complete: 0x042c-0x0455 (42 bytes)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Property table for 'jewel-encrusted egg' (object #14) created at 0x042c with 7 properties: [18, 16, 13, 2, 7, 15, 1]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PROPERTY TABLE: create_property_table_from_ir for object 14 ('jewel-encrusted egg'):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Started at prop_table_addr (current_property_addr): 0x042c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Final addr after writing all properties: 0x0456
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Updated current_property_addr to: 0x0456
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - RETURNING property table address: 0x042c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OBJECT ENTRY: Object 14 ('jewel-encrusted egg') property table creation:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - create_property_table_from_ir returned: 0x042c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Writing to object space offset: 0x00b3 + 7 = 0x00ba
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - High byte: 0x04 -> object_space[0x00ba]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Low byte:  0x2c -> object_space[0x00bb]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x04 at offset 0x00ba (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] 📝 OBJECT_SPACE: Write 0x2c at offset 0x00bb (space size: 1188)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Verification: Read back from object_space = 0x042c (high=0x04, low=0x2c)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Created object #14: 'jewel-encrusted egg' at offset 0x00b3, attributes=0x00000006, prop_table=0x042c
[2025-09-12T15:05:07Z WARN  gruesome::grue_compiler::codegen_headers] 🔄 FINAL_ASSEMBLY_ADDRESS_UPDATE: Object table generation complete | 0x09b0 → 0x0456 (delta: -1370)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_objects] Object table generation complete, object_address updated to: 0x04a4
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]  Step 2b complete: Object space populated (1188 bytes)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📖 Step 2c: Generating dictionary space
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 📚 Generating minimal dictionary for Z-Machine compliance
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 📚 DICTIONARY_ALLOCATED: offset=0x0000, size=4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 📚 DICTIONARY_SPACE: Write 0x06 at offset 0x0000
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 📚 DICTIONARY_SPACE: Write 0x00 at offset 0x0001
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 📚 DICTIONARY_SPACE: Write 0x00 at offset 0x0002
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 📚 DICTIONARY_SPACE: Write 0x00 at offset 0x0003
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 📚 Dictionary space generated: 4 bytes
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]  Step 2c complete: Dictionary space populated (4 bytes)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🌐 Step 2d: Generating global variables space
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🌐 Generating global variables space
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  Global variables space created: 480 bytes (240 variables)
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]  Step 2d complete: Globals space populated (480 bytes)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📚 Step 2e: Generating abbreviations space
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📚 Generating abbreviations space
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  Abbreviations space created: 192 bytes (96 abbreviations)
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]  Step 2e complete: Abbreviations space populated (192 bytes)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 💻 Step 2f: Generating code space
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]  PHASE 2: IR → INSTRUCTION TRANSLATION TRACKING
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen] 📊 INPUT: 14 functions, 560 IR instructions total
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Setting up object mappings for IR → Z-Machine object resolution
[2025-09-12T15:05:07Z WARN  gruesome::grue_compiler::codegen] SYMBOL_IDS TABLE: 28 entries
[2025-09-12T15:05:07Z WARN  gruesome::grue_compiler::codegen] Symbol IDs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 28, 29, 30, 41, 42, 43, 44, 45, 55, 56, 57, 58, 59, 60]
[2025-09-12T15:05:07Z WARN  gruesome::grue_compiler::codegen] ID_REGISTRY: 8 total IDs tracked
[2025-09-12T15:05:07Z WARN  gruesome::grue_compiler::codegen] All tracked IDs: [15, 18, 19, 20, 22, 23, 26, 27]
[2025-09-12T15:05:07Z WARN  gruesome::grue_compiler::codegen] ID types: 0 temporary, 8 symbol, 0 expression
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] === IR OBJECT_NUMBERS DEBUG ===
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] ir.object_numbers table contents:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   'forest' -> Object #13
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   'mailbox' -> Object #3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   'west_of_house' -> Object #2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   'leaflet' -> Object #4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   'egg' -> Object #12
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   'north_of_house' -> Object #5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   'behind_house' -> Object #7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   'south_of_house' -> Object #6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   'player' -> Object #1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   'tree' -> Object #10
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   'window' -> Object #8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   'nest' -> Object #11
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   'clearing' -> Object #14
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   'forest_path' -> Object #9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] ir.symbol_ids table contents:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   'north_of_house' -> IR ID 42
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   'forest_path' -> IR ID 55
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   'player_can_see' -> IR ID 11
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   'list_objects' -> IR ID 12
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   'west_of_house' -> IR ID 28
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   'examine' -> IR ID 2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   'handle_drop' -> IR ID 6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   'look_around' -> IR ID 1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   'handle_go' -> IR ID 8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   'take_all' -> IR ID 14
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   'handle_climb' -> IR ID 9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   'print' -> IR ID 41
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   'handle_open' -> IR ID 3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   'behind_house' -> IR ID 44
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   'list_contents' -> IR ID 13
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   'handle_read' -> IR ID 10
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   'forest' -> IR ID 59
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   'window' -> IR ID 45
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   'leaflet' -> IR ID 30
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   'nest' -> IR ID 57
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   'handle_close' -> IR ID 4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   'show_inventory' -> IR ID 7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   'south_of_house' -> IR ID 43
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   'mailbox' -> IR ID 29
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   'clearing' -> IR ID 60
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   'handle_take' -> IR ID 5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   'egg' -> IR ID 58
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   'tree' -> IR ID 56
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   MAPPING: IR ID 42 ('north_of_house') -> Object #5 
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   MAPPING: IR ID 55 ('forest_path') -> Object #9 
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   MAPPING: IR ID 28 ('west_of_house') -> Object #2 
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   MAPPING: IR ID 44 ('behind_house') -> Object #7 
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   MAPPING: IR ID 59 ('forest') -> Object #13 
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   MAPPING: IR ID 45 ('window') -> Object #8 
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   MAPPING: IR ID 30 ('leaflet') -> Object #4 
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   MAPPING: IR ID 57 ('nest') -> Object #11 
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   MAPPING: IR ID 43 ('south_of_house') -> Object #6 
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   MAPPING: IR ID 29 ('mailbox') -> Object #3 
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   MAPPING: IR ID 60 ('clearing') -> Object #14 
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   MAPPING: IR ID 58 ('egg') -> Object #12 
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   MAPPING: IR ID 56 ('tree') -> Object #10 
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Object mapping setup complete: 13 IR ID -> object number mappings created
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen] 🏁 Code generation phase: Using code_address to track code_space position - starting at offset 0x0000
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen] 🏁 Starting code generation - PC will point directly to first instruction
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]  FUNCTION_REGISTRATION: Functions will be registered during actual code generation
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]  GENERATING: Init block as proper Z-Machine routine (19 instructions)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] generate_init_block: Generating init routine with 19 instructions (Z-Machine native architecture - header first)
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]  ZORK_ARCHITECTURE: Generating main routine at 0x0000 (PC target, header first)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] V3 function header (main routine) at 0x0000
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0000
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=0, byte=0x00, code_address=0x0000, space_len=1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Code space 0 write: Writing byte 0x00 to code_space[0] at code_address=0x0000
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0000 -> 0x0001 (offset 0) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🏁 MAIN_ROUTINE: Header complete at 0x0001, instructions follow
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record final address: Recording IR ID 8000 -> absolute_address 0x0000
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record final address: Address is already absolute in final memory layout
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Generating 19 init block instructions
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 IR[0]: LoadImmediate { target: 558, value: Integer(2) } at code_addr=0x0001
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 558, value: Integer(2) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 558
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 IR[0]: Generated 0 bytes (0x0001 -> 0x0001)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 IR[1]: LoadImmediate { target: 559, value: Integer(1) } at code_addr=0x0001
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 559, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 559
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 IR[1]: Generated 0 bytes (0x0001 -> 0x0001)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 IR[2]: SetPropertyByNumber { object: 559, property_num: 13, value: 558 } at code_addr=0x0001
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: SetPropertyByNumber { object: 559, property_num: 13, value: 558 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 559
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 559 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 558
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 558 resolved to LargeConstant(2)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x03 at PC=0x0001 operands=[LargeConstant(1), Constant(13), LargeConstant(2)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0001 gen_addr=0x0001 opcode=0x03 operands=[LargeConstant(1), Constant(13), LargeConstant(2)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x03 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0x03, store_var=None, branch_offset=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0x03, var_bit=0x20, instruction_byte=0xe3 at address 0x0001
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1, byte=0xe3, code_address=0x0001, space_len=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0001 -> 0x0002 (offset 1) after emitting byte 0xe3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x13 at address 0x0002
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=2, byte=0x13, code_address=0x0002, space_len=3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0002 -> 0x0003 (offset 2) after emitting byte 0x13
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0003
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0003
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=3, byte=0x00, code_address=0x0003, space_len=4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0003 -> 0x0004 (offset 3) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0004 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=4, byte=0x01, code_address=0x0004, space_len=5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0004 -> 0x0005 (offset 4) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=5, byte=0x0d, code_address=0x0005, space_len=6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0005 -> 0x0006 (offset 5) after emitting byte 0x0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0002 -> high_byte=0x00, low_byte=0x02 at code_address 0x0006
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0006
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=6, byte=0x00, code_address=0x0006, space_len=7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0006 -> 0x0007 (offset 6) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=7, byte=0x02, code_address=0x0007, space_len=8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0007 -> 0x0008 (offset 7) after emitting byte 0x02
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generated put_prop for property number 13 with resolved object
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 IR[2]: Generated 7 bytes (0x0001 -> 0x0008)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 IR[3]: LoadImmediate { target: 560, value: Boolean(true) } at code_addr=0x0008
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 560, value: Boolean(true) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 560
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 IR[3]: Generated 0 bytes (0x0008 -> 0x0008)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 IR[4]: LoadImmediate { target: 561, value: Integer(2) } at code_addr=0x0008
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 561, value: Integer(2) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 561
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 IR[4]: Generated 0 bytes (0x0008 -> 0x0008)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 IR[5]: SetPropertyByNumber { object: 561, property_num: 14, value: 560 } at code_addr=0x0008
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: SetPropertyByNumber { object: 561, property_num: 14, value: 560 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 561
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 561 resolved to LargeConstant(2)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 560
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 560 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x03 at PC=0x0008 operands=[LargeConstant(2), Constant(14), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0008 gen_addr=0x0008 opcode=0x03 operands=[LargeConstant(2), Constant(14), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x03 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0x03, store_var=None, branch_offset=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0x03, var_bit=0x20, instruction_byte=0xe3 at address 0x0008
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=8, byte=0xe3, code_address=0x0008, space_len=9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0008 -> 0x0009 (offset 8) after emitting byte 0xe3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x13 at address 0x0009
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=9, byte=0x13, code_address=0x0009, space_len=10
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0009 -> 0x000a (offset 9) after emitting byte 0x13
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0002 -> high_byte=0x00, low_byte=0x02 at code_address 0x000a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x000a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x000a -> 0x000b (offset 10) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=11, byte=0x02, code_address=0x000b, space_len=12
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x000b -> 0x000c (offset 11) after emitting byte 0x02
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=12, byte=0x0e, code_address=0x000c, space_len=13
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x000c -> 0x000d (offset 12) after emitting byte 0x0e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x000d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x000d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x000d -> 0x000e (offset 13) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x000e opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=14, byte=0x01, code_address=0x000e, space_len=15
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x000e -> 0x000f (offset 14) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generated put_prop for property number 14 with resolved object
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 IR[5]: Generated 7 bytes (0x0008 -> 0x000f)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 IR[6]: LoadImmediate { target: 562, value: String("DORK I: The Last Great Empire") } at code_addr=0x000f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 562, value: String("DORK I: The Last Great Empire") }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 562
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 IR[6]: Generated 0 bytes (0x000f -> 0x000f)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 IR[7]: Call { target: Some(563), function: 41, args: [562] } at code_addr=0x000f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(563), function: 41, args: [562] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 563
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] generate_print_builtin: Looking up string for IR ID 562
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available string IDs = [562]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available integer IDs = [561, 560, 559, 558]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]  OPTION_B_FIX: String ID 562 already in encoding system
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8d at PC=0x000f operands=[LargeConstant(65535)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x000f gen_addr=0x000f opcode=0x8d operands=[LargeConstant(65535)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8d -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x000f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=15, byte=0x8d, code_address=0x000f, space_len=16
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x000f -> 0x0010 (offset 15) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x0010
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0010
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=16, byte=0xff, code_address=0x0010, space_len=17
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0010 -> 0x0011 (offset 16) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0011
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=17, byte=0xff, code_address=0x0011, space_len=18
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0011 -> 0x0012 (offset 17) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 563 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 563 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 IR[7]: Generated 3 bytes (0x000f -> 0x0012)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 IR[8]: LoadImmediate { target: 564, value: String("Copyright (c) 2025 Grue Games. All rights reserved.") } at code_addr=0x0012
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 564, value: String("Copyright (c) 2025 Grue Games. All rights reserved.") }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 564
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 IR[8]: Generated 0 bytes (0x0012 -> 0x0012)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 IR[9]: Call { target: Some(565), function: 41, args: [564] } at code_addr=0x0012
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(565), function: 41, args: [564] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 565
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] generate_print_builtin: Looking up string for IR ID 564
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available string IDs = [564, 562]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available integer IDs = [561, 560, 559, 558]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]  OPTION_B_FIX: String ID 564 already in encoding system
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8d at PC=0x0012 operands=[LargeConstant(65535)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0012 gen_addr=0x0012 opcode=0x8d operands=[LargeConstant(65535)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8d -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x0012
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=18, byte=0x8d, code_address=0x0012, space_len=19
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0012 -> 0x0013 (offset 18) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x0013
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0013
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=19, byte=0xff, code_address=0x0013, space_len=20
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0013 -> 0x0014 (offset 19) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0014
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=20, byte=0xff, code_address=0x0014, space_len=21
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0014 -> 0x0015 (offset 20) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 565 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 565 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 IR[9]: Generated 3 bytes (0x0012 -> 0x0015)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 IR[10]: LoadImmediate { target: 566, value: String("ZORK is a registered trademark of Infocom, Inc.") } at code_addr=0x0015
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 566, value: String("ZORK is a registered trademark of Infocom, Inc.") }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 566
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 IR[10]: Generated 0 bytes (0x0015 -> 0x0015)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 IR[11]: Call { target: Some(567), function: 41, args: [566] } at code_addr=0x0015
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(567), function: 41, args: [566] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 567
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] generate_print_builtin: Looking up string for IR ID 566
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available string IDs = [564, 562, 566]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available integer IDs = [561, 560, 559, 558]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]  OPTION_B_FIX: String ID 566 already in encoding system
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8d at PC=0x0015 operands=[LargeConstant(65535)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0015 gen_addr=0x0015 opcode=0x8d operands=[LargeConstant(65535)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8d -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x0015
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=21, byte=0x8d, code_address=0x0015, space_len=22
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0015 -> 0x0016 (offset 21) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x0016
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0016
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=22, byte=0xff, code_address=0x0016, space_len=23
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0016 -> 0x0017 (offset 22) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0017
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=23, byte=0xff, code_address=0x0017, space_len=24
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0017 -> 0x0018 (offset 23) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 567 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 567 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 IR[11]: Generated 3 bytes (0x0015 -> 0x0018)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 IR[12]: LoadImmediate { target: 568, value: String("DORK is .... not") } at code_addr=0x0018
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 568, value: String("DORK is .... not") }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 568
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 IR[12]: Generated 0 bytes (0x0018 -> 0x0018)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 IR[13]: Call { target: Some(569), function: 41, args: [568] } at code_addr=0x0018
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(569), function: 41, args: [568] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 569
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] generate_print_builtin: Looking up string for IR ID 568
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available string IDs = [568, 566, 562, 564]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available integer IDs = [561, 560, 559, 558]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]  OPTION_B_FIX: String ID 568 already in encoding system
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8d at PC=0x0018 operands=[LargeConstant(65535)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0018 gen_addr=0x0018 opcode=0x8d operands=[LargeConstant(65535)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8d -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x0018
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=24, byte=0x8d, code_address=0x0018, space_len=25
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0018 -> 0x0019 (offset 24) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x0019
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0019
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=25, byte=0xff, code_address=0x0019, space_len=26
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0019 -> 0x001a (offset 25) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x001a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=26, byte=0xff, code_address=0x001a, space_len=27
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x001a -> 0x001b (offset 26) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 569 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 569 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 IR[13]: Generated 3 bytes (0x0018 -> 0x001b)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 IR[14]: LoadImmediate { target: 570, value: String("Revision 1 / Serial number 8675309") } at code_addr=0x001b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 570, value: String("Revision 1 / Serial number 8675309") }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 570
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 IR[14]: Generated 0 bytes (0x001b -> 0x001b)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 IR[15]: Call { target: Some(571), function: 41, args: [570] } at code_addr=0x001b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(571), function: 41, args: [570] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 571
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] generate_print_builtin: Looking up string for IR ID 570
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available string IDs = [568, 566, 562, 570, 564]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available integer IDs = [561, 560, 559, 558]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]  OPTION_B_FIX: String ID 570 already in encoding system
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8d at PC=0x001b operands=[LargeConstant(65535)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x001b gen_addr=0x001b opcode=0x8d operands=[LargeConstant(65535)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8d -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x001b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=27, byte=0x8d, code_address=0x001b, space_len=28
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x001b -> 0x001c (offset 27) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x001c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x001c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=28, byte=0xff, code_address=0x001c, space_len=29
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x001c -> 0x001d (offset 28) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x001d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=29, byte=0xff, code_address=0x001d, space_len=30
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x001d -> 0x001e (offset 29) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 571 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 571 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 IR[15]: Generated 3 bytes (0x001b -> 0x001e)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 IR[16]: LoadImmediate { target: 572, value: String("") } at code_addr=0x001e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 572, value: String("") }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 572
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 IR[16]: Generated 0 bytes (0x001e -> 0x001e)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 IR[17]: Call { target: Some(573), function: 41, args: [572] } at code_addr=0x001e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(573), function: 41, args: [572] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 573
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] generate_print_builtin: Looking up string for IR ID 572
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available string IDs = [568, 566, 562, 570, 572, 564]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available integer IDs = [561, 560, 559, 558]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]  OPTION_B_FIX: String ID 572 already in encoding system
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8d at PC=0x001e operands=[LargeConstant(65535)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x001e gen_addr=0x001e opcode=0x8d operands=[LargeConstant(65535)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8d -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x001e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=30, byte=0x8d, code_address=0x001e, space_len=31
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x001e -> 0x001f (offset 30) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x001f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x001f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=31, byte=0xff, code_address=0x001f, space_len=32
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x001f -> 0x0020 (offset 31) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0020
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=32, byte=0xff, code_address=0x0020, space_len=33
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0020 -> 0x0021 (offset 32) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 573 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 573 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 IR[17]: Generated 3 bytes (0x001e -> 0x0021)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 IR[18]: Call { target: Some(574), function: 1, args: [] } at code_addr=0x0021
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(574), function: 1, args: [] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 574
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xe0 at PC=0x0021 operands=[LargeConstant(65535)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x0021
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0021 gen_addr=0x0021 opcode=0xe0 operands=[LargeConstant(65535)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xe0 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xe0, store_var=Some(0), branch_offset=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xe0, var_bit=0x20, instruction_byte=0xe0 at address 0x0021
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0xe0 (call_vs) at address 0x0021
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=33, byte=0xe0, code_address=0x0021, space_len=34
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0021 -> 0x0022 (offset 33) after emitting byte 0xe0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x3f at address 0x0022
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=34, byte=0x3f, code_address=0x0022, space_len=35
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0022 -> 0x0023 (offset 34) after emitting byte 0x3f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x0023
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0023
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=35, byte=0xff, code_address=0x0023, space_len=36
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0023 -> 0x0024 (offset 35) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0024
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=36, byte=0xff, code_address=0x0024, space_len=37
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0024 -> 0x0025 (offset 36) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0025
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0025 -> 0x0026 (offset 37) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack after function call - depth now: 0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generated call to function ID 1 with unresolved reference at 0x0023
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 574 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 574 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 IR[18]: Generated 5 bytes (0x0021 -> 0x0026)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Adding main loop jump for Interactive mode at 0x0026
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xc1 at PC=0x0026 operands=[LargeConstant(1), LargeConstant(65535)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0026 gen_addr=0x0026 opcode=0xc1 operands=[LargeConstant(1), LargeConstant(65535)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xc1 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xc1, store_var=None, branch_offset=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xc1, var_bit=0x00, instruction_byte=0xc1 at address 0x0026
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=38, byte=0xc1, code_address=0x0026, space_len=39
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0026 -> 0x0027 (offset 38) after emitting byte 0xc1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x0f at address 0x0027
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=39, byte=0x0f, code_address=0x0027, space_len=40
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0027 -> 0x0028 (offset 39) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0028
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0028
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0028 -> 0x0029 (offset 40) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0029 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=41, byte=0x01, code_address=0x0029, space_len=42
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0029 -> 0x002a (offset 41) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x002a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x002a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=42, byte=0xff, code_address=0x002a, space_len=43
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x002a -> 0x002b (offset 42) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x002b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=43, byte=0xff, code_address=0x002b, space_len=44
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x002b -> 0x002c (offset 43) after emitting byte 0xff
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]  MAIN_ROUTINE: Complete at 0x002b (PC target: 0x0000, 0 locals)
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]  Init block generated as routine at startup address 0x0000 with 0 locals
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]  TRANSLATING: All function definitions
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  TRANSLATING: Function #0: 'look_around' (25 instructions)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ALIGN: Function 'look_around' before alignment at code_address=0x002c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ALIGN: Function 'look_around' after alignment at code_address=0x002c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ADDRESS_FIX: Function 'look_around' stored at relative address 0x002c (Phase 2)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record code offset: Recording IR ID 1 -> code_space_offset 0x002c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record code offset: This will be converted to absolute address during final assembly
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_UPDATED: 'look_around' (ID 1) updated to actual address 0x002c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PARAMETER_SETUP: Function 'look_around' has 0 parameters
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  GENERATING: Routine header for 'look_around' with 0 locals
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_START: Reset local variable counter for function 'look_around'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_LOCALS: 'look_around' declared=0, using=0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Generating V3 header: 0 declared locals for function 'look_around'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x002c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x002c -> 0x002d (offset 44) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 62, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 62
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 63, object: 62, property_num: 13 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 63
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 62
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 62 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 63 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x002d operands=[LargeConstant(1), LargeConstant(13)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x002d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x002d gen_addr=0x002d opcode=0x11 operands=[LargeConstant(1), LargeConstant(13)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=45, byte=0x11, code_address=0x002d, space_len=46
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x002d -> 0x002e (offset 45) after emitting byte 0x11
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x002e opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=46, byte=0x01, code_address=0x002e, space_len=47
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x002e -> 0x002f (offset 46) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=47, byte=0x0d, code_address=0x002f, space_len=48
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x002f -> 0x0030 (offset 47) after emitting byte 0x0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0030
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0030 -> 0x0031 (offset 48) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 63 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 64, object: 63, property_num: 7 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 64
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 63
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 63 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 64 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x0031 operands=[Variable(0), LargeConstant(7)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x0031
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x0031
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0031 gen_addr=0x0031 opcode=0x11 operands=[Variable(0), LargeConstant(7)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=49, byte=0x51, code_address=0x0031, space_len=50
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0031 -> 0x0032 (offset 49) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0032
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0032 -> 0x0033 (offset 50) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=51, byte=0x07, code_address=0x0033, space_len=52
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0033 -> 0x0034 (offset 51) after emitting byte 0x07
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0034
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0034 -> 0x0035 (offset 52) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 64 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(65), function: 41, args: [64] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 65
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] generate_print_builtin: Looking up string for IR ID 64
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available string IDs = [568, 566, 562, 570, 572, 564]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available integer IDs = [561, 560, 559, 558, 62]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] IR ID 64 is not a string literal - generating runtime evaluation for print
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 64
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 64 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] IR ID 64 resolved to operand Variable(0) - generating print_num
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x06 at PC=0x0035 operands=[Variable(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x0035
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0035 gen_addr=0x0035 opcode=0x06 operands=[Variable(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x06 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0x06, store_var=None, branch_offset=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0x06, var_bit=0x20, instruction_byte=0xe6 at address 0x0035
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=53, byte=0xe6, code_address=0x0035, space_len=54
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0035 -> 0x0036 (offset 53) after emitting byte 0xe6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0xbf at address 0x0036
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=54, byte=0xbf, code_address=0x0036, space_len=55
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0036 -> 0x0037 (offset 54) after emitting byte 0xbf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0037
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0037 -> 0x0038 (offset 55) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 65 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 65 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 66, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 66
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 67, object: 66, property_num: 13 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 67
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 66
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 66 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 67 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x0038 operands=[LargeConstant(1), LargeConstant(13)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x0038
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0038 gen_addr=0x0038 opcode=0x11 operands=[LargeConstant(1), LargeConstant(13)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=56, byte=0x11, code_address=0x0038, space_len=57
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0038 -> 0x0039 (offset 56) after emitting byte 0x11
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0039 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=57, byte=0x01, code_address=0x0039, space_len=58
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0039 -> 0x003a (offset 57) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=58, byte=0x0d, code_address=0x003a, space_len=59
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x003a -> 0x003b (offset 58) after emitting byte 0x0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x003b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x003b -> 0x003c (offset 59) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 67 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(68), function: 12, args: [67] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 68
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 67
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 67 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xe0 at PC=0x003c operands=[LargeConstant(65535), Variable(0)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[1] reads from stack at PC=0x003c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x003c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x003c gen_addr=0x003c opcode=0xe0 operands=[LargeConstant(65535), Variable(0)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xe0 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xe0, store_var=Some(0), branch_offset=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xe0, var_bit=0x20, instruction_byte=0xe0 at address 0x003c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0xe0 (call_vs) at address 0x003c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=60, byte=0xe0, code_address=0x003c, space_len=61
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x003c -> 0x003d (offset 60) after emitting byte 0xe0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x2f at address 0x003d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=61, byte=0x2f, code_address=0x003d, space_len=62
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x003d -> 0x003e (offset 61) after emitting byte 0x2f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x003e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x003e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=62, byte=0xff, code_address=0x003e, space_len=63
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x003e -> 0x003f (offset 62) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x003f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=63, byte=0xff, code_address=0x003f, space_len=64
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x003f -> 0x0040 (offset 63) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0040
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0040 -> 0x0041 (offset 64) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0041
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0041 -> 0x0042 (offset 65) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack after function call - depth now: 2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generated call to function ID 12 with unresolved reference at 0x003e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 68 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 68 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 69, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 69
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 70, object: 69, property_num: 13 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 70
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 69
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 69 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 70 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x0042 operands=[LargeConstant(1), LargeConstant(13)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x0042
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0042 gen_addr=0x0042 opcode=0x11 operands=[LargeConstant(1), LargeConstant(13)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=66, byte=0x11, code_address=0x0042, space_len=67
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0042 -> 0x0043 (offset 66) after emitting byte 0x11
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0043 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=67, byte=0x01, code_address=0x0043, space_len=68
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0043 -> 0x0044 (offset 67) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=68, byte=0x0d, code_address=0x0044, space_len=69
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0044 -> 0x0045 (offset 68) after emitting byte 0x0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0045
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0045 -> 0x0046 (offset 69) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 70 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 71, object: 70, property_num: 19 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 71
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 70
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 70 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 71 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x0046 operands=[Variable(0), LargeConstant(19)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x0046
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x0046
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0046 gen_addr=0x0046 opcode=0x11 operands=[Variable(0), LargeConstant(19)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=70, byte=0x51, code_address=0x0046, space_len=71
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0046 -> 0x0047 (offset 70) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0047
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0047 -> 0x0048 (offset 71) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=72, byte=0x13, code_address=0x0048, space_len=73
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0048 -> 0x0049 (offset 72) after emitting byte 0x13
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0049
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0049 -> 0x004a (offset 73) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 71 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Branch { condition: 71, true_label: 72, false_label: 73 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: condition_id=71, true=72, false=73 at code_addr=0x004a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] CHECKING_BINARY_OP_MAPPING: condition=71, mapping exists=false
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Condition 71 is not a comparison - using jz branch approach
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 71
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 71 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xa0 at PC=0x004a operands=[Variable(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x004a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x004a gen_addr=0x004a opcode=0xa0 operands=[Variable(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xa0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x004a byte=0xa0 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=74, byte=0xa0, code_address=0x004a, space_len=75
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x004a -> 0x004b (offset 74) after emitting byte 0xa0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x004b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x004b -> 0x004c (offset 75) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x004c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x004c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=76, byte=0xff, code_address=0x004c, space_len=77
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x004c -> 0x004d (offset 76) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x004d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=77, byte=0xff, code_address=0x004d, space_len=78
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x004d -> 0x004e (offset 77) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  JZ_BRANCH_REF_CREATE: code_space_offset=0x004c target_id=73 (will convert to final address during assembly)
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen] 🔍 JZ_BRANCH_DEBUG: Created UnresolvedReference
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Code space offset: 0x004c
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Target ID: 73
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Final code base: 0x0000
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Estimated final location: 0x004c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Added jz branch reference: code_space_offset=0x004c, target=73
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: Generated 4 bytes (0x004a -> 0x004e)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 72 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 72 -> address 0x004e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 76, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 76
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 77, object: 76, property_num: 13 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 77
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 76
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 76 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 77 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x004e operands=[LargeConstant(1), LargeConstant(13)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x004e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x004e gen_addr=0x004e opcode=0x11 operands=[LargeConstant(1), LargeConstant(13)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=78, byte=0x11, code_address=0x004e, space_len=79
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x004e -> 0x004f (offset 78) after emitting byte 0x11
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x004f opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=79, byte=0x01, code_address=0x004f, space_len=80
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x004f -> 0x0050 (offset 79) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=80, byte=0x0d, code_address=0x0050, space_len=81
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0050 -> 0x0051 (offset 80) after emitting byte 0x0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0051
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0051 -> 0x0052 (offset 81) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 77 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 78, object: 77, property_num: 19 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 78
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 77
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 77 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 78 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x0052 operands=[Variable(0), LargeConstant(19)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x0052
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x0052
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0052 gen_addr=0x0052 opcode=0x11 operands=[Variable(0), LargeConstant(19)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=82, byte=0x51, code_address=0x0052, space_len=83
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0052 -> 0x0053 (offset 82) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0053
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0053 -> 0x0054 (offset 83) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=84, byte=0x13, code_address=0x0054, space_len=85
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0054 -> 0x0055 (offset 84) after emitting byte 0x13
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0055
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0055 -> 0x0056 (offset 85) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 78 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Branch { condition: 78, true_label: 80, false_label: 81 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: condition_id=78, true=80, false=81 at code_addr=0x0056
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] CHECKING_BINARY_OP_MAPPING: condition=78, mapping exists=false
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Condition 78 is not a comparison - using jz branch approach
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 78
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 78 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xa0 at PC=0x0056 operands=[Variable(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x0056
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0056 gen_addr=0x0056 opcode=0xa0 operands=[Variable(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xa0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x0056 byte=0xa0 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=86, byte=0xa0, code_address=0x0056, space_len=87
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0056 -> 0x0057 (offset 86) after emitting byte 0xa0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0057
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0057 -> 0x0058 (offset 87) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x0058
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0058
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=88, byte=0xff, code_address=0x0058, space_len=89
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0058 -> 0x0059 (offset 88) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0059
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=89, byte=0xff, code_address=0x0059, space_len=90
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0059 -> 0x005a (offset 89) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  JZ_BRANCH_REF_CREATE: code_space_offset=0x0058 target_id=81 (will convert to final address during assembly)
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen] 🔍 JZ_BRANCH_DEBUG: Created UnresolvedReference
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Code space offset: 0x0058
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Target ID: 81
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Final code base: 0x0000
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Estimated final location: 0x0058
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Added jz branch reference: code_space_offset=0x0058, target=81
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: Generated 4 bytes (0x0056 -> 0x005a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 80 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 80 -> address 0x005a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 79, object: 77, property_num: 19 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 79
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 77
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 77 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 79 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x005a operands=[Variable(0), LargeConstant(19)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x005a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x005a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x005a gen_addr=0x005a opcode=0x11 operands=[Variable(0), LargeConstant(19)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=90, byte=0x51, code_address=0x005a, space_len=91
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x005a -> 0x005b (offset 90) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x005b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x005b -> 0x005c (offset 91) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=92, byte=0x13, code_address=0x005c, space_len=93
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x005c -> 0x005d (offset 92) after emitting byte 0x13
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x005d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x005d -> 0x005e (offset 93) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 79 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Jump { label: 82 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xc1 at PC=0x005e operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x005e gen_addr=0x005e opcode=0xc1 operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xc1 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xc1, store_var=None, branch_offset=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xc1, var_bit=0x00, instruction_byte=0xc1 at address 0x005e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=94, byte=0xc1, code_address=0x005e, space_len=95
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x005e -> 0x005f (offset 94) after emitting byte 0xc1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x0f at address 0x005f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=95, byte=0x0f, code_address=0x005f, space_len=96
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x005f -> 0x0060 (offset 95) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0060
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0060
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0060 -> 0x0061 (offset 96) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0061 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=97, byte=0x01, code_address=0x0061, space_len=98
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0061 -> 0x0062 (offset 97) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0062
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0062
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0062 -> 0x0063 (offset 98) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0063 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=99, byte=0x01, code_address=0x0063, space_len=100
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0063 -> 0x0064 (offset 99) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=0 at address=0x0064
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=100, byte=0xc0, code_address=0x0064, space_len=101
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0064 -> 0x0065 (offset 100) after emitting byte 0xc0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 81 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 81 -> address 0x0065
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 79, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 79
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 82 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 82 -> address 0x0065
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Jump { label: 74 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xc1 at PC=0x0065 operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0065 gen_addr=0x0065 opcode=0xc1 operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xc1 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xc1, store_var=None, branch_offset=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xc1, var_bit=0x00, instruction_byte=0xc1 at address 0x0065
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=101, byte=0xc1, code_address=0x0065, space_len=102
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0065 -> 0x0066 (offset 101) after emitting byte 0xc1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x0f at address 0x0066
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=102, byte=0x0f, code_address=0x0066, space_len=103
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0066 -> 0x0067 (offset 102) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0067
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0067
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0067 -> 0x0068 (offset 103) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0068 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=104, byte=0x01, code_address=0x0068, space_len=105
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0068 -> 0x0069 (offset 104) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0069
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0069
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0069 -> 0x006a (offset 105) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x006a opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=106, byte=0x01, code_address=0x006a, space_len=107
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x006a -> 0x006b (offset 106) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=0 at address=0x006b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=107, byte=0xc0, code_address=0x006b, space_len=108
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x006b -> 0x006c (offset 107) after emitting byte 0xc0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 73 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 73 -> address 0x006c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 74 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 74 -> address 0x006c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Function 'look_around' ends with return: false
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Adding implicit return to function 'look_around'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xb0 at PC=0x006c operands=[] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x006c gen_addr=0x006c opcode=0xb0 operands=[] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xb0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0xb0 (rtrue) at address 0x006c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=108, byte=0xb0, code_address=0x006c, space_len=109
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x006c -> 0x006d (offset 108) after emitting byte 0xb0
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]  Function 'look_around' complete: 65 bytes generated
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FINALIZE: Function 'look_around' used 0 local variables during generation
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] ❌ PATCH_ERROR: No header location found for function 1 ('look_around')
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  TRANSLATING: Function #1: 'examine' (17 instructions)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ALIGN: Function 'examine' before alignment at code_address=0x006d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ALIGN: Adding padding byte for even alignment
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x006d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x006d -> 0x006e (offset 109) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ALIGN: Function 'examine' after alignment at code_address=0x006e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ADDRESS_FIX: Function 'examine' stored at relative address 0x006e (Phase 2)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record code offset: Recording IR ID 2 -> code_space_offset 0x006e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record code offset: This will be converted to absolute address during final assembly
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_UPDATED: 'examine' (ID 2) updated to actual address 0x006e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PARAMETER_SETUP: Function 'examine' has 1 parameters
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  Parameter mapping: 'obj' (IR ID 83) -> local variable slot 1 for function 'examine'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  GENERATING: Routine header for 'examine' with 1 locals
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_START: Reset local variable counter for function 'examine'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_LOCALS: 'examine' declared=1, using=1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Generating V3 header: 1 declared locals for function 'examine'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x006e opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=110, byte=0x01, code_address=0x006e, space_len=111
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x006e -> 0x006f (offset 110) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0000 -> high_byte=0x00, low_byte=0x00 at code_address 0x006f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  NULL_WORD_SOURCE: emit_word(0x0000) called at code_address 0x006f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  This might be valid V3 default local values OR invalid placeholder operands
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x006f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x006f -> 0x0070 (offset 111) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0070
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0070 -> 0x0071 (offset 112) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitted default value for local 1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 85, object: 83, property_num: 13 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 85
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 83
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 83 resolved to Variable(1) [Local parameter]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 85 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x0071 operands=[Variable(1), LargeConstant(13)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x0071
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0071 gen_addr=0x0071 opcode=0x11 operands=[Variable(1), LargeConstant(13)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=113, byte=0x51, code_address=0x0071, space_len=114
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0071 -> 0x0072 (offset 113) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(1) -> Z-Machine variable 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0072 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=114, byte=0x01, code_address=0x0072, space_len=115
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0072 -> 0x0073 (offset 114) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=115, byte=0x0d, code_address=0x0073, space_len=116
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0073 -> 0x0074 (offset 115) after emitting byte 0x0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0074
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0074 -> 0x0075 (offset 116) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 85 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 86, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 86
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 87, object: 86, property_num: 13 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 87
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 86
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 86 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 87 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x0075 operands=[LargeConstant(1), LargeConstant(13)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x0075
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0075 gen_addr=0x0075 opcode=0x11 operands=[LargeConstant(1), LargeConstant(13)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=117, byte=0x11, code_address=0x0075, space_len=118
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0075 -> 0x0076 (offset 117) after emitting byte 0x11
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0076 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=118, byte=0x01, code_address=0x0076, space_len=119
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0076 -> 0x0077 (offset 118) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=119, byte=0x0d, code_address=0x0077, space_len=120
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0077 -> 0x0078 (offset 119) after emitting byte 0x0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0078
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0078 -> 0x0079 (offset 120) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 87 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: BinaryOp { target: 88, op: Equal, left: 85, right: 87 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: BinaryOp creates target IR ID 88
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] UNIFIED_BINARYOP_PROCESSING: target=88, op=Equal, left=85, right=87
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 88 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Comparison BinaryOp registered: IR ID 88 -> stack, bytecode deferred to branch generation
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ZERO BYTES: IR instruction generated no bytecode: BinaryOp { target: 88, op: Equal, left: 85, right: 87 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 89, object: 83, property_num: 13 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 89
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 83
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 83 resolved to Variable(1) [Local parameter]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 89 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x0079 operands=[Variable(1), LargeConstant(13)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x0079
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0079 gen_addr=0x0079 opcode=0x11 operands=[Variable(1), LargeConstant(13)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=121, byte=0x51, code_address=0x0079, space_len=122
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0079 -> 0x007a (offset 121) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(1) -> Z-Machine variable 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x007a opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=122, byte=0x01, code_address=0x007a, space_len=123
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x007a -> 0x007b (offset 122) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=123, byte=0x0d, code_address=0x007b, space_len=124
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x007b -> 0x007c (offset 123) after emitting byte 0x0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x007c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x007c -> 0x007d (offset 124) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 10
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 89 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 90, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 90
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: BinaryOp { target: 91, op: Equal, left: 89, right: 90 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: BinaryOp creates target IR ID 91
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] UNIFIED_BINARYOP_PROCESSING: target=91, op=Equal, left=89, right=90
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 91 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Comparison BinaryOp registered: IR ID 91 -> stack, bytecode deferred to branch generation
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ZERO BYTES: IR instruction generated no bytecode: BinaryOp { target: 91, op: Equal, left: 89, right: 90 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: BinaryOp { target: 92, op: Or, left: 88, right: 91 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: BinaryOp creates target IR ID 92
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] UNIFIED_BINARYOP_PROCESSING: target=92, op=Or, left=88, right=91
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 88
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 88 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 91
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 91 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Generating binary operation: Or with operands Variable(0), Variable(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x08 at PC=0x007d operands=[Variable(0), Variable(0)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x007d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[1] reads from stack at PC=0x007d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x007d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x007d gen_addr=0x007d opcode=0x08 operands=[Variable(0), Variable(0)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x08 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=125, byte=0x68, code_address=0x007d, space_len=126
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x007d -> 0x007e (offset 125) after emitting byte 0x68
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x007e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x007e -> 0x007f (offset 126) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x007f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x007f -> 0x0080 (offset 127) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0080
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0080 -> 0x0081 (offset 128) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (generic) - depth now: 11
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 92 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] BinaryOp (Or) result: IR ID 92 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Branch { condition: 92, true_label: 93, false_label: 94 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: condition_id=92, true=93, false=94 at code_addr=0x0081
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] CHECKING_BINARY_OP_MAPPING: condition=92, mapping exists=true
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] DIRECT_COMPARISON_BRANCH: Detected BinaryOp Or - generating direct Z-Machine branch instruction
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 88
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 88 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 91
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 91 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Translation failed for instruction Branch { condition: 92, true_label: 93, false_label: 94 }: Code generation error: Unsupported comparison operation in direct branch: Or
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 93 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 93 -> address 0x0081
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 97, object: 83, property_num: 7 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 97
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 83
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 83 resolved to Variable(1) [Local parameter]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 97 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x0081 operands=[Variable(1), LargeConstant(7)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x0081
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0081 gen_addr=0x0081 opcode=0x11 operands=[Variable(1), LargeConstant(7)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=129, byte=0x51, code_address=0x0081, space_len=130
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0081 -> 0x0082 (offset 129) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(1) -> Z-Machine variable 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0082 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=130, byte=0x01, code_address=0x0082, space_len=131
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0082 -> 0x0083 (offset 130) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=131, byte=0x07, code_address=0x0083, space_len=132
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0083 -> 0x0084 (offset 131) after emitting byte 0x07
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0084
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0084 -> 0x0085 (offset 132) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 12
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 97 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(98), function: 41, args: [97] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 98
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] generate_print_builtin: Looking up string for IR ID 97
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available string IDs = [568, 566, 562, 570, 572, 564]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available integer IDs = [561, 86, 559, 558, 62, 66, 69, 560, 90, 79, 76]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] IR ID 97 is not a string literal - generating runtime evaluation for print
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 97
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 97 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] IR ID 97 resolved to operand Variable(0) - generating print_num
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x06 at PC=0x0085 operands=[Variable(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x0085
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0085 gen_addr=0x0085 opcode=0x06 operands=[Variable(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x06 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0x06, store_var=None, branch_offset=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0x06, var_bit=0x20, instruction_byte=0xe6 at address 0x0085
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=133, byte=0xe6, code_address=0x0085, space_len=134
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0085 -> 0x0086 (offset 133) after emitting byte 0xe6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0xbf at address 0x0086
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=134, byte=0xbf, code_address=0x0086, space_len=135
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0086 -> 0x0087 (offset 134) after emitting byte 0xbf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0087
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0087 -> 0x0088 (offset 135) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 98 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 98 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Jump { label: 95 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xc1 at PC=0x0088 operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0088 gen_addr=0x0088 opcode=0xc1 operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xc1 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xc1, store_var=None, branch_offset=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xc1, var_bit=0x00, instruction_byte=0xc1 at address 0x0088
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=136, byte=0xc1, code_address=0x0088, space_len=137
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0088 -> 0x0089 (offset 136) after emitting byte 0xc1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x0f at address 0x0089
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=137, byte=0x0f, code_address=0x0089, space_len=138
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0089 -> 0x008a (offset 137) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x008a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x008a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x008a -> 0x008b (offset 138) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x008b opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=139, byte=0x01, code_address=0x008b, space_len=140
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x008b -> 0x008c (offset 139) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x008c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x008c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x008c -> 0x008d (offset 140) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x008d opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=141, byte=0x01, code_address=0x008d, space_len=142
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x008d -> 0x008e (offset 141) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=0 at address=0x008e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=142, byte=0xc0, code_address=0x008e, space_len=143
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x008e -> 0x008f (offset 142) after emitting byte 0xc0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 94 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 94 -> address 0x008f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 100, value: String("You can't see any such thing.") }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 100
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(101), function: 41, args: [100] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 101
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] generate_print_builtin: Looking up string for IR ID 100
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available string IDs = [568, 566, 562, 570, 572, 564, 100]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available integer IDs = [561, 86, 559, 558, 62, 66, 69, 560, 90, 79, 76]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]  OPTION_B_FIX: String ID 100 already in encoding system
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8d at PC=0x008f operands=[LargeConstant(65535)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x008f gen_addr=0x008f opcode=0x8d operands=[LargeConstant(65535)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8d -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x008f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=143, byte=0x8d, code_address=0x008f, space_len=144
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x008f -> 0x0090 (offset 143) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x0090
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0090
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=144, byte=0xff, code_address=0x0090, space_len=145
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0090 -> 0x0091 (offset 144) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0091
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=145, byte=0xff, code_address=0x0091, space_len=146
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0091 -> 0x0092 (offset 145) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 101 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 101 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 95 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 95 -> address 0x0092
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Function 'examine' ends with return: false
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Adding implicit return to function 'examine'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xb0 at PC=0x0092 operands=[] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0092 gen_addr=0x0092 opcode=0xb0 operands=[] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xb0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0xb0 (rtrue) at address 0x0092
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=146, byte=0xb0, code_address=0x0092, space_len=147
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0092 -> 0x0093 (offset 146) after emitting byte 0xb0
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]  Function 'examine' complete: 38 bytes generated
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FINALIZE: Function 'examine' used 0 local variables during generation
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] ❌ PATCH_ERROR: No header location found for function 2 ('examine')
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  TRANSLATING: Function #2: 'handle_open' (55 instructions)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ALIGN: Function 'handle_open' before alignment at code_address=0x0093
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ALIGN: Adding padding byte for even alignment
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0093
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0093 -> 0x0094 (offset 147) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ALIGN: Function 'handle_open' after alignment at code_address=0x0094
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ADDRESS_FIX: Function 'handle_open' stored at relative address 0x0094 (Phase 2)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record code offset: Recording IR ID 3 -> code_space_offset 0x0094
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record code offset: This will be converted to absolute address during final assembly
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_UPDATED: 'handle_open' (ID 3) updated to actual address 0x0094
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PARAMETER_SETUP: Function 'handle_open' has 1 parameters
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  Parameter mapping: 'obj' (IR ID 102) -> local variable slot 1 for function 'handle_open'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  GENERATING: Routine header for 'handle_open' with 1 locals
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_START: Reset local variable counter for function 'handle_open'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_LOCALS: 'handle_open' declared=1, using=1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Generating V3 header: 1 declared locals for function 'handle_open'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0094 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=148, byte=0x01, code_address=0x0094, space_len=149
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0094 -> 0x0095 (offset 148) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0000 -> high_byte=0x00, low_byte=0x00 at code_address 0x0095
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  NULL_WORD_SOURCE: emit_word(0x0000) called at code_address 0x0095
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  This might be valid V3 default local values OR invalid placeholder operands
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0095
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0095 -> 0x0096 (offset 149) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0096
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0096 -> 0x0097 (offset 150) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitted default value for local 1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(104), function: 11, args: [102] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 104
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 102
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 102 resolved to Variable(1) [Local parameter]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xe0 at PC=0x0097 operands=[LargeConstant(65535), Variable(1)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x0097
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0097 gen_addr=0x0097 opcode=0xe0 operands=[LargeConstant(65535), Variable(1)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xe0 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xe0, store_var=Some(0), branch_offset=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xe0, var_bit=0x20, instruction_byte=0xe0 at address 0x0097
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0xe0 (call_vs) at address 0x0097
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=151, byte=0xe0, code_address=0x0097, space_len=152
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0097 -> 0x0098 (offset 151) after emitting byte 0xe0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x2f at address 0x0098
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=152, byte=0x2f, code_address=0x0098, space_len=153
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0098 -> 0x0099 (offset 152) after emitting byte 0x2f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x0099
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0099
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=153, byte=0xff, code_address=0x0099, space_len=154
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0099 -> 0x009a (offset 153) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x009a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=154, byte=0xff, code_address=0x009a, space_len=155
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x009a -> 0x009b (offset 154) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(1) -> Z-Machine variable 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x009b opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=155, byte=0x01, code_address=0x009b, space_len=156
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x009b -> 0x009c (offset 155) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x009c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x009c -> 0x009d (offset 156) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack after function call - depth now: 11
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generated call to function ID 11 with unresolved reference at 0x0099
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 104 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 104 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: UnaryOp { target: 105, op: Not, operand: 104 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: UnaryOp creates target IR ID 105
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 104
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 104 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8f at PC=0x009d operands=[Variable(0)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x009d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x009d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x009d gen_addr=0x009d opcode=0x8f operands=[Variable(0)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8f -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0x8f, store_var=Some(0), branch_offset=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0x8f, var_bit=0x00, instruction_byte=0xcf at address 0x009d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=157, byte=0xcf, code_address=0x009d, space_len=158
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x009d -> 0x009e (offset 157) after emitting byte 0xcf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0xbf at address 0x009e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=158, byte=0xbf, code_address=0x009e, space_len=159
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x009e -> 0x009f (offset 158) after emitting byte 0xbf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x009f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x009f -> 0x00a0 (offset 159) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x00a0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00a0 -> 0x00a1 (offset 160) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (generic) - depth now: 12
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 105 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Branch { condition: 105, true_label: 106, false_label: 107 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: condition_id=105, true=106, false=107 at code_addr=0x00a1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] CHECKING_BINARY_OP_MAPPING: condition=105, mapping exists=false
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Condition 105 is not a comparison - using jz branch approach
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 105
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 105 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xa0 at PC=0x00a1 operands=[Variable(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x00a1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x00a1 gen_addr=0x00a1 opcode=0xa0 operands=[Variable(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xa0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x00a1 byte=0xa0 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=161, byte=0xa0, code_address=0x00a1, space_len=162
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00a1 -> 0x00a2 (offset 161) after emitting byte 0xa0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x00a2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00a2 -> 0x00a3 (offset 162) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x00a3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x00a3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=163, byte=0xff, code_address=0x00a3, space_len=164
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00a3 -> 0x00a4 (offset 163) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x00a4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=164, byte=0xff, code_address=0x00a4, space_len=165
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00a4 -> 0x00a5 (offset 164) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  JZ_BRANCH_REF_CREATE: code_space_offset=0x00a3 target_id=107 (will convert to final address during assembly)
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen] 🔍 JZ_BRANCH_DEBUG: Created UnresolvedReference
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Code space offset: 0x00a3
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Target ID: 107
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Final code base: 0x0000
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Estimated final location: 0x00a3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Added jz branch reference: code_space_offset=0x00a3, target=107
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: Generated 4 bytes (0x00a1 -> 0x00a5)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 106 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 106 -> address 0x00a5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 110, value: String("You can't see any such thing.") }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 110
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(111), function: 41, args: [110] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 111
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] generate_print_builtin: Looking up string for IR ID 110
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available string IDs = [568, 570, 562, 110, 100, 572, 566, 564]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available integer IDs = [561, 86, 559, 558, 62, 66, 69, 560, 90, 79, 76]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]  OPTION_B_FIX: String ID 110 already in encoding system
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8d at PC=0x00a5 operands=[LargeConstant(65535)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x00a5 gen_addr=0x00a5 opcode=0x8d operands=[LargeConstant(65535)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8d -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x00a5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=165, byte=0x8d, code_address=0x00a5, space_len=166
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00a5 -> 0x00a6 (offset 165) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x00a6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x00a6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=166, byte=0xff, code_address=0x00a6, space_len=167
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00a6 -> 0x00a7 (offset 166) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x00a7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=167, byte=0xff, code_address=0x00a7, space_len=168
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00a7 -> 0x00a8 (offset 167) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 111 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 111 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Return { value: None }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xb0 at PC=0x00a8 operands=[] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x00a8 gen_addr=0x00a8 opcode=0xb0 operands=[] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xb0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0xb0 (rtrue) at address 0x00a8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=168, byte=0xb0, code_address=0x00a8, space_len=169
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00a8 -> 0x00a9 (offset 168) after emitting byte 0xb0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Jump { label: 108 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xc1 at PC=0x00a9 operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x00a9 gen_addr=0x00a9 opcode=0xc1 operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xc1 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xc1, store_var=None, branch_offset=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xc1, var_bit=0x00, instruction_byte=0xc1 at address 0x00a9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=169, byte=0xc1, code_address=0x00a9, space_len=170
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00a9 -> 0x00aa (offset 169) after emitting byte 0xc1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x0f at address 0x00aa
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=170, byte=0x0f, code_address=0x00aa, space_len=171
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00aa -> 0x00ab (offset 170) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x00ab
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x00ab
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00ab -> 0x00ac (offset 171) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x00ac opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=172, byte=0x01, code_address=0x00ac, space_len=173
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00ac -> 0x00ad (offset 172) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x00ad
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x00ad
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00ad -> 0x00ae (offset 173) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x00ae opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=174, byte=0x01, code_address=0x00ae, space_len=175
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00ae -> 0x00af (offset 174) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=0 at address=0x00af
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=175, byte=0xc0, code_address=0x00af, space_len=176
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00af -> 0x00b0 (offset 175) after emitting byte 0xc0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 107 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 107 -> address 0x00b0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 108 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 108 -> address 0x00b0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 112, object: 102, property_num: 15 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 112
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 102
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 102 resolved to Variable(1) [Local parameter]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 112 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x00b0 operands=[Variable(1), LargeConstant(15)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x00b0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x00b0 gen_addr=0x00b0 opcode=0x11 operands=[Variable(1), LargeConstant(15)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=176, byte=0x51, code_address=0x00b0, space_len=177
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00b0 -> 0x00b1 (offset 176) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(1) -> Z-Machine variable 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x00b1 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=177, byte=0x01, code_address=0x00b1, space_len=178
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00b1 -> 0x00b2 (offset 177) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=178, byte=0x0f, code_address=0x00b2, space_len=179
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00b2 -> 0x00b3 (offset 178) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x00b3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00b3 -> 0x00b4 (offset 179) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 13
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 112 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: UnaryOp { target: 113, op: Not, operand: 112 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: UnaryOp creates target IR ID 113
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 112
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 112 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8f at PC=0x00b4 operands=[Variable(0)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x00b4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x00b4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x00b4 gen_addr=0x00b4 opcode=0x8f operands=[Variable(0)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8f -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0x8f, store_var=Some(0), branch_offset=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0x8f, var_bit=0x00, instruction_byte=0xcf at address 0x00b4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=180, byte=0xcf, code_address=0x00b4, space_len=181
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00b4 -> 0x00b5 (offset 180) after emitting byte 0xcf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0xbf at address 0x00b5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=181, byte=0xbf, code_address=0x00b5, space_len=182
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00b5 -> 0x00b6 (offset 181) after emitting byte 0xbf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x00b6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00b6 -> 0x00b7 (offset 182) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x00b7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00b7 -> 0x00b8 (offset 183) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (generic) - depth now: 14
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 113 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Branch { condition: 113, true_label: 114, false_label: 115 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: condition_id=113, true=114, false=115 at code_addr=0x00b8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] CHECKING_BINARY_OP_MAPPING: condition=113, mapping exists=false
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Condition 113 is not a comparison - using jz branch approach
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 113
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 113 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xa0 at PC=0x00b8 operands=[Variable(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x00b8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x00b8 gen_addr=0x00b8 opcode=0xa0 operands=[Variable(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xa0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x00b8 byte=0xa0 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=184, byte=0xa0, code_address=0x00b8, space_len=185
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00b8 -> 0x00b9 (offset 184) after emitting byte 0xa0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x00b9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00b9 -> 0x00ba (offset 185) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x00ba
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x00ba
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=186, byte=0xff, code_address=0x00ba, space_len=187
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00ba -> 0x00bb (offset 186) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x00bb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=187, byte=0xff, code_address=0x00bb, space_len=188
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00bb -> 0x00bc (offset 187) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  JZ_BRANCH_REF_CREATE: code_space_offset=0x00ba target_id=115 (will convert to final address during assembly)
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen] 🔍 JZ_BRANCH_DEBUG: Created UnresolvedReference
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Code space offset: 0x00ba
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Target ID: 115
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Final code base: 0x0000
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Estimated final location: 0x00ba
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Added jz branch reference: code_space_offset=0x00ba, target=115
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: Generated 4 bytes (0x00b8 -> 0x00bc)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 114 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 114 -> address 0x00bc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 118, value: String("You can't open that.") }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 118
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(119), function: 41, args: [118] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 119
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] generate_print_builtin: Looking up string for IR ID 118
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available string IDs = [568, 570, 562, 110, 118, 100, 572, 566, 564]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available integer IDs = [561, 86, 559, 558, 62, 66, 69, 560, 90, 79, 76]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]  OPTION_B_FIX: String ID 118 already in encoding system
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8d at PC=0x00bc operands=[LargeConstant(65535)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x00bc gen_addr=0x00bc opcode=0x8d operands=[LargeConstant(65535)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8d -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x00bc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=188, byte=0x8d, code_address=0x00bc, space_len=189
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00bc -> 0x00bd (offset 188) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x00bd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x00bd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=189, byte=0xff, code_address=0x00bd, space_len=190
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00bd -> 0x00be (offset 189) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x00be
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=190, byte=0xff, code_address=0x00be, space_len=191
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00be -> 0x00bf (offset 190) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 119 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 119 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Return { value: None }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xb0 at PC=0x00bf operands=[] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x00bf gen_addr=0x00bf opcode=0xb0 operands=[] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xb0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0xb0 (rtrue) at address 0x00bf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=191, byte=0xb0, code_address=0x00bf, space_len=192
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00bf -> 0x00c0 (offset 191) after emitting byte 0xb0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Jump { label: 116 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xc1 at PC=0x00c0 operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x00c0 gen_addr=0x00c0 opcode=0xc1 operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xc1 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xc1, store_var=None, branch_offset=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xc1, var_bit=0x00, instruction_byte=0xc1 at address 0x00c0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=192, byte=0xc1, code_address=0x00c0, space_len=193
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00c0 -> 0x00c1 (offset 192) after emitting byte 0xc1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x0f at address 0x00c1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=193, byte=0x0f, code_address=0x00c1, space_len=194
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00c1 -> 0x00c2 (offset 193) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x00c2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x00c2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00c2 -> 0x00c3 (offset 194) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x00c3 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=195, byte=0x01, code_address=0x00c3, space_len=196
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00c3 -> 0x00c4 (offset 195) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x00c4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x00c4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00c4 -> 0x00c5 (offset 196) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x00c5 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=197, byte=0x01, code_address=0x00c5, space_len=198
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00c5 -> 0x00c6 (offset 197) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=0 at address=0x00c6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=198, byte=0xc0, code_address=0x00c6, space_len=199
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00c6 -> 0x00c7 (offset 198) after emitting byte 0xc0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 115 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 115 -> address 0x00c7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 116 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 116 -> address 0x00c7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 120, object: 102, property_num: 17 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 120
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 102
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 102 resolved to Variable(1) [Local parameter]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 120 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x00c7 operands=[Variable(1), LargeConstant(17)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x00c7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x00c7 gen_addr=0x00c7 opcode=0x11 operands=[Variable(1), LargeConstant(17)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=199, byte=0x51, code_address=0x00c7, space_len=200
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00c7 -> 0x00c8 (offset 199) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(1) -> Z-Machine variable 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x00c8 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=200, byte=0x01, code_address=0x00c8, space_len=201
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00c8 -> 0x00c9 (offset 200) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=201, byte=0x11, code_address=0x00c9, space_len=202
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00c9 -> 0x00ca (offset 201) after emitting byte 0x11
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x00ca
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00ca -> 0x00cb (offset 202) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 15
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 120 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Branch { condition: 120, true_label: 121, false_label: 122 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: condition_id=120, true=121, false=122 at code_addr=0x00cb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] CHECKING_BINARY_OP_MAPPING: condition=120, mapping exists=false
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Condition 120 is not a comparison - using jz branch approach
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 120
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 120 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xa0 at PC=0x00cb operands=[Variable(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x00cb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x00cb gen_addr=0x00cb opcode=0xa0 operands=[Variable(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xa0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x00cb byte=0xa0 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=203, byte=0xa0, code_address=0x00cb, space_len=204
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00cb -> 0x00cc (offset 203) after emitting byte 0xa0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x00cc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00cc -> 0x00cd (offset 204) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x00cd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x00cd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=205, byte=0xff, code_address=0x00cd, space_len=206
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00cd -> 0x00ce (offset 205) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x00ce
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=206, byte=0xff, code_address=0x00ce, space_len=207
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00ce -> 0x00cf (offset 206) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  JZ_BRANCH_REF_CREATE: code_space_offset=0x00cd target_id=122 (will convert to final address during assembly)
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen] 🔍 JZ_BRANCH_DEBUG: Created UnresolvedReference
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Code space offset: 0x00cd
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Target ID: 122
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Final code base: 0x0000
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Estimated final location: 0x00cd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Added jz branch reference: code_space_offset=0x00cd, target=122
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: Generated 4 bytes (0x00cb -> 0x00cf)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 121 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 121 -> address 0x00cf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 125, value: String("It's already open.") }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 125
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(126), function: 41, args: [125] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 126
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] generate_print_builtin: Looking up string for IR ID 125
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available string IDs = [568, 570, 562, 110, 118, 100, 125, 572, 566, 564]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available integer IDs = [561, 86, 559, 558, 62, 66, 69, 560, 90, 79, 76]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]  OPTION_B_FIX: String ID 125 already in encoding system
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8d at PC=0x00cf operands=[LargeConstant(65535)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x00cf gen_addr=0x00cf opcode=0x8d operands=[LargeConstant(65535)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8d -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x00cf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=207, byte=0x8d, code_address=0x00cf, space_len=208
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00cf -> 0x00d0 (offset 207) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x00d0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x00d0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=208, byte=0xff, code_address=0x00d0, space_len=209
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00d0 -> 0x00d1 (offset 208) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x00d1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=209, byte=0xff, code_address=0x00d1, space_len=210
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00d1 -> 0x00d2 (offset 209) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 126 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 126 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Jump { label: 123 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xc1 at PC=0x00d2 operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x00d2 gen_addr=0x00d2 opcode=0xc1 operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xc1 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xc1, store_var=None, branch_offset=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xc1, var_bit=0x00, instruction_byte=0xc1 at address 0x00d2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=210, byte=0xc1, code_address=0x00d2, space_len=211
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00d2 -> 0x00d3 (offset 210) after emitting byte 0xc1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x0f at address 0x00d3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=211, byte=0x0f, code_address=0x00d3, space_len=212
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00d3 -> 0x00d4 (offset 211) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x00d4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x00d4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00d4 -> 0x00d5 (offset 212) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x00d5 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=213, byte=0x01, code_address=0x00d5, space_len=214
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00d5 -> 0x00d6 (offset 213) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x00d6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x00d6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00d6 -> 0x00d7 (offset 214) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x00d7 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=215, byte=0x01, code_address=0x00d7, space_len=216
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00d7 -> 0x00d8 (offset 215) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=0 at address=0x00d8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=216, byte=0xc0, code_address=0x00d8, space_len=217
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00d8 -> 0x00d9 (offset 216) after emitting byte 0xc0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 122 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 122 -> address 0x00d9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 128, value: Boolean(true) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 128
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: SetPropertyByNumber { object: 102, property_num: 17, value: 128 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 102
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 102 resolved to Variable(1) [Local parameter]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 128
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 128 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x03 at PC=0x00d9 operands=[Variable(1), Constant(17), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x00d9 gen_addr=0x00d9 opcode=0x03 operands=[Variable(1), Constant(17), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x03 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0x03, store_var=None, branch_offset=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0x03, var_bit=0x20, instruction_byte=0xe3 at address 0x00d9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=217, byte=0xe3, code_address=0x00d9, space_len=218
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00d9 -> 0x00da (offset 217) after emitting byte 0xe3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x93 at address 0x00da
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=218, byte=0x93, code_address=0x00da, space_len=219
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00da -> 0x00db (offset 218) after emitting byte 0x93
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(1) -> Z-Machine variable 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x00db opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=219, byte=0x01, code_address=0x00db, space_len=220
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00db -> 0x00dc (offset 219) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=220, byte=0x11, code_address=0x00dc, space_len=221
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00dc -> 0x00dd (offset 220) after emitting byte 0x11
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x00dd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x00dd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00dd -> 0x00de (offset 221) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x00de opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=222, byte=0x01, code_address=0x00de, space_len=223
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00de -> 0x00df (offset 222) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generated put_prop for property number 17 with resolved object
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 129, value: String("Opened.") }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 129
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(130), function: 41, args: [129] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 130
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] generate_print_builtin: Looking up string for IR ID 129
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available string IDs = [568, 570, 562, 110, 118, 100, 125, 572, 566, 129, 564]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available integer IDs = [561, 86, 559, 558, 62, 66, 69, 560, 90, 79, 128, 76]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]  OPTION_B_FIX: String ID 129 already in encoding system
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8d at PC=0x00df operands=[LargeConstant(65535)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x00df gen_addr=0x00df opcode=0x8d operands=[LargeConstant(65535)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8d -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x00df
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=223, byte=0x8d, code_address=0x00df, space_len=224
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00df -> 0x00e0 (offset 223) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x00e0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x00e0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=224, byte=0xff, code_address=0x00e0, space_len=225
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00e0 -> 0x00e1 (offset 224) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x00e1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=225, byte=0xff, code_address=0x00e1, space_len=226
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00e1 -> 0x00e2 (offset 225) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 130 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 130 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 131, object: 102, property_num: 16 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 131
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 102
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 102 resolved to Variable(1) [Local parameter]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 131 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x00e2 operands=[Variable(1), LargeConstant(16)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x00e2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x00e2 gen_addr=0x00e2 opcode=0x11 operands=[Variable(1), LargeConstant(16)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=226, byte=0x51, code_address=0x00e2, space_len=227
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00e2 -> 0x00e3 (offset 226) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(1) -> Z-Machine variable 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x00e3 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=227, byte=0x01, code_address=0x00e3, space_len=228
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00e3 -> 0x00e4 (offset 227) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=228, byte=0x10, code_address=0x00e4, space_len=229
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00e4 -> 0x00e5 (offset 228) after emitting byte 0x10
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x00e5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00e5 -> 0x00e6 (offset 229) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 16
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 131 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 132, object: 102, property_num: 20 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 132
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 102
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 102 resolved to Variable(1) [Local parameter]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 132 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x00e6 operands=[Variable(1), LargeConstant(20)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x00e6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x00e6 gen_addr=0x00e6 opcode=0x11 operands=[Variable(1), LargeConstant(20)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=230, byte=0x51, code_address=0x00e6, space_len=231
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00e6 -> 0x00e7 (offset 230) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(1) -> Z-Machine variable 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x00e7 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=231, byte=0x01, code_address=0x00e7, space_len=232
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00e7 -> 0x00e8 (offset 231) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=232, byte=0x14, code_address=0x00e8, space_len=233
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00e8 -> 0x00e9 (offset 232) after emitting byte 0x14
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x00e9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00e9 -> 0x00ea (offset 233) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 17
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 132 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Branch { condition: 132, true_label: 134, false_label: 135 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: condition_id=132, true=134, false=135 at code_addr=0x00ea
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] CHECKING_BINARY_OP_MAPPING: condition=132, mapping exists=false
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Condition 132 is not a comparison - using jz branch approach
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 132
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 132 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xa0 at PC=0x00ea operands=[Variable(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x00ea
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x00ea gen_addr=0x00ea opcode=0xa0 operands=[Variable(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xa0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x00ea byte=0xa0 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=234, byte=0xa0, code_address=0x00ea, space_len=235
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00ea -> 0x00eb (offset 234) after emitting byte 0xa0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x00eb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00eb -> 0x00ec (offset 235) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x00ec
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x00ec
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=236, byte=0xff, code_address=0x00ec, space_len=237
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00ec -> 0x00ed (offset 236) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x00ed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=237, byte=0xff, code_address=0x00ed, space_len=238
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00ed -> 0x00ee (offset 237) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  JZ_BRANCH_REF_CREATE: code_space_offset=0x00ec target_id=135 (will convert to final address during assembly)
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen] 🔍 JZ_BRANCH_DEBUG: Created UnresolvedReference
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Code space offset: 0x00ec
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Target ID: 135
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Final code base: 0x0000
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Estimated final location: 0x00ec
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Added jz branch reference: code_space_offset=0x00ec, target=135
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: Generated 4 bytes (0x00ea -> 0x00ee)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 134 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 134 -> address 0x00ee
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(133), function: 137, args: [102] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 133
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x21 at PC=0x00ee operands=[LargeConstant(0)] store=Some(133)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x00ee gen_addr=0x00ee opcode=0x21 operands=[LargeConstant(0)] store_var=Some(133)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x21 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=238, byte=0x81, code_address=0x00ee, space_len=239
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00ee -> 0x00ef (offset 238) after emitting byte 0x81
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0000 -> high_byte=0x00, low_byte=0x00 at code_address 0x00ef
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  NULL_WORD_SOURCE: emit_word(0x0000) called at code_address 0x00ef
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  This might be valid V3 default local values OR invalid placeholder operands
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x00ef
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00ef -> 0x00f0 (offset 239) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x00f0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00f0 -> 0x00f1 (offset 240) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=241, byte=0x85, code_address=0x00f1, space_len=242
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00f1 -> 0x00f2 (offset 241) after emitting byte 0x85
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 133 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 133 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Jump { label: 136 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xc1 at PC=0x00f2 operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x00f2 gen_addr=0x00f2 opcode=0xc1 operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xc1 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xc1, store_var=None, branch_offset=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xc1, var_bit=0x00, instruction_byte=0xc1 at address 0x00f2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=242, byte=0xc1, code_address=0x00f2, space_len=243
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00f2 -> 0x00f3 (offset 242) after emitting byte 0xc1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x0f at address 0x00f3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=243, byte=0x0f, code_address=0x00f3, space_len=244
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00f3 -> 0x00f4 (offset 243) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x00f4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x00f4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00f4 -> 0x00f5 (offset 244) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x00f5 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=245, byte=0x01, code_address=0x00f5, space_len=246
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00f5 -> 0x00f6 (offset 245) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x00f6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x00f6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00f6 -> 0x00f7 (offset 246) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x00f7 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=247, byte=0x01, code_address=0x00f7, space_len=248
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00f7 -> 0x00f8 (offset 247) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=0 at address=0x00f8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=248, byte=0xc0, code_address=0x00f8, space_len=249
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00f8 -> 0x00f9 (offset 248) after emitting byte 0xc0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 135 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 135 -> address 0x00f9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 133, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 133
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 136 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 136 -> address 0x00f9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: UnaryOp { target: 138, op: Not, operand: 133 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: UnaryOp creates target IR ID 138
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 133
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 133 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8f at PC=0x00f9 operands=[LargeConstant(1)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x00f9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x00f9 gen_addr=0x00f9 opcode=0x8f operands=[LargeConstant(1)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8f -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0x8f, store_var=Some(0), branch_offset=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0x8f, var_bit=0x00, instruction_byte=0xcf at address 0x00f9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=249, byte=0xcf, code_address=0x00f9, space_len=250
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00f9 -> 0x00fa (offset 249) after emitting byte 0xcf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x3f at address 0x00fa
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=250, byte=0x3f, code_address=0x00fa, space_len=251
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00fa -> 0x00fb (offset 250) after emitting byte 0x3f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x00fb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x00fb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00fb -> 0x00fc (offset 251) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x00fc opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=252, byte=0x01, code_address=0x00fc, space_len=253
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00fc -> 0x00fd (offset 252) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x00fd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00fd -> 0x00fe (offset 253) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (generic) - depth now: 18
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 138 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: BinaryOp { target: 139, op: And, left: 131, right: 138 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: BinaryOp creates target IR ID 139
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] UNIFIED_BINARYOP_PROCESSING: target=139, op=And, left=131, right=138
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 131
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 131 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 138
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 138 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Generating binary operation: And with operands Variable(0), Variable(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x09 at PC=0x00fe operands=[Variable(0), Variable(0)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x00fe
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[1] reads from stack at PC=0x00fe
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x00fe
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x00fe gen_addr=0x00fe opcode=0x09 operands=[Variable(0), Variable(0)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x09 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=254, byte=0x69, code_address=0x00fe, space_len=255
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00fe -> 0x00ff (offset 254) after emitting byte 0x69
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x00ff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x00ff -> 0x0100 (offset 255) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0100
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0100 -> 0x0101 (offset 256) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0101
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0101 -> 0x0102 (offset 257) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (generic) - depth now: 19
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 139 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] BinaryOp (And) result: IR ID 139 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Branch { condition: 139, true_label: 140, false_label: 141 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: condition_id=139, true=140, false=141 at code_addr=0x0102
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] CHECKING_BINARY_OP_MAPPING: condition=139, mapping exists=true
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] DIRECT_COMPARISON_BRANCH: Detected BinaryOp And - generating direct Z-Machine branch instruction
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 131
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 131 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 138
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 138 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Translation failed for instruction Branch { condition: 139, true_label: 140, false_label: 141 }: Code generation error: Unsupported comparison operation in direct branch: And
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 140 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 140 -> address 0x0102
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 144, value: String("The ") }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 144
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 145, object: 102, property_num: 1 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 145
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 102
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 102 resolved to Variable(1) [Local parameter]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 145 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x0102 operands=[Variable(1), LargeConstant(1)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x0102
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0102 gen_addr=0x0102 opcode=0x11 operands=[Variable(1), LargeConstant(1)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=258, byte=0x51, code_address=0x0102, space_len=259
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0102 -> 0x0103 (offset 258) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(1) -> Z-Machine variable 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0103 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=259, byte=0x01, code_address=0x0103, space_len=260
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0103 -> 0x0104 (offset 259) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0104 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=260, byte=0x01, code_address=0x0104, space_len=261
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0104 -> 0x0105 (offset 260) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0105
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0105 -> 0x0106 (offset 261) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 20
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 145 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: BinaryOp { target: 146, op: Add, left: 144, right: 145 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: BinaryOp creates target IR ID 146
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] UNIFIED_BINARYOP_PROCESSING: target=146, op=Add, left=144, right=145
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'The [RUNTIME_STACK_145]' -> 47 Z-chars -> 32 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 String concatenation: 'The ' + '[RUNTIME_STACK_145]' = 'The [RUNTIME_STACK_145]' (IR ID 146)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 146 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] BinaryOp (Add) result: IR ID 146 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ZERO BYTES: IR instruction generated no bytecode: BinaryOp { target: 146, op: Add, left: 144, right: 145 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 147, value: String(" contains:") }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 147
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: BinaryOp { target: 148, op: Add, left: 146, right: 147 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: BinaryOp creates target IR ID 148
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] UNIFIED_BINARYOP_PROCESSING: target=148, op=Add, left=146, right=147
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'The [RUNTIME_STACK_145] contains:' -> 58 Z-chars -> 40 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 String concatenation: 'The [RUNTIME_STACK_145]' + ' contains:' = 'The [RUNTIME_STACK_145] contains:' (IR ID 148)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 148 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] BinaryOp (Add) result: IR ID 148 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ZERO BYTES: IR instruction generated no bytecode: BinaryOp { target: 148, op: Add, left: 146, right: 147 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(149), function: 41, args: [148] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 149
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] generate_print_builtin: Looking up string for IR ID 148
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available string IDs = [110, 147, 125, 572, 566, 129, 148, 144, 564, 568, 570, 562, 118, 100, 146]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available integer IDs = [561, 86, 559, 558, 62, 66, 69, 133, 560, 90, 79, 128, 76]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'The [RUNTIME_STACK_145] contains:' -> 58 Z-chars -> 40 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]  OPTION_B_FIX: Added string ID 148 to encoding system: 'The [RUNTIME_STACK_145] contains:'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8d at PC=0x0106 operands=[LargeConstant(65535)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0106 gen_addr=0x0106 opcode=0x8d operands=[LargeConstant(65535)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8d -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x0106
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=262, byte=0x8d, code_address=0x0106, space_len=263
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0106 -> 0x0107 (offset 262) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x0107
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0107
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=263, byte=0xff, code_address=0x0107, space_len=264
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0107 -> 0x0108 (offset 263) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0108
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=264, byte=0xff, code_address=0x0108, space_len=265
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0108 -> 0x0109 (offset 264) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 149 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 149 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(150), function: 13, args: [102] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 150
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 102
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 102 resolved to Variable(1) [Local parameter]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xe0 at PC=0x0109 operands=[LargeConstant(65535), Variable(1)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x0109
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0109 gen_addr=0x0109 opcode=0xe0 operands=[LargeConstant(65535), Variable(1)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xe0 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xe0, store_var=Some(0), branch_offset=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xe0, var_bit=0x20, instruction_byte=0xe0 at address 0x0109
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0xe0 (call_vs) at address 0x0109
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=265, byte=0xe0, code_address=0x0109, space_len=266
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0109 -> 0x010a (offset 265) after emitting byte 0xe0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x2f at address 0x010a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=266, byte=0x2f, code_address=0x010a, space_len=267
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x010a -> 0x010b (offset 266) after emitting byte 0x2f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x010b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x010b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=267, byte=0xff, code_address=0x010b, space_len=268
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x010b -> 0x010c (offset 267) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x010c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=268, byte=0xff, code_address=0x010c, space_len=269
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x010c -> 0x010d (offset 268) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(1) -> Z-Machine variable 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x010d opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=269, byte=0x01, code_address=0x010d, space_len=270
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x010d -> 0x010e (offset 269) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x010e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x010e -> 0x010f (offset 270) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack after function call - depth now: 19
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generated call to function ID 13 with unresolved reference at 0x010b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 150 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 150 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Jump { label: 142 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xc1 at PC=0x010f operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x010f gen_addr=0x010f opcode=0xc1 operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xc1 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xc1, store_var=None, branch_offset=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xc1, var_bit=0x00, instruction_byte=0xc1 at address 0x010f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=271, byte=0xc1, code_address=0x010f, space_len=272
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x010f -> 0x0110 (offset 271) after emitting byte 0xc1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x0f at address 0x0110
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=272, byte=0x0f, code_address=0x0110, space_len=273
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0110 -> 0x0111 (offset 272) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0111
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0111
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0111 -> 0x0112 (offset 273) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0112 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=274, byte=0x01, code_address=0x0112, space_len=275
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0112 -> 0x0113 (offset 274) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0113
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0113
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0113 -> 0x0114 (offset 275) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0114 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=276, byte=0x01, code_address=0x0114, space_len=277
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0114 -> 0x0115 (offset 276) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=0 at address=0x0115
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=277, byte=0xc0, code_address=0x0115, space_len=278
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0115 -> 0x0116 (offset 277) after emitting byte 0xc0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 141 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 141 -> address 0x0116
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 142 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 142 -> address 0x0116
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 123 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 123 -> address 0x0116
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Function 'handle_open' ends with return: false
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Adding implicit return to function 'handle_open'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xb0 at PC=0x0116 operands=[] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0116 gen_addr=0x0116 opcode=0xb0 operands=[] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xb0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0xb0 (rtrue) at address 0x0116
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=278, byte=0xb0, code_address=0x0116, space_len=279
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0116 -> 0x0117 (offset 278) after emitting byte 0xb0
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]  Function 'handle_open' complete: 132 bytes generated
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FINALIZE: Function 'handle_open' used 0 local variables during generation
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] ❌ PATCH_ERROR: No header location found for function 3 ('handle_open')
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  TRANSLATING: Function #3: 'handle_close' (33 instructions)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ALIGN: Function 'handle_close' before alignment at code_address=0x0117
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ALIGN: Adding padding byte for even alignment
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0117
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0117 -> 0x0118 (offset 279) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ALIGN: Function 'handle_close' after alignment at code_address=0x0118
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ADDRESS_FIX: Function 'handle_close' stored at relative address 0x0118 (Phase 2)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record code offset: Recording IR ID 4 -> code_space_offset 0x0118
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record code offset: This will be converted to absolute address during final assembly
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_UPDATED: 'handle_close' (ID 4) updated to actual address 0x0118
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PARAMETER_SETUP: Function 'handle_close' has 1 parameters
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  Parameter mapping: 'obj' (IR ID 151) -> local variable slot 1 for function 'handle_close'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  GENERATING: Routine header for 'handle_close' with 1 locals
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_START: Reset local variable counter for function 'handle_close'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_LOCALS: 'handle_close' declared=1, using=1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Generating V3 header: 1 declared locals for function 'handle_close'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0118 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=280, byte=0x01, code_address=0x0118, space_len=281
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0118 -> 0x0119 (offset 280) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0000 -> high_byte=0x00, low_byte=0x00 at code_address 0x0119
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  NULL_WORD_SOURCE: emit_word(0x0000) called at code_address 0x0119
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  This might be valid V3 default local values OR invalid placeholder operands
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0119
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0119 -> 0x011a (offset 281) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x011a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x011a -> 0x011b (offset 282) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitted default value for local 1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(153), function: 11, args: [151] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 153
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 151
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 151 resolved to Variable(1) [Local parameter]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xe0 at PC=0x011b operands=[LargeConstant(65535), Variable(1)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x011b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x011b gen_addr=0x011b opcode=0xe0 operands=[LargeConstant(65535), Variable(1)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xe0 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xe0, store_var=Some(0), branch_offset=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xe0, var_bit=0x20, instruction_byte=0xe0 at address 0x011b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0xe0 (call_vs) at address 0x011b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=283, byte=0xe0, code_address=0x011b, space_len=284
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x011b -> 0x011c (offset 283) after emitting byte 0xe0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x2f at address 0x011c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=284, byte=0x2f, code_address=0x011c, space_len=285
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x011c -> 0x011d (offset 284) after emitting byte 0x2f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x011d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x011d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=285, byte=0xff, code_address=0x011d, space_len=286
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x011d -> 0x011e (offset 285) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x011e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=286, byte=0xff, code_address=0x011e, space_len=287
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x011e -> 0x011f (offset 286) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(1) -> Z-Machine variable 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x011f opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=287, byte=0x01, code_address=0x011f, space_len=288
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x011f -> 0x0120 (offset 287) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0120
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0120 -> 0x0121 (offset 288) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack after function call - depth now: 18
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generated call to function ID 11 with unresolved reference at 0x011d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 153 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 153 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: UnaryOp { target: 154, op: Not, operand: 153 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: UnaryOp creates target IR ID 154
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 153
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 153 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8f at PC=0x0121 operands=[Variable(0)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x0121
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x0121
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0121 gen_addr=0x0121 opcode=0x8f operands=[Variable(0)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8f -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0x8f, store_var=Some(0), branch_offset=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0x8f, var_bit=0x00, instruction_byte=0xcf at address 0x0121
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=289, byte=0xcf, code_address=0x0121, space_len=290
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0121 -> 0x0122 (offset 289) after emitting byte 0xcf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0xbf at address 0x0122
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=290, byte=0xbf, code_address=0x0122, space_len=291
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0122 -> 0x0123 (offset 290) after emitting byte 0xbf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0123
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0123 -> 0x0124 (offset 291) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0124
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0124 -> 0x0125 (offset 292) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (generic) - depth now: 19
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 154 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Branch { condition: 154, true_label: 155, false_label: 156 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: condition_id=154, true=155, false=156 at code_addr=0x0125
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] CHECKING_BINARY_OP_MAPPING: condition=154, mapping exists=false
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Condition 154 is not a comparison - using jz branch approach
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 154
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 154 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xa0 at PC=0x0125 operands=[Variable(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x0125
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0125 gen_addr=0x0125 opcode=0xa0 operands=[Variable(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xa0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x0125 byte=0xa0 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=293, byte=0xa0, code_address=0x0125, space_len=294
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0125 -> 0x0126 (offset 293) after emitting byte 0xa0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0126
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0126 -> 0x0127 (offset 294) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x0127
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0127
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=295, byte=0xff, code_address=0x0127, space_len=296
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0127 -> 0x0128 (offset 295) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0128
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=296, byte=0xff, code_address=0x0128, space_len=297
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0128 -> 0x0129 (offset 296) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  JZ_BRANCH_REF_CREATE: code_space_offset=0x0127 target_id=156 (will convert to final address during assembly)
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen] 🔍 JZ_BRANCH_DEBUG: Created UnresolvedReference
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Code space offset: 0x0127
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Target ID: 156
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Final code base: 0x0000
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Estimated final location: 0x0127
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Added jz branch reference: code_space_offset=0x0127, target=156
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: Generated 4 bytes (0x0125 -> 0x0129)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 155 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 155 -> address 0x0129
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 159, value: String("You can't see any such thing.") }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 159
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(160), function: 41, args: [159] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 160
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] generate_print_builtin: Looking up string for IR ID 159
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available string IDs = [110, 147, 125, 572, 566, 129, 148, 144, 564, 159, 568, 570, 562, 118, 100, 146]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available integer IDs = [561, 86, 559, 558, 62, 66, 69, 133, 560, 90, 79, 128, 76]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]  OPTION_B_FIX: String ID 159 already in encoding system
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8d at PC=0x0129 operands=[LargeConstant(65535)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0129 gen_addr=0x0129 opcode=0x8d operands=[LargeConstant(65535)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8d -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x0129
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=297, byte=0x8d, code_address=0x0129, space_len=298
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0129 -> 0x012a (offset 297) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x012a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x012a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=298, byte=0xff, code_address=0x012a, space_len=299
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x012a -> 0x012b (offset 298) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x012b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=299, byte=0xff, code_address=0x012b, space_len=300
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x012b -> 0x012c (offset 299) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 160 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 160 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Return { value: None }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xb0 at PC=0x012c operands=[] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x012c gen_addr=0x012c opcode=0xb0 operands=[] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xb0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0xb0 (rtrue) at address 0x012c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=300, byte=0xb0, code_address=0x012c, space_len=301
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x012c -> 0x012d (offset 300) after emitting byte 0xb0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Jump { label: 157 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xc1 at PC=0x012d operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x012d gen_addr=0x012d opcode=0xc1 operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xc1 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xc1, store_var=None, branch_offset=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xc1, var_bit=0x00, instruction_byte=0xc1 at address 0x012d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=301, byte=0xc1, code_address=0x012d, space_len=302
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x012d -> 0x012e (offset 301) after emitting byte 0xc1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x0f at address 0x012e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=302, byte=0x0f, code_address=0x012e, space_len=303
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x012e -> 0x012f (offset 302) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x012f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x012f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x012f -> 0x0130 (offset 303) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0130 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=304, byte=0x01, code_address=0x0130, space_len=305
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0130 -> 0x0131 (offset 304) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0131
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0131
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0131 -> 0x0132 (offset 305) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0132 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=306, byte=0x01, code_address=0x0132, space_len=307
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0132 -> 0x0133 (offset 306) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=0 at address=0x0133
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=307, byte=0xc0, code_address=0x0133, space_len=308
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0133 -> 0x0134 (offset 307) after emitting byte 0xc0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 156 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 156 -> address 0x0134
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 157 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 157 -> address 0x0134
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 161, object: 151, property_num: 15 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 161
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 151
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 151 resolved to Variable(1) [Local parameter]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 161 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x0134 operands=[Variable(1), LargeConstant(15)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x0134
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0134 gen_addr=0x0134 opcode=0x11 operands=[Variable(1), LargeConstant(15)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=308, byte=0x51, code_address=0x0134, space_len=309
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0134 -> 0x0135 (offset 308) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(1) -> Z-Machine variable 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0135 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=309, byte=0x01, code_address=0x0135, space_len=310
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0135 -> 0x0136 (offset 309) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=310, byte=0x0f, code_address=0x0136, space_len=311
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0136 -> 0x0137 (offset 310) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0137
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0137 -> 0x0138 (offset 311) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 20
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 161 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: UnaryOp { target: 162, op: Not, operand: 161 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: UnaryOp creates target IR ID 162
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 161
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 161 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8f at PC=0x0138 operands=[Variable(0)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x0138
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x0138
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0138 gen_addr=0x0138 opcode=0x8f operands=[Variable(0)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8f -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0x8f, store_var=Some(0), branch_offset=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0x8f, var_bit=0x00, instruction_byte=0xcf at address 0x0138
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=312, byte=0xcf, code_address=0x0138, space_len=313
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0138 -> 0x0139 (offset 312) after emitting byte 0xcf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0xbf at address 0x0139
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=313, byte=0xbf, code_address=0x0139, space_len=314
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0139 -> 0x013a (offset 313) after emitting byte 0xbf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x013a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x013a -> 0x013b (offset 314) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x013b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x013b -> 0x013c (offset 315) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (generic) - depth now: 21
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 162 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Branch { condition: 162, true_label: 163, false_label: 164 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: condition_id=162, true=163, false=164 at code_addr=0x013c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] CHECKING_BINARY_OP_MAPPING: condition=162, mapping exists=false
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Condition 162 is not a comparison - using jz branch approach
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 162
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 162 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xa0 at PC=0x013c operands=[Variable(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x013c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x013c gen_addr=0x013c opcode=0xa0 operands=[Variable(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xa0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x013c byte=0xa0 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=316, byte=0xa0, code_address=0x013c, space_len=317
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x013c -> 0x013d (offset 316) after emitting byte 0xa0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x013d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x013d -> 0x013e (offset 317) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x013e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x013e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=318, byte=0xff, code_address=0x013e, space_len=319
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x013e -> 0x013f (offset 318) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x013f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=319, byte=0xff, code_address=0x013f, space_len=320
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x013f -> 0x0140 (offset 319) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  JZ_BRANCH_REF_CREATE: code_space_offset=0x013e target_id=164 (will convert to final address during assembly)
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen] 🔍 JZ_BRANCH_DEBUG: Created UnresolvedReference
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Code space offset: 0x013e
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Target ID: 164
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Final code base: 0x0000
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Estimated final location: 0x013e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Added jz branch reference: code_space_offset=0x013e, target=164
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: Generated 4 bytes (0x013c -> 0x0140)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 163 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 163 -> address 0x0140
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 167, value: String("You can't close that.") }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 167
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(168), function: 41, args: [167] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 168
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] generate_print_builtin: Looking up string for IR ID 167
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available string IDs = [110, 147, 125, 572, 566, 129, 148, 144, 564, 159, 568, 570, 562, 118, 100, 167, 146]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available integer IDs = [561, 86, 559, 558, 62, 66, 69, 133, 560, 90, 79, 128, 76]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]  OPTION_B_FIX: String ID 167 already in encoding system
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8d at PC=0x0140 operands=[LargeConstant(65535)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0140 gen_addr=0x0140 opcode=0x8d operands=[LargeConstant(65535)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8d -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x0140
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=320, byte=0x8d, code_address=0x0140, space_len=321
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0140 -> 0x0141 (offset 320) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x0141
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0141
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=321, byte=0xff, code_address=0x0141, space_len=322
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0141 -> 0x0142 (offset 321) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0142
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=322, byte=0xff, code_address=0x0142, space_len=323
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0142 -> 0x0143 (offset 322) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 168 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 168 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Return { value: None }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xb0 at PC=0x0143 operands=[] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0143 gen_addr=0x0143 opcode=0xb0 operands=[] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xb0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0xb0 (rtrue) at address 0x0143
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=323, byte=0xb0, code_address=0x0143, space_len=324
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0143 -> 0x0144 (offset 323) after emitting byte 0xb0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Jump { label: 165 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xc1 at PC=0x0144 operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0144 gen_addr=0x0144 opcode=0xc1 operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xc1 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xc1, store_var=None, branch_offset=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xc1, var_bit=0x00, instruction_byte=0xc1 at address 0x0144
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=324, byte=0xc1, code_address=0x0144, space_len=325
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0144 -> 0x0145 (offset 324) after emitting byte 0xc1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x0f at address 0x0145
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=325, byte=0x0f, code_address=0x0145, space_len=326
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0145 -> 0x0146 (offset 325) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0146
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0146
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0146 -> 0x0147 (offset 326) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0147 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=327, byte=0x01, code_address=0x0147, space_len=328
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0147 -> 0x0148 (offset 327) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0148
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0148
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0148 -> 0x0149 (offset 328) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0149 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=329, byte=0x01, code_address=0x0149, space_len=330
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0149 -> 0x014a (offset 329) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=0 at address=0x014a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=330, byte=0xc0, code_address=0x014a, space_len=331
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x014a -> 0x014b (offset 330) after emitting byte 0xc0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 164 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 164 -> address 0x014b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 165 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 165 -> address 0x014b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 169, object: 151, property_num: 17 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 169
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 151
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 151 resolved to Variable(1) [Local parameter]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 169 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x014b operands=[Variable(1), LargeConstant(17)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x014b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x014b gen_addr=0x014b opcode=0x11 operands=[Variable(1), LargeConstant(17)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=331, byte=0x51, code_address=0x014b, space_len=332
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x014b -> 0x014c (offset 331) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(1) -> Z-Machine variable 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x014c opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=332, byte=0x01, code_address=0x014c, space_len=333
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x014c -> 0x014d (offset 332) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=333, byte=0x11, code_address=0x014d, space_len=334
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x014d -> 0x014e (offset 333) after emitting byte 0x11
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x014e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x014e -> 0x014f (offset 334) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 22
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 169 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: UnaryOp { target: 170, op: Not, operand: 169 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: UnaryOp creates target IR ID 170
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 169
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 169 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8f at PC=0x014f operands=[Variable(0)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x014f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x014f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x014f gen_addr=0x014f opcode=0x8f operands=[Variable(0)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8f -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0x8f, store_var=Some(0), branch_offset=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0x8f, var_bit=0x00, instruction_byte=0xcf at address 0x014f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=335, byte=0xcf, code_address=0x014f, space_len=336
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x014f -> 0x0150 (offset 335) after emitting byte 0xcf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0xbf at address 0x0150
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=336, byte=0xbf, code_address=0x0150, space_len=337
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0150 -> 0x0151 (offset 336) after emitting byte 0xbf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0151
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0151 -> 0x0152 (offset 337) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0152
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0152 -> 0x0153 (offset 338) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (generic) - depth now: 23
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 170 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Branch { condition: 170, true_label: 171, false_label: 172 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: condition_id=170, true=171, false=172 at code_addr=0x0153
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] CHECKING_BINARY_OP_MAPPING: condition=170, mapping exists=false
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Condition 170 is not a comparison - using jz branch approach
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 170
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 170 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xa0 at PC=0x0153 operands=[Variable(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x0153
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0153 gen_addr=0x0153 opcode=0xa0 operands=[Variable(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xa0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x0153 byte=0xa0 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=339, byte=0xa0, code_address=0x0153, space_len=340
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0153 -> 0x0154 (offset 339) after emitting byte 0xa0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0154
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0154 -> 0x0155 (offset 340) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x0155
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0155
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=341, byte=0xff, code_address=0x0155, space_len=342
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0155 -> 0x0156 (offset 341) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0156
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=342, byte=0xff, code_address=0x0156, space_len=343
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0156 -> 0x0157 (offset 342) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  JZ_BRANCH_REF_CREATE: code_space_offset=0x0155 target_id=172 (will convert to final address during assembly)
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen] 🔍 JZ_BRANCH_DEBUG: Created UnresolvedReference
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Code space offset: 0x0155
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Target ID: 172
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Final code base: 0x0000
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Estimated final location: 0x0155
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Added jz branch reference: code_space_offset=0x0155, target=172
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: Generated 4 bytes (0x0153 -> 0x0157)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 171 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 171 -> address 0x0157
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 175, value: String("It's already closed.") }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 175
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(176), function: 41, args: [175] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 176
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] generate_print_builtin: Looking up string for IR ID 175
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available string IDs = [110, 147, 125, 572, 566, 129, 148, 144, 564, 159, 175, 568, 570, 562, 118, 100, 167, 146]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available integer IDs = [561, 86, 559, 558, 62, 66, 69, 133, 560, 90, 79, 128, 76]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]  OPTION_B_FIX: String ID 175 already in encoding system
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8d at PC=0x0157 operands=[LargeConstant(65535)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0157 gen_addr=0x0157 opcode=0x8d operands=[LargeConstant(65535)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8d -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x0157
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=343, byte=0x8d, code_address=0x0157, space_len=344
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0157 -> 0x0158 (offset 343) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x0158
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0158
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=344, byte=0xff, code_address=0x0158, space_len=345
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0158 -> 0x0159 (offset 344) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0159
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=345, byte=0xff, code_address=0x0159, space_len=346
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0159 -> 0x015a (offset 345) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 176 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 176 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Jump { label: 173 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xc1 at PC=0x015a operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x015a gen_addr=0x015a opcode=0xc1 operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xc1 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xc1, store_var=None, branch_offset=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xc1, var_bit=0x00, instruction_byte=0xc1 at address 0x015a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=346, byte=0xc1, code_address=0x015a, space_len=347
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x015a -> 0x015b (offset 346) after emitting byte 0xc1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x0f at address 0x015b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=347, byte=0x0f, code_address=0x015b, space_len=348
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x015b -> 0x015c (offset 347) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x015c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x015c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x015c -> 0x015d (offset 348) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x015d opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=349, byte=0x01, code_address=0x015d, space_len=350
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x015d -> 0x015e (offset 349) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x015e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x015e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x015e -> 0x015f (offset 350) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x015f opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=351, byte=0x01, code_address=0x015f, space_len=352
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x015f -> 0x0160 (offset 351) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=0 at address=0x0160
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=352, byte=0xc0, code_address=0x0160, space_len=353
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0160 -> 0x0161 (offset 352) after emitting byte 0xc0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 172 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 172 -> address 0x0161
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 178, value: Boolean(false) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 178
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: SetPropertyByNumber { object: 151, property_num: 17, value: 178 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 151
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 151 resolved to Variable(1) [Local parameter]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 178
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 178 resolved to LargeConstant(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x03 at PC=0x0161 operands=[Variable(1), Constant(17), LargeConstant(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0161 gen_addr=0x0161 opcode=0x03 operands=[Variable(1), Constant(17), LargeConstant(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x03 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0x03, store_var=None, branch_offset=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0x03, var_bit=0x20, instruction_byte=0xe3 at address 0x0161
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=353, byte=0xe3, code_address=0x0161, space_len=354
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0161 -> 0x0162 (offset 353) after emitting byte 0xe3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x93 at address 0x0162
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=354, byte=0x93, code_address=0x0162, space_len=355
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0162 -> 0x0163 (offset 354) after emitting byte 0x93
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(1) -> Z-Machine variable 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0163 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=355, byte=0x01, code_address=0x0163, space_len=356
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0163 -> 0x0164 (offset 355) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=356, byte=0x11, code_address=0x0164, space_len=357
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0164 -> 0x0165 (offset 356) after emitting byte 0x11
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0000 -> high_byte=0x00, low_byte=0x00 at code_address 0x0165
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  NULL_WORD_SOURCE: emit_word(0x0000) called at code_address 0x0165
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  This might be valid V3 default local values OR invalid placeholder operands
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0165
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0165 -> 0x0166 (offset 357) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0166
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0166 -> 0x0167 (offset 358) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generated put_prop for property number 17 with resolved object
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 179, value: String("Closed.") }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 179
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(180), function: 41, args: [179] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 180
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] generate_print_builtin: Looking up string for IR ID 179
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available string IDs = [110, 147, 179, 125, 572, 566, 129, 148, 144, 564, 159, 175, 568, 570, 562, 118, 100, 167, 146]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available integer IDs = [561, 86, 559, 558, 62, 66, 69, 133, 178, 560, 90, 79, 128, 76]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]  OPTION_B_FIX: String ID 179 already in encoding system
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8d at PC=0x0167 operands=[LargeConstant(65535)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0167 gen_addr=0x0167 opcode=0x8d operands=[LargeConstant(65535)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8d -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x0167
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=359, byte=0x8d, code_address=0x0167, space_len=360
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0167 -> 0x0168 (offset 359) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x0168
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0168
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=360, byte=0xff, code_address=0x0168, space_len=361
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0168 -> 0x0169 (offset 360) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0169
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=361, byte=0xff, code_address=0x0169, space_len=362
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0169 -> 0x016a (offset 361) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 180 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 180 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 173 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 173 -> address 0x016a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Function 'handle_close' ends with return: false
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Adding implicit return to function 'handle_close'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xb0 at PC=0x016a operands=[] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x016a gen_addr=0x016a opcode=0xb0 operands=[] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xb0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0xb0 (rtrue) at address 0x016a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=362, byte=0xb0, code_address=0x016a, space_len=363
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x016a -> 0x016b (offset 362) after emitting byte 0xb0
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]  Function 'handle_close' complete: 84 bytes generated
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FINALIZE: Function 'handle_close' used 0 local variables during generation
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] ❌ PATCH_ERROR: No header location found for function 4 ('handle_close')
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  TRANSLATING: Function #4: 'handle_take' (44 instructions)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ALIGN: Function 'handle_take' before alignment at code_address=0x016b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ALIGN: Adding padding byte for even alignment
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x016b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x016b -> 0x016c (offset 363) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ALIGN: Function 'handle_take' after alignment at code_address=0x016c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ADDRESS_FIX: Function 'handle_take' stored at relative address 0x016c (Phase 2)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record code offset: Recording IR ID 5 -> code_space_offset 0x016c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record code offset: This will be converted to absolute address during final assembly
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_UPDATED: 'handle_take' (ID 5) updated to actual address 0x016c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PARAMETER_SETUP: Function 'handle_take' has 1 parameters
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  Parameter mapping: 'obj' (IR ID 181) -> local variable slot 1 for function 'handle_take'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  GENERATING: Routine header for 'handle_take' with 1 locals
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_START: Reset local variable counter for function 'handle_take'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_LOCALS: 'handle_take' declared=1, using=1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Generating V3 header: 1 declared locals for function 'handle_take'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x016c opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=364, byte=0x01, code_address=0x016c, space_len=365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x016c -> 0x016d (offset 364) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0000 -> high_byte=0x00, low_byte=0x00 at code_address 0x016d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  NULL_WORD_SOURCE: emit_word(0x0000) called at code_address 0x016d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  This might be valid V3 default local values OR invalid placeholder operands
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x016d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x016d -> 0x016e (offset 365) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x016e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x016e -> 0x016f (offset 366) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitted default value for local 1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 183, object: 181, property_num: 13 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 183
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 181
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 181 resolved to Variable(1) [Local parameter]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 183 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x016f operands=[Variable(1), LargeConstant(13)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x016f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x016f gen_addr=0x016f opcode=0x11 operands=[Variable(1), LargeConstant(13)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=367, byte=0x51, code_address=0x016f, space_len=368
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x016f -> 0x0170 (offset 367) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(1) -> Z-Machine variable 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0170 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=368, byte=0x01, code_address=0x0170, space_len=369
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0170 -> 0x0171 (offset 368) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=369, byte=0x0d, code_address=0x0171, space_len=370
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0171 -> 0x0172 (offset 369) after emitting byte 0x0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0172
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0172 -> 0x0173 (offset 370) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 24
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 183 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 184, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 184
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: BinaryOp { target: 185, op: Equal, left: 183, right: 184 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: BinaryOp creates target IR ID 185
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] UNIFIED_BINARYOP_PROCESSING: target=185, op=Equal, left=183, right=184
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 185 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Comparison BinaryOp registered: IR ID 185 -> stack, bytecode deferred to branch generation
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ZERO BYTES: IR instruction generated no bytecode: BinaryOp { target: 185, op: Equal, left: 183, right: 184 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Branch { condition: 185, true_label: 186, false_label: 187 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: condition_id=185, true=186, false=187 at code_addr=0x0173
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] CHECKING_BINARY_OP_MAPPING: condition=185, mapping exists=true
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] DIRECT_COMPARISON_BRANCH: Detected BinaryOp Equal - generating direct Z-Machine branch instruction
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 183
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 183 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 184
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 184 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] GENERATING_DIRECT_BRANCH: Equal with opcode 0x01, branching to 186 on true
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_COMPARISON_BRANCH: opcode=0x01, operands=[Variable(0), LargeConstant(1)], true=186, false=187 at code_addr=0x0173
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x01 at PC=0x0173 operands=[Variable(0), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x0173
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0173 gen_addr=0x0173 opcode=0x01 operands=[Variable(0), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 JZ_INSTRUCTION_TRACE: runtime_addr=0x0173 store_var=None branch_offset=Some(3329)
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 JZ_DETAILS: operands=[Variable(0), LargeConstant(1)] at code_space[0x0173]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x01 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=371, byte=0x41, code_address=0x0173, space_len=372
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0173 -> 0x0174 (offset 371) after emitting byte 0x41
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0174
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0174 -> 0x0175 (offset 372) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0175 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=373, byte=0x01, code_address=0x0175, space_len=374
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0175 -> 0x0176 (offset 373) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=3329 at address=0x0176
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x0176
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=374, byte=0x8d, code_address=0x0176, space_len=375
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0176 -> 0x0177 (offset 374) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0177 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=375, byte=0x01, code_address=0x0177, space_len=376
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0177 -> 0x0178 (offset 375) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_COMPARISON_BRANCH: Generated 5 bytes (0x0173 -> 0x0178), fixup at offset=0x0176
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: Generated 5 bytes (0x0173 -> 0x0178) via comparison branch
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 186 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 186 -> address 0x0178
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 190, value: String("You already have that.") }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 190
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(191), function: 41, args: [190] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 191
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] generate_print_builtin: Looking up string for IR ID 190
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available string IDs = [110, 147, 179, 125, 572, 566, 129, 148, 144, 564, 159, 175, 568, 570, 562, 118, 100, 167, 146, 190]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available integer IDs = [86, 184, 69, 133, 560, 561, 559, 558, 62, 66, 178, 90, 79, 128, 76]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]  OPTION_B_FIX: String ID 190 already in encoding system
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8d at PC=0x0178 operands=[LargeConstant(65535)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0178 gen_addr=0x0178 opcode=0x8d operands=[LargeConstant(65535)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8d -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x0178
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=376, byte=0x8d, code_address=0x0178, space_len=377
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0178 -> 0x0179 (offset 376) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x0179
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0179
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=377, byte=0xff, code_address=0x0179, space_len=378
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0179 -> 0x017a (offset 377) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x017a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=378, byte=0xff, code_address=0x017a, space_len=379
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x017a -> 0x017b (offset 378) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 191 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 191 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Return { value: None }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xb0 at PC=0x017b operands=[] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x017b gen_addr=0x017b opcode=0xb0 operands=[] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xb0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0xb0 (rtrue) at address 0x017b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=379, byte=0xb0, code_address=0x017b, space_len=380
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x017b -> 0x017c (offset 379) after emitting byte 0xb0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Jump { label: 188 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xc1 at PC=0x017c operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x017c gen_addr=0x017c opcode=0xc1 operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xc1 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xc1, store_var=None, branch_offset=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xc1, var_bit=0x00, instruction_byte=0xc1 at address 0x017c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=380, byte=0xc1, code_address=0x017c, space_len=381
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x017c -> 0x017d (offset 380) after emitting byte 0xc1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x0f at address 0x017d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=381, byte=0x0f, code_address=0x017d, space_len=382
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x017d -> 0x017e (offset 381) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x017e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x017e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x017e -> 0x017f (offset 382) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x017f opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=383, byte=0x01, code_address=0x017f, space_len=384
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x017f -> 0x0180 (offset 383) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0180
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0180
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0180 -> 0x0181 (offset 384) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0181 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=385, byte=0x01, code_address=0x0181, space_len=386
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0181 -> 0x0182 (offset 385) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=0 at address=0x0182
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=386, byte=0xc0, code_address=0x0182, space_len=387
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0182 -> 0x0183 (offset 386) after emitting byte 0xc0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 187 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 187 -> address 0x0183
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 188 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 188 -> address 0x0183
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(192), function: 11, args: [181] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 192
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 181
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 181 resolved to Variable(1) [Local parameter]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xe0 at PC=0x0183 operands=[LargeConstant(65535), Variable(1)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x0183
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0183 gen_addr=0x0183 opcode=0xe0 operands=[LargeConstant(65535), Variable(1)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xe0 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xe0, store_var=Some(0), branch_offset=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xe0, var_bit=0x20, instruction_byte=0xe0 at address 0x0183
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0xe0 (call_vs) at address 0x0183
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=387, byte=0xe0, code_address=0x0183, space_len=388
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0183 -> 0x0184 (offset 387) after emitting byte 0xe0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x2f at address 0x0184
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=388, byte=0x2f, code_address=0x0184, space_len=389
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0184 -> 0x0185 (offset 388) after emitting byte 0x2f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x0185
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0185
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=389, byte=0xff, code_address=0x0185, space_len=390
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0185 -> 0x0186 (offset 389) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0186
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=390, byte=0xff, code_address=0x0186, space_len=391
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0186 -> 0x0187 (offset 390) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(1) -> Z-Machine variable 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0187 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=391, byte=0x01, code_address=0x0187, space_len=392
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0187 -> 0x0188 (offset 391) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0188
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0188 -> 0x0189 (offset 392) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack after function call - depth now: 23
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generated call to function ID 11 with unresolved reference at 0x0185
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 192 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 192 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: UnaryOp { target: 193, op: Not, operand: 192 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: UnaryOp creates target IR ID 193
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 192
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 192 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8f at PC=0x0189 operands=[Variable(0)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x0189
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x0189
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0189 gen_addr=0x0189 opcode=0x8f operands=[Variable(0)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8f -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0x8f, store_var=Some(0), branch_offset=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0x8f, var_bit=0x00, instruction_byte=0xcf at address 0x0189
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=393, byte=0xcf, code_address=0x0189, space_len=394
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0189 -> 0x018a (offset 393) after emitting byte 0xcf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0xbf at address 0x018a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=394, byte=0xbf, code_address=0x018a, space_len=395
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x018a -> 0x018b (offset 394) after emitting byte 0xbf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x018b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x018b -> 0x018c (offset 395) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x018c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x018c -> 0x018d (offset 396) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (generic) - depth now: 24
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 193 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Branch { condition: 193, true_label: 194, false_label: 195 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: condition_id=193, true=194, false=195 at code_addr=0x018d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] CHECKING_BINARY_OP_MAPPING: condition=193, mapping exists=false
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Condition 193 is not a comparison - using jz branch approach
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 193
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 193 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xa0 at PC=0x018d operands=[Variable(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x018d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x018d gen_addr=0x018d opcode=0xa0 operands=[Variable(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xa0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x018d byte=0xa0 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=397, byte=0xa0, code_address=0x018d, space_len=398
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x018d -> 0x018e (offset 397) after emitting byte 0xa0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x018e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x018e -> 0x018f (offset 398) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x018f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x018f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=399, byte=0xff, code_address=0x018f, space_len=400
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x018f -> 0x0190 (offset 399) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0190
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=400, byte=0xff, code_address=0x0190, space_len=401
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0190 -> 0x0191 (offset 400) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  JZ_BRANCH_REF_CREATE: code_space_offset=0x018f target_id=195 (will convert to final address during assembly)
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen] 🔍 JZ_BRANCH_DEBUG: Created UnresolvedReference
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Code space offset: 0x018f
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Target ID: 195
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Final code base: 0x0000
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Estimated final location: 0x018f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Added jz branch reference: code_space_offset=0x018f, target=195
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: Generated 4 bytes (0x018d -> 0x0191)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 194 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 194 -> address 0x0191
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 198, value: String("You can't see any such thing.") }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 198
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(199), function: 41, args: [198] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 199
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] generate_print_builtin: Looking up string for IR ID 198
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available string IDs = [110, 147, 179, 125, 572, 566, 129, 148, 144, 564, 159, 175, 568, 570, 562, 118, 100, 167, 146, 190, 198]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available integer IDs = [86, 184, 69, 133, 560, 561, 559, 558, 62, 66, 178, 90, 79, 128, 76]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]  OPTION_B_FIX: String ID 198 already in encoding system
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8d at PC=0x0191 operands=[LargeConstant(65535)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0191 gen_addr=0x0191 opcode=0x8d operands=[LargeConstant(65535)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8d -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x0191
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=401, byte=0x8d, code_address=0x0191, space_len=402
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0191 -> 0x0192 (offset 401) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x0192
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0192
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=402, byte=0xff, code_address=0x0192, space_len=403
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0192 -> 0x0193 (offset 402) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0193
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=403, byte=0xff, code_address=0x0193, space_len=404
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0193 -> 0x0194 (offset 403) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 199 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 199 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Return { value: None }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xb0 at PC=0x0194 operands=[] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0194 gen_addr=0x0194 opcode=0xb0 operands=[] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xb0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0xb0 (rtrue) at address 0x0194
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=404, byte=0xb0, code_address=0x0194, space_len=405
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0194 -> 0x0195 (offset 404) after emitting byte 0xb0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Jump { label: 196 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xc1 at PC=0x0195 operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0195 gen_addr=0x0195 opcode=0xc1 operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xc1 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xc1, store_var=None, branch_offset=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xc1, var_bit=0x00, instruction_byte=0xc1 at address 0x0195
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=405, byte=0xc1, code_address=0x0195, space_len=406
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0195 -> 0x0196 (offset 405) after emitting byte 0xc1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x0f at address 0x0196
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=406, byte=0x0f, code_address=0x0196, space_len=407
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0196 -> 0x0197 (offset 406) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0197
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0197
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0197 -> 0x0198 (offset 407) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0198 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=408, byte=0x01, code_address=0x0198, space_len=409
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0198 -> 0x0199 (offset 408) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0199
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0199
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0199 -> 0x019a (offset 409) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x019a opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=410, byte=0x01, code_address=0x019a, space_len=411
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x019a -> 0x019b (offset 410) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=0 at address=0x019b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=411, byte=0xc0, code_address=0x019b, space_len=412
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x019b -> 0x019c (offset 411) after emitting byte 0xc0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 195 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 195 -> address 0x019c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 196 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 196 -> address 0x019c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 200, object: 181, property_num: 13 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 200
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 181
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 181 resolved to Variable(1) [Local parameter]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 200 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x019c operands=[Variable(1), LargeConstant(13)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x019c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x019c gen_addr=0x019c opcode=0x11 operands=[Variable(1), LargeConstant(13)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=412, byte=0x51, code_address=0x019c, space_len=413
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x019c -> 0x019d (offset 412) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(1) -> Z-Machine variable 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x019d opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=413, byte=0x01, code_address=0x019d, space_len=414
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x019d -> 0x019e (offset 413) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=414, byte=0x0d, code_address=0x019e, space_len=415
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x019e -> 0x019f (offset 414) after emitting byte 0x0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x019f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x019f -> 0x01a0 (offset 415) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 25
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 200 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 201, object: 200, property_num: 16 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 201
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 200
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 200 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 201 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x01a0 operands=[Variable(0), LargeConstant(16)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x01a0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x01a0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x01a0 gen_addr=0x01a0 opcode=0x11 operands=[Variable(0), LargeConstant(16)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=416, byte=0x51, code_address=0x01a0, space_len=417
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01a0 -> 0x01a1 (offset 416) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x01a1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01a1 -> 0x01a2 (offset 417) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=418, byte=0x10, code_address=0x01a2, space_len=419
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01a2 -> 0x01a3 (offset 418) after emitting byte 0x10
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x01a3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01a3 -> 0x01a4 (offset 419) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 26
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 201 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 202, object: 181, property_num: 13 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 202
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 181
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 181 resolved to Variable(1) [Local parameter]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 202 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x01a4 operands=[Variable(1), LargeConstant(13)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x01a4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x01a4 gen_addr=0x01a4 opcode=0x11 operands=[Variable(1), LargeConstant(13)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=420, byte=0x51, code_address=0x01a4, space_len=421
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01a4 -> 0x01a5 (offset 420) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(1) -> Z-Machine variable 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x01a5 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=421, byte=0x01, code_address=0x01a5, space_len=422
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01a5 -> 0x01a6 (offset 421) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=422, byte=0x0d, code_address=0x01a6, space_len=423
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01a6 -> 0x01a7 (offset 422) after emitting byte 0x0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x01a7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01a7 -> 0x01a8 (offset 423) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 27
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 202 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 203, object: 202, property_num: 17 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 203
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 202
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 202 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 203 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x01a8 operands=[Variable(0), LargeConstant(17)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x01a8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x01a8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x01a8 gen_addr=0x01a8 opcode=0x11 operands=[Variable(0), LargeConstant(17)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=424, byte=0x51, code_address=0x01a8, space_len=425
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01a8 -> 0x01a9 (offset 424) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x01a9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01a9 -> 0x01aa (offset 425) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=426, byte=0x11, code_address=0x01aa, space_len=427
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01aa -> 0x01ab (offset 426) after emitting byte 0x11
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x01ab
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01ab -> 0x01ac (offset 427) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 28
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 203 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: UnaryOp { target: 204, op: Not, operand: 203 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: UnaryOp creates target IR ID 204
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 203
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 203 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8f at PC=0x01ac operands=[Variable(0)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x01ac
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x01ac
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x01ac gen_addr=0x01ac opcode=0x8f operands=[Variable(0)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8f -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0x8f, store_var=Some(0), branch_offset=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0x8f, var_bit=0x00, instruction_byte=0xcf at address 0x01ac
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=428, byte=0xcf, code_address=0x01ac, space_len=429
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01ac -> 0x01ad (offset 428) after emitting byte 0xcf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0xbf at address 0x01ad
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=429, byte=0xbf, code_address=0x01ad, space_len=430
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01ad -> 0x01ae (offset 429) after emitting byte 0xbf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x01ae
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01ae -> 0x01af (offset 430) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x01af
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01af -> 0x01b0 (offset 431) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (generic) - depth now: 29
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 204 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: BinaryOp { target: 205, op: And, left: 201, right: 204 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: BinaryOp creates target IR ID 205
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] UNIFIED_BINARYOP_PROCESSING: target=205, op=And, left=201, right=204
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 201
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 201 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 204
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 204 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Generating binary operation: And with operands Variable(0), Variable(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x09 at PC=0x01b0 operands=[Variable(0), Variable(0)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x01b0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[1] reads from stack at PC=0x01b0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x01b0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x01b0 gen_addr=0x01b0 opcode=0x09 operands=[Variable(0), Variable(0)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x09 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=432, byte=0x69, code_address=0x01b0, space_len=433
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01b0 -> 0x01b1 (offset 432) after emitting byte 0x69
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x01b1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01b1 -> 0x01b2 (offset 433) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x01b2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01b2 -> 0x01b3 (offset 434) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x01b3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01b3 -> 0x01b4 (offset 435) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (generic) - depth now: 30
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 205 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] BinaryOp (And) result: IR ID 205 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Branch { condition: 205, true_label: 206, false_label: 207 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: condition_id=205, true=206, false=207 at code_addr=0x01b4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] CHECKING_BINARY_OP_MAPPING: condition=205, mapping exists=true
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] DIRECT_COMPARISON_BRANCH: Detected BinaryOp And - generating direct Z-Machine branch instruction
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 201
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 201 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 204
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 204 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Translation failed for instruction Branch { condition: 205, true_label: 206, false_label: 207 }: Code generation error: Unsupported comparison operation in direct branch: And
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 206 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 206 -> address 0x01b4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 210, value: String("The ") }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 210
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 211, object: 181, property_num: 13 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 211
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 181
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 181 resolved to Variable(1) [Local parameter]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 211 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x01b4 operands=[Variable(1), LargeConstant(13)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x01b4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x01b4 gen_addr=0x01b4 opcode=0x11 operands=[Variable(1), LargeConstant(13)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=436, byte=0x51, code_address=0x01b4, space_len=437
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01b4 -> 0x01b5 (offset 436) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(1) -> Z-Machine variable 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x01b5 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=437, byte=0x01, code_address=0x01b5, space_len=438
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01b5 -> 0x01b6 (offset 437) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=438, byte=0x0d, code_address=0x01b6, space_len=439
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01b6 -> 0x01b7 (offset 438) after emitting byte 0x0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x01b7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01b7 -> 0x01b8 (offset 439) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 31
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 211 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 212, object: 211, property_num: 1 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 212
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 211
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 211 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 212 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x01b8 operands=[Variable(0), LargeConstant(1)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x01b8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x01b8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x01b8 gen_addr=0x01b8 opcode=0x11 operands=[Variable(0), LargeConstant(1)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=440, byte=0x51, code_address=0x01b8, space_len=441
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01b8 -> 0x01b9 (offset 440) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x01b9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01b9 -> 0x01ba (offset 441) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x01ba opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=442, byte=0x01, code_address=0x01ba, space_len=443
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01ba -> 0x01bb (offset 442) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x01bb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01bb -> 0x01bc (offset 443) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 32
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 212 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: BinaryOp { target: 213, op: Add, left: 210, right: 212 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: BinaryOp creates target IR ID 213
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] UNIFIED_BINARYOP_PROCESSING: target=213, op=Add, left=210, right=212
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'The [RUNTIME_STACK_212]' -> 47 Z-chars -> 32 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 String concatenation: 'The ' + '[RUNTIME_STACK_212]' = 'The [RUNTIME_STACK_212]' (IR ID 213)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 213 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] BinaryOp (Add) result: IR ID 213 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ZERO BYTES: IR instruction generated no bytecode: BinaryOp { target: 213, op: Add, left: 210, right: 212 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 214, value: String(" is closed.") }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 214
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: BinaryOp { target: 215, op: Add, left: 213, right: 214 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: BinaryOp creates target IR ID 215
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] UNIFIED_BINARYOP_PROCESSING: target=215, op=Add, left=213, right=214
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'The [RUNTIME_STACK_212] is closed.' -> 59 Z-chars -> 40 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 String concatenation: 'The [RUNTIME_STACK_212]' + ' is closed.' = 'The [RUNTIME_STACK_212] is closed.' (IR ID 215)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 215 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] BinaryOp (Add) result: IR ID 215 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ZERO BYTES: IR instruction generated no bytecode: BinaryOp { target: 215, op: Add, left: 213, right: 214 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(216), function: 41, args: [215] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 216
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] generate_print_builtin: Looking up string for IR ID 215
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available string IDs = [110, 147, 179, 213, 125, 572, 566, 129, 148, 144, 564, 159, 175, 568, 570, 562, 118, 214, 100, 167, 215, 146, 190, 198, 210]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available integer IDs = [86, 184, 69, 133, 560, 561, 559, 558, 62, 66, 178, 90, 79, 128, 76]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'The [RUNTIME_STACK_212] is closed.' -> 59 Z-chars -> 40 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]  OPTION_B_FIX: Added string ID 215 to encoding system: 'The [RUNTIME_STACK_212] is closed.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8d at PC=0x01bc operands=[LargeConstant(65535)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x01bc gen_addr=0x01bc opcode=0x8d operands=[LargeConstant(65535)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8d -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x01bc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=444, byte=0x8d, code_address=0x01bc, space_len=445
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01bc -> 0x01bd (offset 444) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x01bd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x01bd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=445, byte=0xff, code_address=0x01bd, space_len=446
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01bd -> 0x01be (offset 445) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x01be
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=446, byte=0xff, code_address=0x01be, space_len=447
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01be -> 0x01bf (offset 446) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 216 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 216 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Return { value: None }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xb0 at PC=0x01bf operands=[] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x01bf gen_addr=0x01bf opcode=0xb0 operands=[] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xb0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0xb0 (rtrue) at address 0x01bf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=447, byte=0xb0, code_address=0x01bf, space_len=448
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01bf -> 0x01c0 (offset 447) after emitting byte 0xb0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Jump { label: 208 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xc1 at PC=0x01c0 operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x01c0 gen_addr=0x01c0 opcode=0xc1 operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xc1 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xc1, store_var=None, branch_offset=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xc1, var_bit=0x00, instruction_byte=0xc1 at address 0x01c0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=448, byte=0xc1, code_address=0x01c0, space_len=449
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01c0 -> 0x01c1 (offset 448) after emitting byte 0xc1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x0f at address 0x01c1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=449, byte=0x0f, code_address=0x01c1, space_len=450
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01c1 -> 0x01c2 (offset 449) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x01c2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x01c2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01c2 -> 0x01c3 (offset 450) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x01c3 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=451, byte=0x01, code_address=0x01c3, space_len=452
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01c3 -> 0x01c4 (offset 451) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x01c4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x01c4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01c4 -> 0x01c5 (offset 452) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x01c5 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=453, byte=0x01, code_address=0x01c5, space_len=454
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01c5 -> 0x01c6 (offset 453) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=0 at address=0x01c6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=454, byte=0xc0, code_address=0x01c6, space_len=455
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01c6 -> 0x01c7 (offset 454) after emitting byte 0xc0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 207 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 207 -> address 0x01c7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 208 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 208 -> address 0x01c7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 217, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 217
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(218), function: 219, args: [181, 217] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 218
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 181
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 181 resolved to Variable(1) [Local parameter]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 217
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 217 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] generate_move_builtin: object IR 181 -> Variable(1), destination IR 217 -> LargeConstant(1)
[2025-09-12T15:05:07Z WARN  gruesome::grue_compiler::codegen_builtins] move builtin: object operand is variable 1 which could contain 0 at runtime, using player object (1) instead
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] move builtin: using safe constant destination 1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x0e at PC=0x01c7 operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] insert_obj with operand LargeConstant(1) - appears safe
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x01c7 gen_addr=0x01c7 opcode=0x0e operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x0e -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=455, byte=0x0e, code_address=0x01c7, space_len=456
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01c7 -> 0x01c8 (offset 455) after emitting byte 0x0e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x01c8 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=456, byte=0x01, code_address=0x01c8, space_len=457
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01c8 -> 0x01c9 (offset 456) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x01c9 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=457, byte=0x01, code_address=0x01c9, space_len=458
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01c9 -> 0x01ca (offset 457) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] move builtin: generated insert_obj with safe operands
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 218 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 218 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 220, value: String("Taken.") }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 220
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(221), function: 41, args: [220] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 221
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] generate_print_builtin: Looking up string for IR ID 220
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available string IDs = [110, 147, 179, 213, 125, 572, 566, 129, 148, 144, 564, 159, 175, 568, 570, 562, 118, 214, 100, 167, 215, 146, 220, 190, 198, 210]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available integer IDs = [86, 184, 217, 69, 133, 560, 561, 559, 558, 62, 66, 178, 90, 79, 128, 76]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]  OPTION_B_FIX: String ID 220 already in encoding system
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8d at PC=0x01ca operands=[LargeConstant(65535)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x01ca gen_addr=0x01ca opcode=0x8d operands=[LargeConstant(65535)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8d -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x01ca
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=458, byte=0x8d, code_address=0x01ca, space_len=459
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01ca -> 0x01cb (offset 458) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x01cb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x01cb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=459, byte=0xff, code_address=0x01cb, space_len=460
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01cb -> 0x01cc (offset 459) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x01cc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=460, byte=0xff, code_address=0x01cc, space_len=461
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01cc -> 0x01cd (offset 460) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 221 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 221 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Function 'handle_take' ends with return: false
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Adding implicit return to function 'handle_take'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xb0 at PC=0x01cd operands=[] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x01cd gen_addr=0x01cd opcode=0xb0 operands=[] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xb0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0xb0 (rtrue) at address 0x01cd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=461, byte=0xb0, code_address=0x01cd, space_len=462
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01cd -> 0x01ce (offset 461) after emitting byte 0xb0
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]  Function 'handle_take' complete: 99 bytes generated
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FINALIZE: Function 'handle_take' used 0 local variables during generation
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] ❌ PATCH_ERROR: No header location found for function 5 ('handle_take')
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  TRANSLATING: Function #5: 'handle_drop' (16 instructions)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ALIGN: Function 'handle_drop' before alignment at code_address=0x01ce
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ALIGN: Function 'handle_drop' after alignment at code_address=0x01ce
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ADDRESS_FIX: Function 'handle_drop' stored at relative address 0x01ce (Phase 2)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record code offset: Recording IR ID 6 -> code_space_offset 0x01ce
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record code offset: This will be converted to absolute address during final assembly
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_UPDATED: 'handle_drop' (ID 6) updated to actual address 0x01ce
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PARAMETER_SETUP: Function 'handle_drop' has 1 parameters
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  Parameter mapping: 'obj' (IR ID 222) -> local variable slot 1 for function 'handle_drop'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  GENERATING: Routine header for 'handle_drop' with 1 locals
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_START: Reset local variable counter for function 'handle_drop'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_LOCALS: 'handle_drop' declared=1, using=1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Generating V3 header: 1 declared locals for function 'handle_drop'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x01ce opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=462, byte=0x01, code_address=0x01ce, space_len=463
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01ce -> 0x01cf (offset 462) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0000 -> high_byte=0x00, low_byte=0x00 at code_address 0x01cf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  NULL_WORD_SOURCE: emit_word(0x0000) called at code_address 0x01cf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  This might be valid V3 default local values OR invalid placeholder operands
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x01cf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01cf -> 0x01d0 (offset 463) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x01d0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01d0 -> 0x01d1 (offset 464) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitted default value for local 1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 224, object: 222, property_num: 13 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 224
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 222
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 222 resolved to Variable(1) [Local parameter]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 224 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x01d1 operands=[Variable(1), LargeConstant(13)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x01d1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x01d1 gen_addr=0x01d1 opcode=0x11 operands=[Variable(1), LargeConstant(13)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=465, byte=0x51, code_address=0x01d1, space_len=466
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01d1 -> 0x01d2 (offset 465) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(1) -> Z-Machine variable 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x01d2 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=466, byte=0x01, code_address=0x01d2, space_len=467
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01d2 -> 0x01d3 (offset 466) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=467, byte=0x0d, code_address=0x01d3, space_len=468
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01d3 -> 0x01d4 (offset 467) after emitting byte 0x0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x01d4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01d4 -> 0x01d5 (offset 468) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 33
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 224 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 225, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 225
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: BinaryOp { target: 226, op: NotEqual, left: 224, right: 225 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: BinaryOp creates target IR ID 226
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] UNIFIED_BINARYOP_PROCESSING: target=226, op=NotEqual, left=224, right=225
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 226 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Comparison BinaryOp registered: IR ID 226 -> stack, bytecode deferred to branch generation
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ZERO BYTES: IR instruction generated no bytecode: BinaryOp { target: 226, op: NotEqual, left: 224, right: 225 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Branch { condition: 226, true_label: 227, false_label: 228 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: condition_id=226, true=227, false=228 at code_addr=0x01d5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] CHECKING_BINARY_OP_MAPPING: condition=226, mapping exists=true
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] DIRECT_COMPARISON_BRANCH: Detected BinaryOp NotEqual - generating direct Z-Machine branch instruction
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 224
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 224 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 225
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 225 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] GENERATING_DIRECT_BRANCH: NotEqual with opcode 0x01, branching to 228 on false
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_COMPARISON_BRANCH: opcode=0x01, operands=[Variable(0), LargeConstant(1)], true=228, false=227 at code_addr=0x01d5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x01 at PC=0x01d5 operands=[Variable(0), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x01d5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x01d5 gen_addr=0x01d5 opcode=0x01 operands=[Variable(0), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 JZ_INSTRUCTION_TRACE: runtime_addr=0x01d5 store_var=None branch_offset=Some(3329)
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 JZ_DETAILS: operands=[Variable(0), LargeConstant(1)] at code_space[0x01d5]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x01 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=469, byte=0x41, code_address=0x01d5, space_len=470
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01d5 -> 0x01d6 (offset 469) after emitting byte 0x41
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x01d6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01d6 -> 0x01d7 (offset 470) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x01d7 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=471, byte=0x01, code_address=0x01d7, space_len=472
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01d7 -> 0x01d8 (offset 471) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=3329 at address=0x01d8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x01d8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=472, byte=0x8d, code_address=0x01d8, space_len=473
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01d8 -> 0x01d9 (offset 472) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x01d9 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=473, byte=0x01, code_address=0x01d9, space_len=474
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01d9 -> 0x01da (offset 473) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_COMPARISON_BRANCH: Generated 5 bytes (0x01d5 -> 0x01da), fixup at offset=0x01d8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: Generated 5 bytes (0x01d5 -> 0x01da) via comparison branch
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 227 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 227 -> address 0x01da
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 231, value: String("You don't have that.") }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 231
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(232), function: 41, args: [231] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 232
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] generate_print_builtin: Looking up string for IR ID 231
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available string IDs = [110, 147, 179, 213, 231, 125, 572, 566, 129, 148, 144, 564, 159, 175, 568, 570, 562, 118, 214, 100, 167, 215, 146, 220, 190, 198, 210]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available integer IDs = [86, 184, 217, 69, 133, 560, 561, 225, 559, 558, 62, 66, 178, 90, 79, 128, 76]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]  OPTION_B_FIX: String ID 231 already in encoding system
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8d at PC=0x01da operands=[LargeConstant(65535)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x01da gen_addr=0x01da opcode=0x8d operands=[LargeConstant(65535)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8d -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x01da
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=474, byte=0x8d, code_address=0x01da, space_len=475
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01da -> 0x01db (offset 474) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x01db
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x01db
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=475, byte=0xff, code_address=0x01db, space_len=476
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01db -> 0x01dc (offset 475) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x01dc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=476, byte=0xff, code_address=0x01dc, space_len=477
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01dc -> 0x01dd (offset 476) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 232 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 232 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Return { value: None }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xb0 at PC=0x01dd operands=[] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x01dd gen_addr=0x01dd opcode=0xb0 operands=[] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xb0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0xb0 (rtrue) at address 0x01dd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=477, byte=0xb0, code_address=0x01dd, space_len=478
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01dd -> 0x01de (offset 477) after emitting byte 0xb0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Jump { label: 229 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xc1 at PC=0x01de operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x01de gen_addr=0x01de opcode=0xc1 operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xc1 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xc1, store_var=None, branch_offset=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xc1, var_bit=0x00, instruction_byte=0xc1 at address 0x01de
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=478, byte=0xc1, code_address=0x01de, space_len=479
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01de -> 0x01df (offset 478) after emitting byte 0xc1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x0f at address 0x01df
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=479, byte=0x0f, code_address=0x01df, space_len=480
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01df -> 0x01e0 (offset 479) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x01e0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x01e0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01e0 -> 0x01e1 (offset 480) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x01e1 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=481, byte=0x01, code_address=0x01e1, space_len=482
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01e1 -> 0x01e2 (offset 481) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x01e2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x01e2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01e2 -> 0x01e3 (offset 482) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x01e3 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=483, byte=0x01, code_address=0x01e3, space_len=484
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01e3 -> 0x01e4 (offset 483) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=0 at address=0x01e4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=484, byte=0xc0, code_address=0x01e4, space_len=485
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01e4 -> 0x01e5 (offset 484) after emitting byte 0xc0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 228 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 228 -> address 0x01e5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 229 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 229 -> address 0x01e5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 233, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 233
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 234, object: 233, property_num: 13 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 234
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 233
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 233 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 234 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x01e5 operands=[LargeConstant(1), LargeConstant(13)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x01e5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x01e5 gen_addr=0x01e5 opcode=0x11 operands=[LargeConstant(1), LargeConstant(13)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=485, byte=0x11, code_address=0x01e5, space_len=486
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01e5 -> 0x01e6 (offset 485) after emitting byte 0x11
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x01e6 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=486, byte=0x01, code_address=0x01e6, space_len=487
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01e6 -> 0x01e7 (offset 486) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=487, byte=0x0d, code_address=0x01e7, space_len=488
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01e7 -> 0x01e8 (offset 487) after emitting byte 0x0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x01e8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01e8 -> 0x01e9 (offset 488) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 34
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 234 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(235), function: 236, args: [222, 234] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 235
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 222
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 222 resolved to Variable(1) [Local parameter]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 234
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 234 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] generate_move_builtin: object IR 222 -> Variable(1), destination IR 234 -> Variable(0)
[2025-09-12T15:05:07Z WARN  gruesome::grue_compiler::codegen_builtins] move builtin: object operand is variable 1 which could contain 0 at runtime, using player object (1) instead
[2025-09-12T15:05:07Z WARN  gruesome::grue_compiler::codegen_builtins] move builtin: destination operand is variable 0 which could contain 0 at runtime, using player object (1) instead
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x0e at PC=0x01e9 operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] insert_obj with operand LargeConstant(1) - appears safe
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x01e9 gen_addr=0x01e9 opcode=0x0e operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x0e -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=489, byte=0x0e, code_address=0x01e9, space_len=490
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01e9 -> 0x01ea (offset 489) after emitting byte 0x0e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x01ea opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=490, byte=0x01, code_address=0x01ea, space_len=491
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01ea -> 0x01eb (offset 490) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x01eb opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=491, byte=0x01, code_address=0x01eb, space_len=492
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01eb -> 0x01ec (offset 491) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] move builtin: generated insert_obj with safe operands
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 235 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 235 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 237, value: String("Dropped.") }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 237
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(238), function: 41, args: [237] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 238
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] generate_print_builtin: Looking up string for IR ID 237
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available string IDs = [110, 147, 179, 213, 231, 237, 125, 572, 566, 129, 148, 144, 564, 159, 175, 568, 570, 562, 118, 214, 100, 167, 215, 146, 220, 190, 198, 210]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available integer IDs = [86, 184, 217, 69, 133, 233, 560, 561, 225, 559, 558, 62, 66, 178, 90, 79, 128, 76]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]  OPTION_B_FIX: String ID 237 already in encoding system
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8d at PC=0x01ec operands=[LargeConstant(65535)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x01ec gen_addr=0x01ec opcode=0x8d operands=[LargeConstant(65535)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8d -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x01ec
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=492, byte=0x8d, code_address=0x01ec, space_len=493
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01ec -> 0x01ed (offset 492) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x01ed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x01ed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=493, byte=0xff, code_address=0x01ed, space_len=494
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01ed -> 0x01ee (offset 493) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x01ee
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=494, byte=0xff, code_address=0x01ee, space_len=495
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01ee -> 0x01ef (offset 494) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 238 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 238 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Function 'handle_drop' ends with return: false
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Adding implicit return to function 'handle_drop'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xb0 at PC=0x01ef operands=[] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x01ef gen_addr=0x01ef opcode=0xb0 operands=[] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xb0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0xb0 (rtrue) at address 0x01ef
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=495, byte=0xb0, code_address=0x01ef, space_len=496
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01ef -> 0x01f0 (offset 495) after emitting byte 0xb0
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]  Function 'handle_drop' complete: 34 bytes generated
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FINALIZE: Function 'handle_drop' used 0 local variables during generation
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] ❌ PATCH_ERROR: No header location found for function 6 ('handle_drop')
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  TRANSLATING: Function #6: 'show_inventory' (40 instructions)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ALIGN: Function 'show_inventory' before alignment at code_address=0x01f0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ALIGN: Function 'show_inventory' after alignment at code_address=0x01f0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ADDRESS_FIX: Function 'show_inventory' stored at relative address 0x01f0 (Phase 2)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record code offset: Recording IR ID 7 -> code_space_offset 0x01f0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record code offset: This will be converted to absolute address during final assembly
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_UPDATED: 'show_inventory' (ID 7) updated to actual address 0x01f0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PARAMETER_SETUP: Function 'show_inventory' has 0 parameters
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  GENERATING: Routine header for 'show_inventory' with 2 locals
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_START: Reset local variable counter for function 'show_inventory'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_LOCALS: 'show_inventory' declared=2, using=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Generating V3 header: 2 declared locals for function 'show_inventory'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=496, byte=0x02, code_address=0x01f0, space_len=497
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01f0 -> 0x01f1 (offset 496) after emitting byte 0x02
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0000 -> high_byte=0x00, low_byte=0x00 at code_address 0x01f1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  NULL_WORD_SOURCE: emit_word(0x0000) called at code_address 0x01f1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  This might be valid V3 default local values OR invalid placeholder operands
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x01f1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01f1 -> 0x01f2 (offset 497) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x01f2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01f2 -> 0x01f3 (offset 498) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitted default value for local 1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0000 -> high_byte=0x00, low_byte=0x00 at code_address 0x01f3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  NULL_WORD_SOURCE: emit_word(0x0000) called at code_address 0x01f3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  This might be valid V3 default local values OR invalid placeholder operands
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x01f3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01f3 -> 0x01f4 (offset 499) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x01f4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01f4 -> 0x01f5 (offset 500) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitted default value for local 2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 241, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 241
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 242, object: 241, property_num: 21 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 242
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 241
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 241 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 242 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x01f5 operands=[LargeConstant(1), LargeConstant(21)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x01f5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x01f5 gen_addr=0x01f5 opcode=0x11 operands=[LargeConstant(1), LargeConstant(21)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=501, byte=0x11, code_address=0x01f5, space_len=502
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01f5 -> 0x01f6 (offset 501) after emitting byte 0x11
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x01f6 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=502, byte=0x01, code_address=0x01f6, space_len=503
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01f6 -> 0x01f7 (offset 502) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=503, byte=0x15, code_address=0x01f7, space_len=504
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01f7 -> 0x01f8 (offset 503) after emitting byte 0x15
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x01f8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01f8 -> 0x01f9 (offset 504) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 35
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 242 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Branch { condition: 242, true_label: 244, false_label: 245 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: condition_id=242, true=244, false=245 at code_addr=0x01f9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] CHECKING_BINARY_OP_MAPPING: condition=242, mapping exists=false
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Condition 242 is not a comparison - using jz branch approach
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 242
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 242 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xa0 at PC=0x01f9 operands=[Variable(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x01f9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x01f9 gen_addr=0x01f9 opcode=0xa0 operands=[Variable(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xa0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x01f9 byte=0xa0 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=505, byte=0xa0, code_address=0x01f9, space_len=506
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01f9 -> 0x01fa (offset 505) after emitting byte 0xa0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x01fa
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01fa -> 0x01fb (offset 506) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x01fb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x01fb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=507, byte=0xff, code_address=0x01fb, space_len=508
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01fb -> 0x01fc (offset 507) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x01fc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=508, byte=0xff, code_address=0x01fc, space_len=509
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01fc -> 0x01fd (offset 508) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  JZ_BRANCH_REF_CREATE: code_space_offset=0x01fb target_id=245 (will convert to final address during assembly)
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen] 🔍 JZ_BRANCH_DEBUG: Created UnresolvedReference
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Code space offset: 0x01fb
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Target ID: 245
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Final code base: 0x0000
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Estimated final location: 0x01fb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Added jz branch reference: code_space_offset=0x01fb, target=245
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: Generated 4 bytes (0x01f9 -> 0x01fd)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 244 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 244 -> address 0x01fd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: CreateArray { target: 247, size: Integer(10) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: CreateArray creates target IR ID 247
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Creating array with size Integer(10)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 247 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] CreateArray: IR ID 247 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x21 at PC=0x01fd operands=[LargeConstant(10)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x01fd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x01fd gen_addr=0x01fd opcode=0x21 operands=[LargeConstant(10)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x21 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=509, byte=0x81, code_address=0x01fd, space_len=510
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01fd -> 0x01fe (offset 509) after emitting byte 0x81
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x000a -> high_byte=0x00, low_byte=0x0a at code_address 0x01fe
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x01fe
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01fe -> 0x01ff (offset 510) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=511, byte=0x0a, code_address=0x01ff, space_len=512
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x01ff -> 0x0200 (offset 511) after emitting byte 0x0a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0200
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0200 -> 0x0201 (offset 512) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(243), function: 248, args: [241] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 243
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] Generating get_object_contents for object IR ID 241
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 241
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 241 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] get_object_contents: resolved IR ID 241 to operand LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] get_object_contents target mapping: IR ID 243 -> stack variable 0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x21 at PC=0x0201 operands=[LargeConstant(1)] store=Some(243)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0201 gen_addr=0x0201 opcode=0x21 operands=[LargeConstant(1)] store_var=Some(243)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x21 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=513, byte=0x81, code_address=0x0201, space_len=514
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0201 -> 0x0202 (offset 513) after emitting byte 0x81
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0202
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0202
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0202 -> 0x0203 (offset 514) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0203 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=515, byte=0x01, code_address=0x0203, space_len=516
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0203 -> 0x0204 (offset 515) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=516, byte=0xf3, code_address=0x0204, space_len=517
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0204 -> 0x0205 (offset 516) after emitting byte 0xf3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] get_object_contents: generated store instruction for object 1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] get_object_contents: returning placeholder value 1 for object 1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 243 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 243 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Jump { label: 246 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xc1 at PC=0x0205 operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0205 gen_addr=0x0205 opcode=0xc1 operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xc1 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xc1, store_var=None, branch_offset=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xc1, var_bit=0x00, instruction_byte=0xc1 at address 0x0205
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=517, byte=0xc1, code_address=0x0205, space_len=518
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0205 -> 0x0206 (offset 517) after emitting byte 0xc1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x0f at address 0x0206
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=518, byte=0x0f, code_address=0x0206, space_len=519
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0206 -> 0x0207 (offset 518) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0207
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0207
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0207 -> 0x0208 (offset 519) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0208 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=520, byte=0x01, code_address=0x0208, space_len=521
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0208 -> 0x0209 (offset 520) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0209
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0209
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0209 -> 0x020a (offset 521) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x020a opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=522, byte=0x01, code_address=0x020a, space_len=523
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x020a -> 0x020b (offset 522) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=0 at address=0x020b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=523, byte=0xc0, code_address=0x020b, space_len=524
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x020b -> 0x020c (offset 523) after emitting byte 0xc0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 245 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 245 -> address 0x020c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 243, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 243
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 246 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 246 -> address 0x020c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: StoreVar { var_id: 240, source: 243 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 243
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 243 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x0d at PC=0x020c operands=[SmallConstant(0), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x020c gen_addr=0x020c opcode=0x0d operands=[SmallConstant(0), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x0d -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=524, byte=0x0d, code_address=0x020c, space_len=525
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x020c -> 0x020d (offset 524) after emitting byte 0x0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x020d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x020d -> 0x020e (offset 525) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x020e opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=526, byte=0x01, code_address=0x020e, space_len=527
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x020e -> 0x020f (offset 526) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] StoreVar: IR ID 240 stored value from IR ID 243
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: ArrayEmpty { target: 249, array: 240 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: ArrayEmpty creates target IR ID 249
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 249 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8d at PC=0x020f operands=[LargeConstant(0)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x020f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x020f gen_addr=0x020f opcode=0x8d operands=[LargeConstant(0)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8d -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x020f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=527, byte=0x8d, code_address=0x020f, space_len=528
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x020f -> 0x0210 (offset 527) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0000 -> high_byte=0x00, low_byte=0x00 at code_address 0x0210
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  NULL_WORD_SOURCE: emit_word(0x0000) called at code_address 0x0210
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  This might be valid V3 default local values OR invalid placeholder operands
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0210
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0210 -> 0x0211 (offset 528) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0211
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0211 -> 0x0212 (offset 529) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0212
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0212 -> 0x0213 (offset 530) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (generic) - depth now: 36
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] ArrayEmpty: IR ID 249 -> stack (placeholder: false)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Branch { condition: 249, true_label: 250, false_label: 251 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: condition_id=249, true=250, false=251 at code_addr=0x0213
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] CHECKING_BINARY_OP_MAPPING: condition=249, mapping exists=false
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Condition 249 is not a comparison - using jz branch approach
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 249
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 249 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xa0 at PC=0x0213 operands=[Variable(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x0213
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0213 gen_addr=0x0213 opcode=0xa0 operands=[Variable(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xa0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x0213 byte=0xa0 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=531, byte=0xa0, code_address=0x0213, space_len=532
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0213 -> 0x0214 (offset 531) after emitting byte 0xa0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0214
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0214 -> 0x0215 (offset 532) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x0215
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0215
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=533, byte=0xff, code_address=0x0215, space_len=534
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0215 -> 0x0216 (offset 533) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0216
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=534, byte=0xff, code_address=0x0216, space_len=535
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0216 -> 0x0217 (offset 534) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  JZ_BRANCH_REF_CREATE: code_space_offset=0x0215 target_id=251 (will convert to final address during assembly)
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen] 🔍 JZ_BRANCH_DEBUG: Created UnresolvedReference
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Code space offset: 0x0215
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Target ID: 251
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Final code base: 0x0000
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Estimated final location: 0x0215
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Added jz branch reference: code_space_offset=0x0215, target=251
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: Generated 4 bytes (0x0213 -> 0x0217)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 250 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 250 -> address 0x0217
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 254, value: String("You are empty-handed.") }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 254
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(255), function: 41, args: [254] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 255
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] generate_print_builtin: Looking up string for IR ID 254
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available string IDs = [110, 213, 231, 237, 566, 159, 175, 570, 214, 167, 190, 210, 147, 179, 254, 125, 572, 129, 148, 144, 564, 215, 568, 562, 118, 100, 220, 146, 198]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available integer IDs = [86, 184, 217, 69, 133, 243, 233, 560, 241, 561, 225, 559, 558, 62, 66, 178, 90, 79, 128, 76]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]  OPTION_B_FIX: String ID 254 already in encoding system
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8d at PC=0x0217 operands=[LargeConstant(65535)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0217 gen_addr=0x0217 opcode=0x8d operands=[LargeConstant(65535)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8d -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x0217
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=535, byte=0x8d, code_address=0x0217, space_len=536
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0217 -> 0x0218 (offset 535) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x0218
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0218
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=536, byte=0xff, code_address=0x0218, space_len=537
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0218 -> 0x0219 (offset 536) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0219
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=537, byte=0xff, code_address=0x0219, space_len=538
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0219 -> 0x021a (offset 537) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 255 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 255 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Jump { label: 252 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xc1 at PC=0x021a operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x021a gen_addr=0x021a opcode=0xc1 operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xc1 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xc1, store_var=None, branch_offset=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xc1, var_bit=0x00, instruction_byte=0xc1 at address 0x021a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=538, byte=0xc1, code_address=0x021a, space_len=539
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x021a -> 0x021b (offset 538) after emitting byte 0xc1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x0f at address 0x021b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=539, byte=0x0f, code_address=0x021b, space_len=540
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x021b -> 0x021c (offset 539) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x021c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x021c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x021c -> 0x021d (offset 540) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x021d opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=541, byte=0x01, code_address=0x021d, space_len=542
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x021d -> 0x021e (offset 541) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x021e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x021e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x021e -> 0x021f (offset 542) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x021f opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=543, byte=0x01, code_address=0x021f, space_len=544
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x021f -> 0x0220 (offset 543) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=0 at address=0x0220
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=544, byte=0xc0, code_address=0x0220, space_len=545
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0220 -> 0x0221 (offset 544) after emitting byte 0xc0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 251 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 251 -> address 0x0221
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 257, value: String("You are carrying:") }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 257
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(258), function: 41, args: [257] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 258
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] generate_print_builtin: Looking up string for IR ID 257
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available string IDs = [110, 213, 231, 237, 566, 257, 159, 175, 570, 214, 167, 190, 210, 147, 179, 254, 125, 572, 129, 148, 144, 564, 215, 568, 562, 118, 100, 220, 146, 198]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available integer IDs = [86, 184, 217, 69, 133, 243, 233, 560, 241, 561, 225, 559, 558, 62, 66, 178, 90, 79, 128, 76]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]  OPTION_B_FIX: String ID 257 already in encoding system
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8d at PC=0x0221 operands=[LargeConstant(65535)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0221 gen_addr=0x0221 opcode=0x8d operands=[LargeConstant(65535)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8d -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x0221
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=545, byte=0x8d, code_address=0x0221, space_len=546
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0221 -> 0x0222 (offset 545) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x0222
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0222
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=546, byte=0xff, code_address=0x0222, space_len=547
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0222 -> 0x0223 (offset 546) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0223
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=547, byte=0xff, code_address=0x0223, space_len=548
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0223 -> 0x0224 (offset 547) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 258 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 258 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 261, value: Integer(0) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 261
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: StoreVar { var_id: 260, source: 261 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 261
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 261 resolved to LargeConstant(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x0d at PC=0x0224 operands=[SmallConstant(0), LargeConstant(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0224 gen_addr=0x0224 opcode=0x0d operands=[SmallConstant(0), LargeConstant(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x0d -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=548, byte=0x0d, code_address=0x0224, space_len=549
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0224 -> 0x0225 (offset 548) after emitting byte 0x0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0225
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0225 -> 0x0226 (offset 549) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0226
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0226 -> 0x0227 (offset 550) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] StoreVar: IR ID 260 stored value from IR ID 261
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 262 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 262 -> address 0x0227
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadVar { target: 265, var_id: 260 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadVar creates target IR ID 265
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 260
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 260 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x21 at PC=0x0227 operands=[Variable(0)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x0227
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x0227
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0227 gen_addr=0x0227 opcode=0x21 operands=[Variable(0)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x21 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x0227 byte=0xa1 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=551, byte=0xa1, code_address=0x0227, space_len=552
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0227 -> 0x0228 (offset 551) after emitting byte 0xa1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0228
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0228 -> 0x0229 (offset 552) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0229
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0229 -> 0x022a (offset 553) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack pop (store) - depth now: 35
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 265 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] LoadVar: IR ID 265 loaded from IR ID 260 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 266, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 266
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: BinaryOp { target: 267, op: Less, left: 265, right: 266 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: BinaryOp creates target IR ID 267
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] UNIFIED_BINARYOP_PROCESSING: target=267, op=Less, left=265, right=266
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 267 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Comparison BinaryOp registered: IR ID 267 -> stack, bytecode deferred to branch generation
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ZERO BYTES: IR instruction generated no bytecode: BinaryOp { target: 267, op: Less, left: 265, right: 266 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Branch { condition: 267, true_label: 263, false_label: 264 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: condition_id=267, true=263, false=264 at code_addr=0x022a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] CHECKING_BINARY_OP_MAPPING: condition=267, mapping exists=true
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] DIRECT_COMPARISON_BRANCH: Detected BinaryOp Less - generating direct Z-Machine branch instruction
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 265
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 265 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 266
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 266 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] GENERATING_DIRECT_BRANCH: Less with opcode 0x02, branching to 263 on true
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_COMPARISON_BRANCH: opcode=0x02, operands=[Variable(0), LargeConstant(1)], true=263, false=264 at code_addr=0x022a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x02 at PC=0x022a operands=[Variable(0), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x022a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x022a gen_addr=0x022a opcode=0x02 operands=[Variable(0), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x02 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=554, byte=0x42, code_address=0x022a, space_len=555
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x022a -> 0x022b (offset 554) after emitting byte 0x42
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x022b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x022b -> 0x022c (offset 555) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x022c opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=556, byte=0x01, code_address=0x022c, space_len=557
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x022c -> 0x022d (offset 556) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=3329 at address=0x022d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x022d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=557, byte=0x8d, code_address=0x022d, space_len=558
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x022d -> 0x022e (offset 557) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x022e opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=558, byte=0x01, code_address=0x022e, space_len=559
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x022e -> 0x022f (offset 558) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_COMPARISON_BRANCH: Generated 5 bytes (0x022a -> 0x022f), fixup at offset=0x022d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: Generated 5 bytes (0x022a -> 0x022f) via comparison branch
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 263 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 263 -> address 0x022f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetArrayElement { target: 268, array: 240, index: 265 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 268 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8d at PC=0x022f operands=[LargeConstant(1000)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x022f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x022f gen_addr=0x022f opcode=0x8d operands=[LargeConstant(1000)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8d -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x022f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=559, byte=0x8d, code_address=0x022f, space_len=560
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x022f -> 0x0230 (offset 559) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x03e8 -> high_byte=0x03, low_byte=0xe8 at code_address 0x0230
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=560, byte=0x03, code_address=0x0230, space_len=561
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0230 -> 0x0231 (offset 560) after emitting byte 0x03
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=561, byte=0xe8, code_address=0x0231, space_len=562
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0231 -> 0x0232 (offset 561) after emitting byte 0xe8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0232
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0232 -> 0x0233 (offset 562) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (generic) - depth now: 36
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetArrayElement: IR ID 268 -> stack (placeholder: 1000)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: StoreVar { var_id: 259, source: 268 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 268
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 268 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x0d at PC=0x0233 operands=[SmallConstant(0), Variable(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[1] reads from stack at PC=0x0233
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0233 gen_addr=0x0233 opcode=0x0d operands=[SmallConstant(0), Variable(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x0d -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=563, byte=0x2d, code_address=0x0233, space_len=564
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0233 -> 0x0234 (offset 563) after emitting byte 0x2d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0234
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0234 -> 0x0235 (offset 564) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0235
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0235 -> 0x0236 (offset 565) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] StoreVar: IR ID 259 stored value from IR ID 268
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 270, value: String("  ") }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 270
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 271, object: 259, property_num: 1 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 271
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 259
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 259 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 271 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x0236 operands=[Variable(0), LargeConstant(1)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x0236
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x0236
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0236 gen_addr=0x0236 opcode=0x11 operands=[Variable(0), LargeConstant(1)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=566, byte=0x51, code_address=0x0236, space_len=567
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0236 -> 0x0237 (offset 566) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0237
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0237 -> 0x0238 (offset 567) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0238 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=568, byte=0x01, code_address=0x0238, space_len=569
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0238 -> 0x0239 (offset 568) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0239
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0239 -> 0x023a (offset 569) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 37
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 271 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: BinaryOp { target: 272, op: Add, left: 270, right: 271 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: BinaryOp creates target IR ID 272
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] UNIFIED_BINARYOP_PROCESSING: target=272, op=Add, left=270, right=271
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string '  [RUNTIME_STACK_271]' -> 44 Z-chars -> 30 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 String concatenation: '  ' + '[RUNTIME_STACK_271]' = '  [RUNTIME_STACK_271]' (IR ID 272)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 272 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] BinaryOp (Add) result: IR ID 272 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ZERO BYTES: IR instruction generated no bytecode: BinaryOp { target: 272, op: Add, left: 270, right: 271 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(273), function: 41, args: [272] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 273
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] generate_print_builtin: Looking up string for IR ID 272
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available string IDs = [110, 213, 231, 237, 272, 566, 257, 159, 175, 570, 214, 167, 190, 210, 147, 179, 254, 125, 572, 129, 148, 144, 564, 215, 568, 562, 118, 100, 220, 146, 270, 198]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available integer IDs = [86, 184, 217, 69, 133, 243, 233, 560, 241, 561, 225, 261, 559, 558, 62, 66, 178, 266, 90, 79, 128, 76]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string '  [RUNTIME_STACK_271]' -> 44 Z-chars -> 30 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]  OPTION_B_FIX: Added string ID 272 to encoding system: '  [RUNTIME_STACK_271]'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8d at PC=0x023a operands=[LargeConstant(65535)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x023a gen_addr=0x023a opcode=0x8d operands=[LargeConstant(65535)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8d -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x023a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=570, byte=0x8d, code_address=0x023a, space_len=571
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x023a -> 0x023b (offset 570) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x023b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x023b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=571, byte=0xff, code_address=0x023b, space_len=572
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x023b -> 0x023c (offset 571) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x023c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=572, byte=0xff, code_address=0x023c, space_len=573
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x023c -> 0x023d (offset 572) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 273 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 273 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 274, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 274
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: BinaryOp { target: 275, op: Add, left: 265, right: 274 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: BinaryOp creates target IR ID 275
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] UNIFIED_BINARYOP_PROCESSING: target=275, op=Add, left=265, right=274
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 265
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 265 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 274
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 274 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Generating binary operation: Add with operands Variable(0), LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x14 at PC=0x023d operands=[Variable(0), LargeConstant(1)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x023d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x023d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x023d gen_addr=0x023d opcode=0x14 operands=[Variable(0), LargeConstant(1)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x14 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=573, byte=0x54, code_address=0x023d, space_len=574
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x023d -> 0x023e (offset 573) after emitting byte 0x54
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x023e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x023e -> 0x023f (offset 574) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x023f opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=575, byte=0x01, code_address=0x023f, space_len=576
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x023f -> 0x0240 (offset 575) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0240
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0240 -> 0x0241 (offset 576) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (arithmetic) - depth now: 38
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 275 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] BinaryOp (Add) result: IR ID 275 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: StoreVar { var_id: 260, source: 275 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 275
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 275 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x0d at PC=0x0241 operands=[SmallConstant(0), Variable(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[1] reads from stack at PC=0x0241
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0241 gen_addr=0x0241 opcode=0x0d operands=[SmallConstant(0), Variable(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x0d -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=577, byte=0x2d, code_address=0x0241, space_len=578
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0241 -> 0x0242 (offset 577) after emitting byte 0x2d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0242
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0242 -> 0x0243 (offset 578) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0243
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0243 -> 0x0244 (offset 579) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] StoreVar: IR ID 260 stored value from IR ID 275
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Jump { label: 262 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xc1 at PC=0x0244 operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0244 gen_addr=0x0244 opcode=0xc1 operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xc1 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xc1, store_var=None, branch_offset=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xc1, var_bit=0x00, instruction_byte=0xc1 at address 0x0244
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=580, byte=0xc1, code_address=0x0244, space_len=581
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0244 -> 0x0245 (offset 580) after emitting byte 0xc1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x0f at address 0x0245
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=581, byte=0x0f, code_address=0x0245, space_len=582
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0245 -> 0x0246 (offset 581) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0246
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0246
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0246 -> 0x0247 (offset 582) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0247 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=583, byte=0x01, code_address=0x0247, space_len=584
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0247 -> 0x0248 (offset 583) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0248
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0248
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0248 -> 0x0249 (offset 584) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0249 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=585, byte=0x01, code_address=0x0249, space_len=586
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0249 -> 0x024a (offset 585) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=0 at address=0x024a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=586, byte=0xc0, code_address=0x024a, space_len=587
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x024a -> 0x024b (offset 586) after emitting byte 0xc0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 264 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 264 -> address 0x024b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 252 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 252 -> address 0x024b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Function 'show_inventory' ends with return: false
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Adding implicit return to function 'show_inventory'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xb0 at PC=0x024b operands=[] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x024b gen_addr=0x024b opcode=0xb0 operands=[] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xb0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0xb0 (rtrue) at address 0x024b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=587, byte=0xb0, code_address=0x024b, space_len=588
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x024b -> 0x024c (offset 587) after emitting byte 0xb0
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]  Function 'show_inventory' complete: 92 bytes generated
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FINALIZE: Function 'show_inventory' used 0 local variables during generation
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] ❌ PATCH_ERROR: No header location found for function 7 ('show_inventory')
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  TRANSLATING: Function #7: 'handle_go' (74 instructions)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ALIGN: Function 'handle_go' before alignment at code_address=0x024c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ALIGN: Function 'handle_go' after alignment at code_address=0x024c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ADDRESS_FIX: Function 'handle_go' stored at relative address 0x024c (Phase 2)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record code offset: Recording IR ID 8 -> code_space_offset 0x024c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record code offset: This will be converted to absolute address during final assembly
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_UPDATED: 'handle_go' (ID 8) updated to actual address 0x024c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PARAMETER_SETUP: Function 'handle_go' has 1 parameters
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  Parameter mapping: 'direction' (IR ID 276) -> local variable slot 1 for function 'handle_go'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  GENERATING: Routine header for 'handle_go' with 2 locals
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_START: Reset local variable counter for function 'handle_go'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_LOCALS: 'handle_go' declared=2, using=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Generating V3 header: 2 declared locals for function 'handle_go'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=588, byte=0x02, code_address=0x024c, space_len=589
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x024c -> 0x024d (offset 588) after emitting byte 0x02
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0000 -> high_byte=0x00, low_byte=0x00 at code_address 0x024d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  NULL_WORD_SOURCE: emit_word(0x0000) called at code_address 0x024d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  This might be valid V3 default local values OR invalid placeholder operands
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x024d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x024d -> 0x024e (offset 589) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x024e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x024e -> 0x024f (offset 590) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitted default value for local 1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0000 -> high_byte=0x00, low_byte=0x00 at code_address 0x024f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  NULL_WORD_SOURCE: emit_word(0x0000) called at code_address 0x024f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  This might be valid V3 default local values OR invalid placeholder operands
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x024f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x024f -> 0x0250 (offset 591) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0250
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0250 -> 0x0251 (offset 592) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitted default value for local 2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 279, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 279
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 280, object: 279, property_num: 13 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 280
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 279
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 279 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 280 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x0251 operands=[LargeConstant(1), LargeConstant(13)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x0251
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0251 gen_addr=0x0251 opcode=0x11 operands=[LargeConstant(1), LargeConstant(13)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=593, byte=0x11, code_address=0x0251, space_len=594
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0251 -> 0x0252 (offset 593) after emitting byte 0x11
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0252 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=594, byte=0x01, code_address=0x0252, space_len=595
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0252 -> 0x0253 (offset 594) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=595, byte=0x0d, code_address=0x0253, space_len=596
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0253 -> 0x0254 (offset 595) after emitting byte 0x0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0254
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0254 -> 0x0255 (offset 596) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 39
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 280 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 281, object: 280, property_num: 22 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 281
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 280
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 280 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 281 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x0255 operands=[Variable(0), LargeConstant(22)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x0255
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x0255
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0255 gen_addr=0x0255 opcode=0x11 operands=[Variable(0), LargeConstant(22)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=597, byte=0x51, code_address=0x0255, space_len=598
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0255 -> 0x0256 (offset 597) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0256
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0256 -> 0x0257 (offset 598) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=599, byte=0x16, code_address=0x0257, space_len=600
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0257 -> 0x0258 (offset 599) after emitting byte 0x16
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0258
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0258 -> 0x0259 (offset 600) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 40
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 281 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: StoreVar { var_id: 278, source: 281 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 281
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 281 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x0d at PC=0x0259 operands=[SmallConstant(0), Variable(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[1] reads from stack at PC=0x0259
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0259 gen_addr=0x0259 opcode=0x0d operands=[SmallConstant(0), Variable(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x0d -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=601, byte=0x2d, code_address=0x0259, space_len=602
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0259 -> 0x025a (offset 601) after emitting byte 0x2d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x025a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x025a -> 0x025b (offset 602) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x025b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x025b -> 0x025c (offset 603) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] StoreVar: IR ID 278 stored value from IR ID 281
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: CreateArray { target: 282, size: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: CreateArray creates target IR ID 282
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Creating array with size Integer(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 282 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] CreateArray: IR ID 282 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x21 at PC=0x025c operands=[LargeConstant(1)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x025c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x025c gen_addr=0x025c opcode=0x21 operands=[LargeConstant(1)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x21 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=604, byte=0x81, code_address=0x025c, space_len=605
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x025c -> 0x025d (offset 604) after emitting byte 0x81
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x025d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x025d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x025d -> 0x025e (offset 605) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x025e opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=606, byte=0x01, code_address=0x025e, space_len=607
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x025e -> 0x025f (offset 606) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x025f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x025f -> 0x0260 (offset 607) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 283, object: 278, property_num: 23 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 283
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 278
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 278 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 283 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x0260 operands=[Variable(0), LargeConstant(23)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x0260
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x0260
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0260 gen_addr=0x0260 opcode=0x11 operands=[Variable(0), LargeConstant(23)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=608, byte=0x51, code_address=0x0260, space_len=609
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0260 -> 0x0261 (offset 608) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0261
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0261 -> 0x0262 (offset 609) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=610, byte=0x17, code_address=0x0262, space_len=611
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0262 -> 0x0263 (offset 610) after emitting byte 0x17
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0263
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0263 -> 0x0264 (offset 611) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 41
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 283 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Branch { condition: 283, true_label: 285, false_label: 286 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: condition_id=283, true=285, false=286 at code_addr=0x0264
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] CHECKING_BINARY_OP_MAPPING: condition=283, mapping exists=false
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Condition 283 is not a comparison - using jz branch approach
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 283
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 283 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xa0 at PC=0x0264 operands=[Variable(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x0264
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0264 gen_addr=0x0264 opcode=0xa0 operands=[Variable(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xa0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x0264 byte=0xa0 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=612, byte=0xa0, code_address=0x0264, space_len=613
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0264 -> 0x0265 (offset 612) after emitting byte 0xa0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0265
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0265 -> 0x0266 (offset 613) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x0266
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0266
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=614, byte=0xff, code_address=0x0266, space_len=615
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0266 -> 0x0267 (offset 614) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0267
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=615, byte=0xff, code_address=0x0267, space_len=616
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0267 -> 0x0268 (offset 615) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  JZ_BRANCH_REF_CREATE: code_space_offset=0x0266 target_id=286 (will convert to final address during assembly)
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen] 🔍 JZ_BRANCH_DEBUG: Created UnresolvedReference
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Code space offset: 0x0266
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Target ID: 286
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Final code base: 0x0000
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Estimated final location: 0x0266
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Added jz branch reference: code_space_offset=0x0266, target=286
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: Generated 4 bytes (0x0264 -> 0x0268)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 285 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 285 -> address 0x0268
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(284), function: 288, args: [278] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 284
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x21 at PC=0x0268 operands=[LargeConstant(0)] store=Some(28)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0268 gen_addr=0x0268 opcode=0x21 operands=[LargeConstant(0)] store_var=Some(28)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x21 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=616, byte=0x81, code_address=0x0268, space_len=617
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0268 -> 0x0269 (offset 616) after emitting byte 0x81
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0000 -> high_byte=0x00, low_byte=0x00 at code_address 0x0269
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  NULL_WORD_SOURCE: emit_word(0x0000) called at code_address 0x0269
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  This might be valid V3 default local values OR invalid placeholder operands
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0269
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0269 -> 0x026a (offset 617) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x026a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x026a -> 0x026b (offset 618) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=619, byte=0x1c, code_address=0x026b, space_len=620
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x026b -> 0x026c (offset 619) after emitting byte 0x1c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 284 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 284 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Jump { label: 287 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xc1 at PC=0x026c operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x026c gen_addr=0x026c opcode=0xc1 operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xc1 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xc1, store_var=None, branch_offset=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xc1, var_bit=0x00, instruction_byte=0xc1 at address 0x026c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=620, byte=0xc1, code_address=0x026c, space_len=621
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x026c -> 0x026d (offset 620) after emitting byte 0xc1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x0f at address 0x026d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=621, byte=0x0f, code_address=0x026d, space_len=622
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x026d -> 0x026e (offset 621) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x026e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x026e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x026e -> 0x026f (offset 622) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x026f opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=623, byte=0x01, code_address=0x026f, space_len=624
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x026f -> 0x0270 (offset 623) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0270
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0270
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0270 -> 0x0271 (offset 624) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0271 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=625, byte=0x01, code_address=0x0271, space_len=626
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0271 -> 0x0272 (offset 625) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=0 at address=0x0272
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=626, byte=0xc0, code_address=0x0272, space_len=627
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0272 -> 0x0273 (offset 626) after emitting byte 0xc0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 286 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 286 -> address 0x0273
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 284, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 284
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 287 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 287 -> address 0x0273
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Branch { condition: 284, true_label: 289, false_label: 290 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: condition_id=284, true=289, false=290 at code_addr=0x0273
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] CHECKING_BINARY_OP_MAPPING: condition=284, mapping exists=false
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Condition 284 is not a comparison - using jz branch approach
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 284
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 284 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xa0 at PC=0x0273 operands=[LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0273 gen_addr=0x0273 opcode=0xa0 operands=[LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xa0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=627, byte=0x80, code_address=0x0273, space_len=628
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0273 -> 0x0274 (offset 627) after emitting byte 0x80
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0274
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0274
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0274 -> 0x0275 (offset 628) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0275 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=629, byte=0x01, code_address=0x0275, space_len=630
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0275 -> 0x0276 (offset 629) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x0276
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0276
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=630, byte=0xff, code_address=0x0276, space_len=631
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0276 -> 0x0277 (offset 630) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0277
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=631, byte=0xff, code_address=0x0277, space_len=632
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0277 -> 0x0278 (offset 631) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  JZ_BRANCH_REF_CREATE: code_space_offset=0x0276 target_id=290 (will convert to final address during assembly)
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen] 🔍 JZ_BRANCH_DEBUG: Created UnresolvedReference
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Code space offset: 0x0276
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Target ID: 290
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Final code base: 0x0000
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Estimated final location: 0x0276
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Added jz branch reference: code_space_offset=0x0276, target=290
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: Generated 5 bytes (0x0273 -> 0x0278)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 289 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 289 -> address 0x0278
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 293, value: String("You can't go that way.") }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 293
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(294), function: 41, args: [293] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 294
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] generate_print_builtin: Looking up string for IR ID 293
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available string IDs = [110, 213, 231, 237, 272, 566, 257, 159, 175, 570, 214, 167, 190, 210, 147, 179, 254, 125, 572, 129, 148, 144, 564, 215, 293, 568, 562, 118, 100, 220, 146, 270, 198]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available integer IDs = [86, 184, 217, 69, 133, 243, 233, 560, 241, 561, 225, 261, 559, 558, 62, 66, 279, 284, 178, 266, 90, 79, 128, 274, 76]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]  OPTION_B_FIX: String ID 293 already in encoding system
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8d at PC=0x0278 operands=[LargeConstant(65535)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0278 gen_addr=0x0278 opcode=0x8d operands=[LargeConstant(65535)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8d -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x0278
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=632, byte=0x8d, code_address=0x0278, space_len=633
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0278 -> 0x0279 (offset 632) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x0279
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0279
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=633, byte=0xff, code_address=0x0279, space_len=634
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0279 -> 0x027a (offset 633) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x027a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=634, byte=0xff, code_address=0x027a, space_len=635
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x027a -> 0x027b (offset 634) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 294 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 294 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Return { value: None }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xb0 at PC=0x027b operands=[] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x027b gen_addr=0x027b opcode=0xb0 operands=[] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xb0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0xb0 (rtrue) at address 0x027b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=635, byte=0xb0, code_address=0x027b, space_len=636
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x027b -> 0x027c (offset 635) after emitting byte 0xb0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Jump { label: 291 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xc1 at PC=0x027c operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x027c gen_addr=0x027c opcode=0xc1 operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xc1 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xc1, store_var=None, branch_offset=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xc1, var_bit=0x00, instruction_byte=0xc1 at address 0x027c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=636, byte=0xc1, code_address=0x027c, space_len=637
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x027c -> 0x027d (offset 636) after emitting byte 0xc1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x0f at address 0x027d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=637, byte=0x0f, code_address=0x027d, space_len=638
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x027d -> 0x027e (offset 637) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x027e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x027e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x027e -> 0x027f (offset 638) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x027f opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=639, byte=0x01, code_address=0x027f, space_len=640
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x027f -> 0x0280 (offset 639) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0280
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0280
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0280 -> 0x0281 (offset 640) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0281 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=641, byte=0x01, code_address=0x0281, space_len=642
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0281 -> 0x0282 (offset 641) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=0 at address=0x0282
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=642, byte=0xc0, code_address=0x0282, space_len=643
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0282 -> 0x0283 (offset 642) after emitting byte 0xc0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 290 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 290 -> address 0x0283
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 291 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 291 -> address 0x0283
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 295, object: 278, property_num: 24 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 295
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 278
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 278 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 295 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x0283 operands=[Variable(0), LargeConstant(24)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x0283
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x0283
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0283 gen_addr=0x0283 opcode=0x11 operands=[Variable(0), LargeConstant(24)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=643, byte=0x51, code_address=0x0283, space_len=644
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0283 -> 0x0284 (offset 643) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0284
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0284 -> 0x0285 (offset 644) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=645, byte=0x18, code_address=0x0285, space_len=646
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0285 -> 0x0286 (offset 645) after emitting byte 0x18
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0286
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0286 -> 0x0287 (offset 646) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 42
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 295 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Branch { condition: 295, true_label: 296, false_label: 297 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: condition_id=295, true=296, false=297 at code_addr=0x0287
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] CHECKING_BINARY_OP_MAPPING: condition=295, mapping exists=false
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Condition 295 is not a comparison - using jz branch approach
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 295
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 295 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xa0 at PC=0x0287 operands=[Variable(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x0287
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0287 gen_addr=0x0287 opcode=0xa0 operands=[Variable(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xa0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x0287 byte=0xa0 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=647, byte=0xa0, code_address=0x0287, space_len=648
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0287 -> 0x0288 (offset 647) after emitting byte 0xa0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0288
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0288 -> 0x0289 (offset 648) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x0289
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0289
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=649, byte=0xff, code_address=0x0289, space_len=650
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0289 -> 0x028a (offset 649) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x028a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=650, byte=0xff, code_address=0x028a, space_len=651
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x028a -> 0x028b (offset 650) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  JZ_BRANCH_REF_CREATE: code_space_offset=0x0289 target_id=297 (will convert to final address during assembly)
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen] 🔍 JZ_BRANCH_DEBUG: Created UnresolvedReference
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Code space offset: 0x0289
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Target ID: 297
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Final code base: 0x0000
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Estimated final location: 0x0289
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Added jz branch reference: code_space_offset=0x0289, target=297
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: Generated 4 bytes (0x0287 -> 0x028b)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 296 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 296 -> address 0x028b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 300, object: 278, property_num: 25 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 300
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 278
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 278 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 300 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x028b operands=[Variable(0), LargeConstant(25)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x028b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x028b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x028b gen_addr=0x028b opcode=0x11 operands=[Variable(0), LargeConstant(25)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=651, byte=0x51, code_address=0x028b, space_len=652
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x028b -> 0x028c (offset 651) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x028c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x028c -> 0x028d (offset 652) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=653, byte=0x19, code_address=0x028d, space_len=654
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x028d -> 0x028e (offset 653) after emitting byte 0x19
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x028e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x028e -> 0x028f (offset 654) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 43
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 300 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(301), function: 41, args: [300] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 301
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] generate_print_builtin: Looking up string for IR ID 300
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available string IDs = [110, 213, 231, 237, 272, 566, 257, 159, 175, 570, 214, 167, 190, 210, 147, 179, 254, 125, 572, 129, 148, 144, 564, 215, 293, 568, 562, 118, 100, 220, 146, 270, 198]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available integer IDs = [86, 184, 217, 69, 133, 243, 233, 560, 241, 561, 225, 261, 559, 558, 62, 66, 279, 284, 178, 266, 90, 79, 128, 274, 76]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] IR ID 300 is not a string literal - generating runtime evaluation for print
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 300
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 300 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] IR ID 300 resolved to operand Variable(0) - generating print_num
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x06 at PC=0x028f operands=[Variable(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x028f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x028f gen_addr=0x028f opcode=0x06 operands=[Variable(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x06 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0x06, store_var=None, branch_offset=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0x06, var_bit=0x20, instruction_byte=0xe6 at address 0x028f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=655, byte=0xe6, code_address=0x028f, space_len=656
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x028f -> 0x0290 (offset 655) after emitting byte 0xe6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0xbf at address 0x0290
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=656, byte=0xbf, code_address=0x0290, space_len=657
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0290 -> 0x0291 (offset 656) after emitting byte 0xbf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0291
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0291 -> 0x0292 (offset 657) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 301 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 301 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Return { value: None }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xb0 at PC=0x0292 operands=[] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0292 gen_addr=0x0292 opcode=0xb0 operands=[] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xb0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0xb0 (rtrue) at address 0x0292
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=658, byte=0xb0, code_address=0x0292, space_len=659
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0292 -> 0x0293 (offset 658) after emitting byte 0xb0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Jump { label: 298 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xc1 at PC=0x0293 operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0293 gen_addr=0x0293 opcode=0xc1 operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xc1 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xc1, store_var=None, branch_offset=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xc1, var_bit=0x00, instruction_byte=0xc1 at address 0x0293
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=659, byte=0xc1, code_address=0x0293, space_len=660
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0293 -> 0x0294 (offset 659) after emitting byte 0xc1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x0f at address 0x0294
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=660, byte=0x0f, code_address=0x0294, space_len=661
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0294 -> 0x0295 (offset 660) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0295
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0295
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0295 -> 0x0296 (offset 661) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0296 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=662, byte=0x01, code_address=0x0296, space_len=663
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0296 -> 0x0297 (offset 662) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0297
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0297
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0297 -> 0x0298 (offset 663) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0298 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=664, byte=0x01, code_address=0x0298, space_len=665
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0298 -> 0x0299 (offset 664) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=0 at address=0x0299
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=665, byte=0xc0, code_address=0x0299, space_len=666
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0299 -> 0x029a (offset 665) after emitting byte 0xc0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 297 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 297 -> address 0x029a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 298 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 298 -> address 0x029a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 302, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 302
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 303, object: 302, property_num: 13 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 303
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 302
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 302 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 303 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x029a operands=[LargeConstant(1), LargeConstant(13)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x029a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x029a gen_addr=0x029a opcode=0x11 operands=[LargeConstant(1), LargeConstant(13)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=666, byte=0x11, code_address=0x029a, space_len=667
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x029a -> 0x029b (offset 666) after emitting byte 0x11
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x029b opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=667, byte=0x01, code_address=0x029b, space_len=668
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x029b -> 0x029c (offset 667) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=668, byte=0x0d, code_address=0x029c, space_len=669
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x029c -> 0x029d (offset 668) after emitting byte 0x0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x029d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x029d -> 0x029e (offset 669) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 44
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 303 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 304, object: 303, property_num: 26 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 304
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 303
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 303 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 304 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x029e operands=[Variable(0), LargeConstant(26)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x029e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x029e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x029e gen_addr=0x029e opcode=0x11 operands=[Variable(0), LargeConstant(26)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=670, byte=0x51, code_address=0x029e, space_len=671
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x029e -> 0x029f (offset 670) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x029f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x029f -> 0x02a0 (offset 671) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=672, byte=0x1a, code_address=0x02a0, space_len=673
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02a0 -> 0x02a1 (offset 672) after emitting byte 0x1a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x02a1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02a1 -> 0x02a2 (offset 673) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 45
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 304 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Branch { condition: 304, true_label: 305, false_label: 306 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: condition_id=304, true=305, false=306 at code_addr=0x02a2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] CHECKING_BINARY_OP_MAPPING: condition=304, mapping exists=false
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Condition 304 is not a comparison - using jz branch approach
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 304
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 304 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xa0 at PC=0x02a2 operands=[Variable(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x02a2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x02a2 gen_addr=0x02a2 opcode=0xa0 operands=[Variable(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xa0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x02a2 byte=0xa0 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=674, byte=0xa0, code_address=0x02a2, space_len=675
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02a2 -> 0x02a3 (offset 674) after emitting byte 0xa0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x02a3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02a3 -> 0x02a4 (offset 675) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x02a4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x02a4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=676, byte=0xff, code_address=0x02a4, space_len=677
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02a4 -> 0x02a5 (offset 676) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x02a5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=677, byte=0xff, code_address=0x02a5, space_len=678
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02a5 -> 0x02a6 (offset 677) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  JZ_BRANCH_REF_CREATE: code_space_offset=0x02a4 target_id=306 (will convert to final address during assembly)
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen] 🔍 JZ_BRANCH_DEBUG: Created UnresolvedReference
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Code space offset: 0x02a4
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Target ID: 306
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Final code base: 0x0000
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Estimated final location: 0x02a4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Added jz branch reference: code_space_offset=0x02a4, target=306
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: Generated 4 bytes (0x02a2 -> 0x02a6)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 305 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 305 -> address 0x02a6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 309, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 309
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 310, object: 309, property_num: 13 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 310
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 309
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 309 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 310 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x02a6 operands=[LargeConstant(1), LargeConstant(13)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x02a6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x02a6 gen_addr=0x02a6 opcode=0x11 operands=[LargeConstant(1), LargeConstant(13)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=678, byte=0x11, code_address=0x02a6, space_len=679
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02a6 -> 0x02a7 (offset 678) after emitting byte 0x11
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x02a7 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=679, byte=0x01, code_address=0x02a7, space_len=680
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02a7 -> 0x02a8 (offset 679) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=680, byte=0x0d, code_address=0x02a8, space_len=681
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02a8 -> 0x02a9 (offset 680) after emitting byte 0x0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x02a9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02a9 -> 0x02aa (offset 681) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 46
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 310 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 311, object: 310, property_num: 26 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 311
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 310
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 310 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 311 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x02aa operands=[Variable(0), LargeConstant(26)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x02aa
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x02aa
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x02aa gen_addr=0x02aa opcode=0x11 operands=[Variable(0), LargeConstant(26)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=682, byte=0x51, code_address=0x02aa, space_len=683
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02aa -> 0x02ab (offset 682) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x02ab
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02ab -> 0x02ac (offset 683) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=684, byte=0x1a, code_address=0x02ac, space_len=685
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02ac -> 0x02ad (offset 684) after emitting byte 0x1a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x02ad
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02ad -> 0x02ae (offset 685) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 47
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 311 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Branch { condition: 311, true_label: 313, false_label: 314 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: condition_id=311, true=313, false=314 at code_addr=0x02ae
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] CHECKING_BINARY_OP_MAPPING: condition=311, mapping exists=false
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Condition 311 is not a comparison - using jz branch approach
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 311
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 311 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xa0 at PC=0x02ae operands=[Variable(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x02ae
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x02ae gen_addr=0x02ae opcode=0xa0 operands=[Variable(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xa0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x02ae byte=0xa0 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=686, byte=0xa0, code_address=0x02ae, space_len=687
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02ae -> 0x02af (offset 686) after emitting byte 0xa0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x02af
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02af -> 0x02b0 (offset 687) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x02b0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x02b0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=688, byte=0xff, code_address=0x02b0, space_len=689
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02b0 -> 0x02b1 (offset 688) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x02b1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=689, byte=0xff, code_address=0x02b1, space_len=690
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02b1 -> 0x02b2 (offset 689) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  JZ_BRANCH_REF_CREATE: code_space_offset=0x02b0 target_id=314 (will convert to final address during assembly)
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen] 🔍 JZ_BRANCH_DEBUG: Created UnresolvedReference
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Code space offset: 0x02b0
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Target ID: 314
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Final code base: 0x0000
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Estimated final location: 0x02b0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Added jz branch reference: code_space_offset=0x02b0, target=314
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: Generated 4 bytes (0x02ae -> 0x02b2)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 313 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 313 -> address 0x02b2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 312, object: 310, property_num: 26 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 312
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 310
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 310 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 312 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x02b2 operands=[Variable(0), LargeConstant(26)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x02b2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x02b2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x02b2 gen_addr=0x02b2 opcode=0x11 operands=[Variable(0), LargeConstant(26)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=690, byte=0x51, code_address=0x02b2, space_len=691
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02b2 -> 0x02b3 (offset 690) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x02b3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02b3 -> 0x02b4 (offset 691) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=692, byte=0x1a, code_address=0x02b4, space_len=693
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02b4 -> 0x02b5 (offset 692) after emitting byte 0x1a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x02b5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02b5 -> 0x02b6 (offset 693) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 48
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 312 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Jump { label: 315 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xc1 at PC=0x02b6 operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x02b6 gen_addr=0x02b6 opcode=0xc1 operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xc1 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xc1, store_var=None, branch_offset=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xc1, var_bit=0x00, instruction_byte=0xc1 at address 0x02b6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=694, byte=0xc1, code_address=0x02b6, space_len=695
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02b6 -> 0x02b7 (offset 694) after emitting byte 0xc1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x0f at address 0x02b7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=695, byte=0x0f, code_address=0x02b7, space_len=696
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02b7 -> 0x02b8 (offset 695) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x02b8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x02b8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02b8 -> 0x02b9 (offset 696) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x02b9 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=697, byte=0x01, code_address=0x02b9, space_len=698
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02b9 -> 0x02ba (offset 697) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x02ba
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x02ba
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02ba -> 0x02bb (offset 698) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x02bb opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=699, byte=0x01, code_address=0x02bb, space_len=700
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02bb -> 0x02bc (offset 699) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=0 at address=0x02bc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=700, byte=0xc0, code_address=0x02bc, space_len=701
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02bc -> 0x02bd (offset 700) after emitting byte 0xc0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 314 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 314 -> address 0x02bd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 312, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 312
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 315 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 315 -> address 0x02bd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Jump { label: 307 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xc1 at PC=0x02bd operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x02bd gen_addr=0x02bd opcode=0xc1 operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xc1 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xc1, store_var=None, branch_offset=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xc1, var_bit=0x00, instruction_byte=0xc1 at address 0x02bd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=701, byte=0xc1, code_address=0x02bd, space_len=702
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02bd -> 0x02be (offset 701) after emitting byte 0xc1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x0f at address 0x02be
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=702, byte=0x0f, code_address=0x02be, space_len=703
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02be -> 0x02bf (offset 702) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x02bf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x02bf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02bf -> 0x02c0 (offset 703) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x02c0 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=704, byte=0x01, code_address=0x02c0, space_len=705
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02c0 -> 0x02c1 (offset 704) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x02c1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x02c1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02c1 -> 0x02c2 (offset 705) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x02c2 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=706, byte=0x01, code_address=0x02c2, space_len=707
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02c2 -> 0x02c3 (offset 706) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=0 at address=0x02c3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=707, byte=0xc0, code_address=0x02c3, space_len=708
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02c3 -> 0x02c4 (offset 707) after emitting byte 0xc0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 306 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 306 -> address 0x02c4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 307 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 307 -> address 0x02c4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 316, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 316
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 317, object: 278, property_num: 27 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 317
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 278
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 278 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 317 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x02c4 operands=[Variable(0), LargeConstant(27)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x02c4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x02c4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x02c4 gen_addr=0x02c4 opcode=0x11 operands=[Variable(0), LargeConstant(27)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=708, byte=0x51, code_address=0x02c4, space_len=709
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02c4 -> 0x02c5 (offset 708) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x02c5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02c5 -> 0x02c6 (offset 709) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=710, byte=0x1b, code_address=0x02c6, space_len=711
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02c6 -> 0x02c7 (offset 710) after emitting byte 0x1b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x02c7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02c7 -> 0x02c8 (offset 711) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 49
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 317 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(318), function: 319, args: [316, 317] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 318
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 316
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 316 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 317
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 317 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] generate_move_builtin: object IR 316 -> LargeConstant(1), destination IR 317 -> Variable(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] move builtin: using safe constant object 1
[2025-09-12T15:05:07Z WARN  gruesome::grue_compiler::codegen_builtins] move builtin: destination operand is variable 0 which could contain 0 at runtime, using player object (1) instead
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x0e at PC=0x02c8 operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] insert_obj with operand LargeConstant(1) - appears safe
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x02c8 gen_addr=0x02c8 opcode=0x0e operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x0e -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=712, byte=0x0e, code_address=0x02c8, space_len=713
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02c8 -> 0x02c9 (offset 712) after emitting byte 0x0e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x02c9 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=713, byte=0x01, code_address=0x02c9, space_len=714
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02c9 -> 0x02ca (offset 713) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x02ca opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=714, byte=0x01, code_address=0x02ca, space_len=715
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02ca -> 0x02cb (offset 714) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] move builtin: generated insert_obj with safe operands
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 318 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 318 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 320, value: Boolean(true) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 320
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 321, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 321
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 322, object: 321, property_num: 13 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 322
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 321
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 321 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 322 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x02cb operands=[LargeConstant(1), LargeConstant(13)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x02cb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x02cb gen_addr=0x02cb opcode=0x11 operands=[LargeConstant(1), LargeConstant(13)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=715, byte=0x11, code_address=0x02cb, space_len=716
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02cb -> 0x02cc (offset 715) after emitting byte 0x11
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x02cc opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=716, byte=0x01, code_address=0x02cc, space_len=717
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02cc -> 0x02cd (offset 716) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=717, byte=0x0d, code_address=0x02cd, space_len=718
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02cd -> 0x02ce (offset 717) after emitting byte 0x0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x02ce
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02ce -> 0x02cf (offset 718) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 50
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 322 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: SetPropertyByNumber { object: 322, property_num: 14, value: 320 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 322
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 322 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 320
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 320 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x03 at PC=0x02cf operands=[Variable(0), Constant(14), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x02cf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x02cf gen_addr=0x02cf opcode=0x03 operands=[Variable(0), Constant(14), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x03 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0x03, store_var=None, branch_offset=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0x03, var_bit=0x20, instruction_byte=0xe3 at address 0x02cf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=719, byte=0xe3, code_address=0x02cf, space_len=720
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02cf -> 0x02d0 (offset 719) after emitting byte 0xe3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x93 at address 0x02d0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=720, byte=0x93, code_address=0x02d0, space_len=721
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02d0 -> 0x02d1 (offset 720) after emitting byte 0x93
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x02d1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02d1 -> 0x02d2 (offset 721) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=722, byte=0x0e, code_address=0x02d2, space_len=723
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02d2 -> 0x02d3 (offset 722) after emitting byte 0x0e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x02d3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x02d3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02d3 -> 0x02d4 (offset 723) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x02d4 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=724, byte=0x01, code_address=0x02d4, space_len=725
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02d4 -> 0x02d5 (offset 724) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generated put_prop for property number 14 with resolved object
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 323, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 323
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 324, object: 323, property_num: 13 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 324
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 323
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 323 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 324 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x02d5 operands=[LargeConstant(1), LargeConstant(13)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x02d5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x02d5 gen_addr=0x02d5 opcode=0x11 operands=[LargeConstant(1), LargeConstant(13)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=725, byte=0x11, code_address=0x02d5, space_len=726
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02d5 -> 0x02d6 (offset 725) after emitting byte 0x11
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x02d6 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=726, byte=0x01, code_address=0x02d6, space_len=727
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02d6 -> 0x02d7 (offset 726) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=727, byte=0x0d, code_address=0x02d7, space_len=728
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02d7 -> 0x02d8 (offset 727) after emitting byte 0x0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x02d8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02d8 -> 0x02d9 (offset 728) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 324 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 325, object: 324, property_num: 28 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 325
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 324
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 324 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 325 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x02d9 operands=[Variable(0), LargeConstant(28)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x02d9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x02d9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x02d9 gen_addr=0x02d9 opcode=0x11 operands=[Variable(0), LargeConstant(28)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=729, byte=0x51, code_address=0x02d9, space_len=730
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02d9 -> 0x02da (offset 729) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x02da
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02da -> 0x02db (offset 730) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=731, byte=0x1c, code_address=0x02db, space_len=732
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02db -> 0x02dc (offset 731) after emitting byte 0x1c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x02dc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02dc -> 0x02dd (offset 732) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 52
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 325 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Branch { condition: 325, true_label: 326, false_label: 327 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: condition_id=325, true=326, false=327 at code_addr=0x02dd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] CHECKING_BINARY_OP_MAPPING: condition=325, mapping exists=false
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Condition 325 is not a comparison - using jz branch approach
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 325
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 325 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xa0 at PC=0x02dd operands=[Variable(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x02dd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x02dd gen_addr=0x02dd opcode=0xa0 operands=[Variable(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xa0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x02dd byte=0xa0 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=733, byte=0xa0, code_address=0x02dd, space_len=734
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02dd -> 0x02de (offset 733) after emitting byte 0xa0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x02de
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02de -> 0x02df (offset 734) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x02df
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x02df
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=735, byte=0xff, code_address=0x02df, space_len=736
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02df -> 0x02e0 (offset 735) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x02e0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=736, byte=0xff, code_address=0x02e0, space_len=737
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02e0 -> 0x02e1 (offset 736) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  JZ_BRANCH_REF_CREATE: code_space_offset=0x02df target_id=327 (will convert to final address during assembly)
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen] 🔍 JZ_BRANCH_DEBUG: Created UnresolvedReference
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Code space offset: 0x02df
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Target ID: 327
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Final code base: 0x0000
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Estimated final location: 0x02df
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Added jz branch reference: code_space_offset=0x02df, target=327
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: Generated 4 bytes (0x02dd -> 0x02e1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 326 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 326 -> address 0x02e1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 330, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 330
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 331, object: 330, property_num: 13 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 331
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 330
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 330 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 331 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x02e1 operands=[LargeConstant(1), LargeConstant(13)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x02e1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x02e1 gen_addr=0x02e1 opcode=0x11 operands=[LargeConstant(1), LargeConstant(13)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=737, byte=0x11, code_address=0x02e1, space_len=738
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02e1 -> 0x02e2 (offset 737) after emitting byte 0x11
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x02e2 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=738, byte=0x01, code_address=0x02e2, space_len=739
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02e2 -> 0x02e3 (offset 738) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=739, byte=0x0d, code_address=0x02e3, space_len=740
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02e3 -> 0x02e4 (offset 739) after emitting byte 0x0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x02e4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02e4 -> 0x02e5 (offset 740) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 53
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 331 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 332, object: 331, property_num: 28 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 332
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 331
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 331 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 332 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x02e5 operands=[Variable(0), LargeConstant(28)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x02e5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x02e5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x02e5 gen_addr=0x02e5 opcode=0x11 operands=[Variable(0), LargeConstant(28)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=741, byte=0x51, code_address=0x02e5, space_len=742
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02e5 -> 0x02e6 (offset 741) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x02e6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02e6 -> 0x02e7 (offset 742) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=743, byte=0x1c, code_address=0x02e7, space_len=744
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02e7 -> 0x02e8 (offset 743) after emitting byte 0x1c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x02e8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02e8 -> 0x02e9 (offset 744) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 54
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 332 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Branch { condition: 332, true_label: 334, false_label: 335 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: condition_id=332, true=334, false=335 at code_addr=0x02e9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] CHECKING_BINARY_OP_MAPPING: condition=332, mapping exists=false
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Condition 332 is not a comparison - using jz branch approach
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 332
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 332 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xa0 at PC=0x02e9 operands=[Variable(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x02e9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x02e9 gen_addr=0x02e9 opcode=0xa0 operands=[Variable(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xa0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x02e9 byte=0xa0 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=745, byte=0xa0, code_address=0x02e9, space_len=746
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02e9 -> 0x02ea (offset 745) after emitting byte 0xa0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x02ea
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02ea -> 0x02eb (offset 746) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x02eb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x02eb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=747, byte=0xff, code_address=0x02eb, space_len=748
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02eb -> 0x02ec (offset 747) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x02ec
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=748, byte=0xff, code_address=0x02ec, space_len=749
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02ec -> 0x02ed (offset 748) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  JZ_BRANCH_REF_CREATE: code_space_offset=0x02eb target_id=335 (will convert to final address during assembly)
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen] 🔍 JZ_BRANCH_DEBUG: Created UnresolvedReference
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Code space offset: 0x02eb
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Target ID: 335
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Final code base: 0x0000
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Estimated final location: 0x02eb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Added jz branch reference: code_space_offset=0x02eb, target=335
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: Generated 4 bytes (0x02e9 -> 0x02ed)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 334 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 334 -> address 0x02ed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 333, object: 331, property_num: 28 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 333
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 331
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 331 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 333 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x02ed operands=[Variable(0), LargeConstant(28)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x02ed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x02ed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x02ed gen_addr=0x02ed opcode=0x11 operands=[Variable(0), LargeConstant(28)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=749, byte=0x51, code_address=0x02ed, space_len=750
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02ed -> 0x02ee (offset 749) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x02ee
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02ee -> 0x02ef (offset 750) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=751, byte=0x1c, code_address=0x02ef, space_len=752
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02ef -> 0x02f0 (offset 751) after emitting byte 0x1c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x02f0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02f0 -> 0x02f1 (offset 752) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 55
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 333 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Jump { label: 336 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xc1 at PC=0x02f1 operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x02f1 gen_addr=0x02f1 opcode=0xc1 operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xc1 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xc1, store_var=None, branch_offset=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xc1, var_bit=0x00, instruction_byte=0xc1 at address 0x02f1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=753, byte=0xc1, code_address=0x02f1, space_len=754
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02f1 -> 0x02f2 (offset 753) after emitting byte 0xc1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x0f at address 0x02f2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=754, byte=0x0f, code_address=0x02f2, space_len=755
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02f2 -> 0x02f3 (offset 754) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x02f3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x02f3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02f3 -> 0x02f4 (offset 755) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x02f4 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=756, byte=0x01, code_address=0x02f4, space_len=757
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02f4 -> 0x02f5 (offset 756) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x02f5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x02f5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02f5 -> 0x02f6 (offset 757) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x02f6 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=758, byte=0x01, code_address=0x02f6, space_len=759
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02f6 -> 0x02f7 (offset 758) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=0 at address=0x02f7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=759, byte=0xc0, code_address=0x02f7, space_len=760
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02f7 -> 0x02f8 (offset 759) after emitting byte 0xc0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 335 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 335 -> address 0x02f8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 333, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 333
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 336 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 336 -> address 0x02f8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Jump { label: 328 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xc1 at PC=0x02f8 operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x02f8 gen_addr=0x02f8 opcode=0xc1 operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xc1 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xc1, store_var=None, branch_offset=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xc1, var_bit=0x00, instruction_byte=0xc1 at address 0x02f8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=760, byte=0xc1, code_address=0x02f8, space_len=761
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02f8 -> 0x02f9 (offset 760) after emitting byte 0xc1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x0f at address 0x02f9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=761, byte=0x0f, code_address=0x02f9, space_len=762
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02f9 -> 0x02fa (offset 761) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x02fa
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x02fa
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02fa -> 0x02fb (offset 762) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x02fb opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=763, byte=0x01, code_address=0x02fb, space_len=764
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02fb -> 0x02fc (offset 763) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x02fc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x02fc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02fc -> 0x02fd (offset 764) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x02fd opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=765, byte=0x01, code_address=0x02fd, space_len=766
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02fd -> 0x02fe (offset 765) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=0 at address=0x02fe
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=766, byte=0xc0, code_address=0x02fe, space_len=767
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02fe -> 0x02ff (offset 766) after emitting byte 0xc0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 327 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 327 -> address 0x02ff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 328 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 328 -> address 0x02ff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(337), function: 1, args: [] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 337
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xe0 at PC=0x02ff operands=[LargeConstant(65535)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x02ff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x02ff gen_addr=0x02ff opcode=0xe0 operands=[LargeConstant(65535)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xe0 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xe0, store_var=Some(0), branch_offset=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xe0, var_bit=0x20, instruction_byte=0xe0 at address 0x02ff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0xe0 (call_vs) at address 0x02ff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=767, byte=0xe0, code_address=0x02ff, space_len=768
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x02ff -> 0x0300 (offset 767) after emitting byte 0xe0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x3f at address 0x0300
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=768, byte=0x3f, code_address=0x0300, space_len=769
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0300 -> 0x0301 (offset 768) after emitting byte 0x3f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x0301
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0301
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=769, byte=0xff, code_address=0x0301, space_len=770
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0301 -> 0x0302 (offset 769) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0302
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=770, byte=0xff, code_address=0x0302, space_len=771
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0302 -> 0x0303 (offset 770) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0303
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0303 -> 0x0304 (offset 771) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack after function call - depth now: 55
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generated call to function ID 1 with unresolved reference at 0x0301
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 337 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 337 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Function 'handle_go' ends with return: false
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Adding implicit return to function 'handle_go'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xb0 at PC=0x0304 operands=[] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0304 gen_addr=0x0304 opcode=0xb0 operands=[] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xb0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0xb0 (rtrue) at address 0x0304
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=772, byte=0xb0, code_address=0x0304, space_len=773
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0304 -> 0x0305 (offset 772) after emitting byte 0xb0
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]  Function 'handle_go' complete: 185 bytes generated
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FINALIZE: Function 'handle_go' used 0 local variables during generation
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] ❌ PATCH_ERROR: No header location found for function 8 ('handle_go')
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  TRANSLATING: Function #8: 'handle_climb' (16 instructions)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ALIGN: Function 'handle_climb' before alignment at code_address=0x0305
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ALIGN: Adding padding byte for even alignment
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0305
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0305 -> 0x0306 (offset 773) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ALIGN: Function 'handle_climb' after alignment at code_address=0x0306
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ADDRESS_FIX: Function 'handle_climb' stored at relative address 0x0306 (Phase 2)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record code offset: Recording IR ID 9 -> code_space_offset 0x0306
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record code offset: This will be converted to absolute address during final assembly
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_UPDATED: 'handle_climb' (ID 9) updated to actual address 0x0306
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PARAMETER_SETUP: Function 'handle_climb' has 1 parameters
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  Parameter mapping: 'obj' (IR ID 338) -> local variable slot 1 for function 'handle_climb'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  GENERATING: Routine header for 'handle_climb' with 1 locals
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_START: Reset local variable counter for function 'handle_climb'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_LOCALS: 'handle_climb' declared=1, using=1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Generating V3 header: 1 declared locals for function 'handle_climb'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0306 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=774, byte=0x01, code_address=0x0306, space_len=775
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0306 -> 0x0307 (offset 774) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0000 -> high_byte=0x00, low_byte=0x00 at code_address 0x0307
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  NULL_WORD_SOURCE: emit_word(0x0000) called at code_address 0x0307
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  This might be valid V3 default local values OR invalid placeholder operands
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0307
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0307 -> 0x0308 (offset 775) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0308
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0308 -> 0x0309 (offset 776) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitted default value for local 1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 340, value: Integer(10) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 340
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: BinaryOp { target: 341, op: Equal, left: 338, right: 340 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: BinaryOp creates target IR ID 341
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] UNIFIED_BINARYOP_PROCESSING: target=341, op=Equal, left=338, right=340
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 341 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Comparison BinaryOp registered: IR ID 341 -> stack, bytecode deferred to branch generation
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ZERO BYTES: IR instruction generated no bytecode: BinaryOp { target: 341, op: Equal, left: 338, right: 340 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 342, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 342
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 343, object: 342, property_num: 13 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 343
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 342
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 342 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 343 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x0309 operands=[LargeConstant(1), LargeConstant(13)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x0309
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0309 gen_addr=0x0309 opcode=0x11 operands=[LargeConstant(1), LargeConstant(13)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=777, byte=0x11, code_address=0x0309, space_len=778
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0309 -> 0x030a (offset 777) after emitting byte 0x11
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x030a opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=778, byte=0x01, code_address=0x030a, space_len=779
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x030a -> 0x030b (offset 778) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=779, byte=0x0d, code_address=0x030b, space_len=780
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x030b -> 0x030c (offset 779) after emitting byte 0x0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x030c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x030c -> 0x030d (offset 780) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 56
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 343 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 344, value: Integer(9) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 344
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: BinaryOp { target: 345, op: Equal, left: 343, right: 344 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: BinaryOp creates target IR ID 345
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] UNIFIED_BINARYOP_PROCESSING: target=345, op=Equal, left=343, right=344
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 345 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Comparison BinaryOp registered: IR ID 345 -> stack, bytecode deferred to branch generation
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ZERO BYTES: IR instruction generated no bytecode: BinaryOp { target: 345, op: Equal, left: 343, right: 344 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: BinaryOp { target: 346, op: And, left: 341, right: 345 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: BinaryOp creates target IR ID 346
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] UNIFIED_BINARYOP_PROCESSING: target=346, op=And, left=341, right=345
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 341
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 341 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 345
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 345 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Generating binary operation: And with operands Variable(0), Variable(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x09 at PC=0x030d operands=[Variable(0), Variable(0)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x030d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[1] reads from stack at PC=0x030d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x030d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x030d gen_addr=0x030d opcode=0x09 operands=[Variable(0), Variable(0)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x09 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=781, byte=0x69, code_address=0x030d, space_len=782
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x030d -> 0x030e (offset 781) after emitting byte 0x69
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x030e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x030e -> 0x030f (offset 782) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x030f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x030f -> 0x0310 (offset 783) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0310
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0310 -> 0x0311 (offset 784) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (generic) - depth now: 57
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 346 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] BinaryOp (And) result: IR ID 346 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Branch { condition: 346, true_label: 347, false_label: 348 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: condition_id=346, true=347, false=348 at code_addr=0x0311
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] CHECKING_BINARY_OP_MAPPING: condition=346, mapping exists=true
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] DIRECT_COMPARISON_BRANCH: Detected BinaryOp And - generating direct Z-Machine branch instruction
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 341
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 341 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 345
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 345 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Translation failed for instruction Branch { condition: 346, true_label: 347, false_label: 348 }: Code generation error: Unsupported comparison operation in direct branch: And
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 347 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 347 -> address 0x0311
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 351, value: String("up") }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 351
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(352), function: 8, args: [351] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 352
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 351
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Translation failed for instruction Call { target: Some(352), function: 8, args: [351] }: Code generation error: Cannot use string literal (IR ID 351) as operand in binary operation
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Jump { label: 349 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xc1 at PC=0x0311 operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0311 gen_addr=0x0311 opcode=0xc1 operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xc1 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xc1, store_var=None, branch_offset=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xc1, var_bit=0x00, instruction_byte=0xc1 at address 0x0311
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=785, byte=0xc1, code_address=0x0311, space_len=786
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0311 -> 0x0312 (offset 785) after emitting byte 0xc1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x0f at address 0x0312
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=786, byte=0x0f, code_address=0x0312, space_len=787
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0312 -> 0x0313 (offset 786) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0313
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0313
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0313 -> 0x0314 (offset 787) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0314 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=788, byte=0x01, code_address=0x0314, space_len=789
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0314 -> 0x0315 (offset 788) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0315
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0315
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0315 -> 0x0316 (offset 789) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0316 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=790, byte=0x01, code_address=0x0316, space_len=791
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0316 -> 0x0317 (offset 790) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=0 at address=0x0317
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=791, byte=0xc0, code_address=0x0317, space_len=792
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0317 -> 0x0318 (offset 791) after emitting byte 0xc0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 348 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 348 -> address 0x0318
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 354, value: String("You can't climb that.") }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 354
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(355), function: 41, args: [354] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 355
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] generate_print_builtin: Looking up string for IR ID 354
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available string IDs = [110, 213, 231, 237, 272, 351, 566, 257, 159, 175, 570, 214, 167, 354, 190, 210, 147, 179, 254, 125, 572, 129, 148, 144, 564, 215, 293, 568, 562, 118, 100, 220, 146, 270, 198]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available integer IDs = [76, 330, 340, 69, 344, 561, 261, 284, 279, 62, 342, 320, 178, 316, 309, 217, 86, 133, 243, 312, 233, 321, 560, 302, 333, 241, 225, 559, 558, 66, 266, 274, 90, 79, 128, 323, 184]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]  OPTION_B_FIX: String ID 354 already in encoding system
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8d at PC=0x0318 operands=[LargeConstant(65535)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0318 gen_addr=0x0318 opcode=0x8d operands=[LargeConstant(65535)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8d -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x0318
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=792, byte=0x8d, code_address=0x0318, space_len=793
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0318 -> 0x0319 (offset 792) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x0319
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0319
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=793, byte=0xff, code_address=0x0319, space_len=794
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0319 -> 0x031a (offset 793) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x031a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=794, byte=0xff, code_address=0x031a, space_len=795
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x031a -> 0x031b (offset 794) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 355 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 355 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 349 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 349 -> address 0x031b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Function 'handle_climb' ends with return: false
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Adding implicit return to function 'handle_climb'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xb0 at PC=0x031b operands=[] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x031b gen_addr=0x031b opcode=0xb0 operands=[] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xb0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0xb0 (rtrue) at address 0x031b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=795, byte=0xb0, code_address=0x031b, space_len=796
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x031b -> 0x031c (offset 795) after emitting byte 0xb0
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]  Function 'handle_climb' complete: 23 bytes generated
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FINALIZE: Function 'handle_climb' used 0 local variables during generation
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] ❌ PATCH_ERROR: No header location found for function 9 ('handle_climb')
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  TRANSLATING: Function #9: 'handle_read' (22 instructions)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ALIGN: Function 'handle_read' before alignment at code_address=0x031c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ALIGN: Function 'handle_read' after alignment at code_address=0x031c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ADDRESS_FIX: Function 'handle_read' stored at relative address 0x031c (Phase 2)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record code offset: Recording IR ID 10 -> code_space_offset 0x031c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record code offset: This will be converted to absolute address during final assembly
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_UPDATED: 'handle_read' (ID 10) updated to actual address 0x031c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PARAMETER_SETUP: Function 'handle_read' has 1 parameters
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  Parameter mapping: 'obj' (IR ID 356) -> local variable slot 1 for function 'handle_read'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  GENERATING: Routine header for 'handle_read' with 1 locals
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_START: Reset local variable counter for function 'handle_read'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_LOCALS: 'handle_read' declared=1, using=1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Generating V3 header: 1 declared locals for function 'handle_read'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x031c opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=796, byte=0x01, code_address=0x031c, space_len=797
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x031c -> 0x031d (offset 796) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0000 -> high_byte=0x00, low_byte=0x00 at code_address 0x031d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  NULL_WORD_SOURCE: emit_word(0x0000) called at code_address 0x031d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  This might be valid V3 default local values OR invalid placeholder operands
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x031d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x031d -> 0x031e (offset 797) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x031e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x031e -> 0x031f (offset 798) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitted default value for local 1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(358), function: 11, args: [356] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 358
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 356
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 356 resolved to Variable(1) [Local parameter]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xe0 at PC=0x031f operands=[LargeConstant(65535), Variable(1)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x031f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x031f gen_addr=0x031f opcode=0xe0 operands=[LargeConstant(65535), Variable(1)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xe0 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xe0, store_var=Some(0), branch_offset=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xe0, var_bit=0x20, instruction_byte=0xe0 at address 0x031f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0xe0 (call_vs) at address 0x031f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=799, byte=0xe0, code_address=0x031f, space_len=800
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x031f -> 0x0320 (offset 799) after emitting byte 0xe0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x2f at address 0x0320
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=800, byte=0x2f, code_address=0x0320, space_len=801
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0320 -> 0x0321 (offset 800) after emitting byte 0x2f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x0321
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0321
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=801, byte=0xff, code_address=0x0321, space_len=802
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0321 -> 0x0322 (offset 801) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0322
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=802, byte=0xff, code_address=0x0322, space_len=803
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0322 -> 0x0323 (offset 802) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(1) -> Z-Machine variable 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0323 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=803, byte=0x01, code_address=0x0323, space_len=804
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0323 -> 0x0324 (offset 803) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0324
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0324 -> 0x0325 (offset 804) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack after function call - depth now: 56
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generated call to function ID 11 with unresolved reference at 0x0321
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 358 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 358 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: UnaryOp { target: 359, op: Not, operand: 358 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: UnaryOp creates target IR ID 359
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 358
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 358 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8f at PC=0x0325 operands=[Variable(0)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x0325
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x0325
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0325 gen_addr=0x0325 opcode=0x8f operands=[Variable(0)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8f -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0x8f, store_var=Some(0), branch_offset=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0x8f, var_bit=0x00, instruction_byte=0xcf at address 0x0325
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=805, byte=0xcf, code_address=0x0325, space_len=806
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0325 -> 0x0326 (offset 805) after emitting byte 0xcf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0xbf at address 0x0326
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=806, byte=0xbf, code_address=0x0326, space_len=807
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0326 -> 0x0327 (offset 806) after emitting byte 0xbf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0327
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0327 -> 0x0328 (offset 807) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0328
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0328 -> 0x0329 (offset 808) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (generic) - depth now: 57
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 359 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Branch { condition: 359, true_label: 360, false_label: 361 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: condition_id=359, true=360, false=361 at code_addr=0x0329
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] CHECKING_BINARY_OP_MAPPING: condition=359, mapping exists=false
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Condition 359 is not a comparison - using jz branch approach
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 359
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 359 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xa0 at PC=0x0329 operands=[Variable(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x0329
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0329 gen_addr=0x0329 opcode=0xa0 operands=[Variable(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xa0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x0329 byte=0xa0 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=809, byte=0xa0, code_address=0x0329, space_len=810
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0329 -> 0x032a (offset 809) after emitting byte 0xa0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x032a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x032a -> 0x032b (offset 810) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x032b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x032b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=811, byte=0xff, code_address=0x032b, space_len=812
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x032b -> 0x032c (offset 811) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x032c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=812, byte=0xff, code_address=0x032c, space_len=813
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x032c -> 0x032d (offset 812) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  JZ_BRANCH_REF_CREATE: code_space_offset=0x032b target_id=361 (will convert to final address during assembly)
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen] 🔍 JZ_BRANCH_DEBUG: Created UnresolvedReference
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Code space offset: 0x032b
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Target ID: 361
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Final code base: 0x0000
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Estimated final location: 0x032b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Added jz branch reference: code_space_offset=0x032b, target=361
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: Generated 4 bytes (0x0329 -> 0x032d)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 360 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 360 -> address 0x032d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 364, value: String("You can't see any such thing.") }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 364
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(365), function: 41, args: [364] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] generate_print_builtin: Looking up string for IR ID 364
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available string IDs = [110, 213, 231, 237, 272, 351, 566, 257, 159, 175, 570, 214, 364, 167, 354, 190, 210, 147, 179, 254, 125, 572, 129, 148, 144, 564, 215, 293, 568, 562, 118, 100, 220, 146, 270, 198]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available integer IDs = [76, 330, 340, 69, 344, 561, 261, 284, 279, 62, 342, 320, 178, 316, 309, 217, 86, 133, 243, 312, 233, 321, 560, 302, 333, 241, 225, 559, 558, 66, 266, 274, 90, 79, 128, 323, 184]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]  OPTION_B_FIX: String ID 364 already in encoding system
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8d at PC=0x032d operands=[LargeConstant(65535)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x032d gen_addr=0x032d opcode=0x8d operands=[LargeConstant(65535)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8d -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x032d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=813, byte=0x8d, code_address=0x032d, space_len=814
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x032d -> 0x032e (offset 813) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x032e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x032e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=814, byte=0xff, code_address=0x032e, space_len=815
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x032e -> 0x032f (offset 814) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x032f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=815, byte=0xff, code_address=0x032f, space_len=816
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x032f -> 0x0330 (offset 815) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 365 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 365 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Return { value: None }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xb0 at PC=0x0330 operands=[] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0330 gen_addr=0x0330 opcode=0xb0 operands=[] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xb0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0xb0 (rtrue) at address 0x0330
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=816, byte=0xb0, code_address=0x0330, space_len=817
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0330 -> 0x0331 (offset 816) after emitting byte 0xb0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Jump { label: 362 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xc1 at PC=0x0331 operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0331 gen_addr=0x0331 opcode=0xc1 operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xc1 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xc1, store_var=None, branch_offset=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xc1, var_bit=0x00, instruction_byte=0xc1 at address 0x0331
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=817, byte=0xc1, code_address=0x0331, space_len=818
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0331 -> 0x0332 (offset 817) after emitting byte 0xc1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x0f at address 0x0332
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=818, byte=0x0f, code_address=0x0332, space_len=819
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0332 -> 0x0333 (offset 818) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0333
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0333
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0333 -> 0x0334 (offset 819) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0334 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=820, byte=0x01, code_address=0x0334, space_len=821
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0334 -> 0x0335 (offset 820) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0335
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0335
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0335 -> 0x0336 (offset 821) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0336 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=822, byte=0x01, code_address=0x0336, space_len=823
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0336 -> 0x0337 (offset 822) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=0 at address=0x0337
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=823, byte=0xc0, code_address=0x0337, space_len=824
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0337 -> 0x0338 (offset 823) after emitting byte 0xc0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 361 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 361 -> address 0x0338
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 362 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 362 -> address 0x0338
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 366, value: Integer(4) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 366
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: BinaryOp { target: 367, op: Equal, left: 356, right: 366 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: BinaryOp creates target IR ID 367
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] UNIFIED_BINARYOP_PROCESSING: target=367, op=Equal, left=356, right=366
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 367 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Comparison BinaryOp registered: IR ID 367 -> stack, bytecode deferred to branch generation
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ZERO BYTES: IR instruction generated no bytecode: BinaryOp { target: 367, op: Equal, left: 356, right: 366 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Branch { condition: 367, true_label: 368, false_label: 369 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: condition_id=367, true=368, false=369 at code_addr=0x0338
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] CHECKING_BINARY_OP_MAPPING: condition=367, mapping exists=true
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] DIRECT_COMPARISON_BRANCH: Detected BinaryOp Equal - generating direct Z-Machine branch instruction
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 356
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 356 resolved to Variable(1) [Local parameter]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 366
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 366 resolved to LargeConstant(4)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] GENERATING_DIRECT_BRANCH: Equal with opcode 0x01, branching to 368 on true
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_COMPARISON_BRANCH: opcode=0x01, operands=[Variable(1), LargeConstant(4)], true=368, false=369 at code_addr=0x0338
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x01 at PC=0x0338 operands=[Variable(1), LargeConstant(4)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0338 gen_addr=0x0338 opcode=0x01 operands=[Variable(1), LargeConstant(4)] store_var=None
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 JZ_INSTRUCTION_TRACE: runtime_addr=0x0338 store_var=None branch_offset=Some(3329)
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 JZ_DETAILS: operands=[Variable(1), LargeConstant(4)] at code_space[0x0338]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x01 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=824, byte=0x41, code_address=0x0338, space_len=825
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0338 -> 0x0339 (offset 824) after emitting byte 0x41
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(1) -> Z-Machine variable 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0339 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=825, byte=0x01, code_address=0x0339, space_len=826
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0339 -> 0x033a (offset 825) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=826, byte=0x04, code_address=0x033a, space_len=827
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x033a -> 0x033b (offset 826) after emitting byte 0x04
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=3329 at address=0x033b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x033b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=827, byte=0x8d, code_address=0x033b, space_len=828
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x033b -> 0x033c (offset 827) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x033c opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=828, byte=0x01, code_address=0x033c, space_len=829
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x033c -> 0x033d (offset 828) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_COMPARISON_BRANCH: Generated 5 bytes (0x0338 -> 0x033d), fixup at offset=0x033b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: Generated 5 bytes (0x0338 -> 0x033d) via comparison branch
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 368 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 368 -> address 0x033d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 372, value: Integer(4) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 372
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 373, object: 372, property_num: 7 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 373
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 372
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 372 resolved to LargeConstant(4)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 373 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x033d operands=[LargeConstant(4), LargeConstant(7)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x033d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x033d gen_addr=0x033d opcode=0x11 operands=[LargeConstant(4), LargeConstant(7)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=829, byte=0x11, code_address=0x033d, space_len=830
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x033d -> 0x033e (offset 829) after emitting byte 0x11
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=830, byte=0x04, code_address=0x033e, space_len=831
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x033e -> 0x033f (offset 830) after emitting byte 0x04
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=831, byte=0x07, code_address=0x033f, space_len=832
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x033f -> 0x0340 (offset 831) after emitting byte 0x07
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0340
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0340 -> 0x0341 (offset 832) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 58
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 373 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(374), function: 41, args: [373] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 374
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] generate_print_builtin: Looking up string for IR ID 373
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available string IDs = [110, 213, 231, 237, 272, 351, 566, 257, 159, 175, 570, 214, 364, 167, 354, 190, 210, 147, 179, 254, 125, 572, 129, 148, 144, 564, 215, 293, 568, 562, 118, 100, 220, 146, 270, 198]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available integer IDs = [76, 330, 340, 69, 344, 561, 261, 284, 279, 62, 342, 320, 178, 366, 316, 309, 217, 86, 133, 243, 312, 233, 321, 560, 302, 333, 241, 225, 559, 558, 66, 372, 266, 274, 90, 79, 128, 323, 184]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] IR ID 373 is not a string literal - generating runtime evaluation for print
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 373
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 373 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] IR ID 373 resolved to operand Variable(0) - generating print_num
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x06 at PC=0x0341 operands=[Variable(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x0341
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0341 gen_addr=0x0341 opcode=0x06 operands=[Variable(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x06 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0x06, store_var=None, branch_offset=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0x06, var_bit=0x20, instruction_byte=0xe6 at address 0x0341
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=833, byte=0xe6, code_address=0x0341, space_len=834
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0341 -> 0x0342 (offset 833) after emitting byte 0xe6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0xbf at address 0x0342
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=834, byte=0xbf, code_address=0x0342, space_len=835
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0342 -> 0x0343 (offset 834) after emitting byte 0xbf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0343
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0343 -> 0x0344 (offset 835) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 374 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 374 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Jump { label: 370 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xc1 at PC=0x0344 operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0344 gen_addr=0x0344 opcode=0xc1 operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xc1 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xc1, store_var=None, branch_offset=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xc1, var_bit=0x00, instruction_byte=0xc1 at address 0x0344
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=836, byte=0xc1, code_address=0x0344, space_len=837
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0344 -> 0x0345 (offset 836) after emitting byte 0xc1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x0f at address 0x0345
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=837, byte=0x0f, code_address=0x0345, space_len=838
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0345 -> 0x0346 (offset 837) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0346
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0346
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0346 -> 0x0347 (offset 838) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0347 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=839, byte=0x01, code_address=0x0347, space_len=840
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0347 -> 0x0348 (offset 839) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0348
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0348
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0348 -> 0x0349 (offset 840) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0349 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=841, byte=0x01, code_address=0x0349, space_len=842
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0349 -> 0x034a (offset 841) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=0 at address=0x034a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=842, byte=0xc0, code_address=0x034a, space_len=843
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x034a -> 0x034b (offset 842) after emitting byte 0xc0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 369 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 369 -> address 0x034b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 376, value: String("There's nothing to read on that.") }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 376
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(377), function: 41, args: [376] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 377
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] generate_print_builtin: Looking up string for IR ID 376
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available string IDs = [110, 213, 231, 237, 272, 351, 566, 257, 159, 175, 376, 570, 214, 364, 167, 354, 190, 210, 147, 179, 254, 125, 572, 129, 148, 144, 564, 215, 293, 568, 562, 118, 100, 220, 146, 270, 198]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available integer IDs = [76, 330, 340, 69, 344, 561, 261, 284, 279, 62, 342, 320, 178, 366, 316, 309, 217, 86, 133, 243, 312, 233, 321, 560, 302, 333, 241, 225, 559, 558, 66, 372, 266, 274, 90, 79, 128, 323, 184]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]  OPTION_B_FIX: String ID 376 already in encoding system
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8d at PC=0x034b operands=[LargeConstant(65535)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x034b gen_addr=0x034b opcode=0x8d operands=[LargeConstant(65535)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8d -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x034b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=843, byte=0x8d, code_address=0x034b, space_len=844
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x034b -> 0x034c (offset 843) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x034c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x034c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=844, byte=0xff, code_address=0x034c, space_len=845
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x034c -> 0x034d (offset 844) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x034d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=845, byte=0xff, code_address=0x034d, space_len=846
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x034d -> 0x034e (offset 845) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 377 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 377 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 370 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 370 -> address 0x034e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Function 'handle_read' ends with return: false
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Adding implicit return to function 'handle_read'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xb0 at PC=0x034e operands=[] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x034e gen_addr=0x034e opcode=0xb0 operands=[] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xb0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0xb0 (rtrue) at address 0x034e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=846, byte=0xb0, code_address=0x034e, space_len=847
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x034e -> 0x034f (offset 846) after emitting byte 0xb0
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]  Function 'handle_read' complete: 51 bytes generated
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FINALIZE: Function 'handle_read' used 0 local variables during generation
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] ❌ PATCH_ERROR: No header location found for function 10 ('handle_read')
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  TRANSLATING: Function #10: 'player_can_see' (35 instructions)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ALIGN: Function 'player_can_see' before alignment at code_address=0x034f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ALIGN: Adding padding byte for even alignment
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x034f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x034f -> 0x0350 (offset 847) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ALIGN: Function 'player_can_see' after alignment at code_address=0x0350
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ADDRESS_FIX: Function 'player_can_see' stored at relative address 0x0350 (Phase 2)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record code offset: Recording IR ID 11 -> code_space_offset 0x0350
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record code offset: This will be converted to absolute address during final assembly
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_UPDATED: 'player_can_see' (ID 11) updated to actual address 0x0350
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PARAMETER_SETUP: Function 'player_can_see' has 1 parameters
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  Parameter mapping: 'obj' (IR ID 378) -> local variable slot 1 for function 'player_can_see'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  GENERATING: Routine header for 'player_can_see' with 1 locals
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_START: Reset local variable counter for function 'player_can_see'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_LOCALS: 'player_can_see' declared=1, using=1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Generating V3 header: 1 declared locals for function 'player_can_see'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0350 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=848, byte=0x01, code_address=0x0350, space_len=849
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0350 -> 0x0351 (offset 848) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0000 -> high_byte=0x00, low_byte=0x00 at code_address 0x0351
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  NULL_WORD_SOURCE: emit_word(0x0000) called at code_address 0x0351
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  This might be valid V3 default local values OR invalid placeholder operands
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0351
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0351 -> 0x0352 (offset 849) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0352
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0352 -> 0x0353 (offset 850) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitted default value for local 1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 380, object: 378, property_num: 13 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 380
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 378
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 378 resolved to Variable(1) [Local parameter]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 380 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x0353 operands=[Variable(1), LargeConstant(13)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x0353
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0353 gen_addr=0x0353 opcode=0x11 operands=[Variable(1), LargeConstant(13)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=851, byte=0x51, code_address=0x0353, space_len=852
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0353 -> 0x0354 (offset 851) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(1) -> Z-Machine variable 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0354 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=852, byte=0x01, code_address=0x0354, space_len=853
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0354 -> 0x0355 (offset 852) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=853, byte=0x0d, code_address=0x0355, space_len=854
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0355 -> 0x0356 (offset 853) after emitting byte 0x0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0356
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0356 -> 0x0357 (offset 854) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 59
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 380 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 381, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 381
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 382, object: 381, property_num: 13 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 382
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 381
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 381 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 382 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x0357 operands=[LargeConstant(1), LargeConstant(13)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x0357
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0357 gen_addr=0x0357 opcode=0x11 operands=[LargeConstant(1), LargeConstant(13)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=855, byte=0x11, code_address=0x0357, space_len=856
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0357 -> 0x0358 (offset 855) after emitting byte 0x11
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0358 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=856, byte=0x01, code_address=0x0358, space_len=857
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0358 -> 0x0359 (offset 856) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=857, byte=0x0d, code_address=0x0359, space_len=858
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0359 -> 0x035a (offset 857) after emitting byte 0x0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x035a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x035a -> 0x035b (offset 858) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 60
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 382 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: BinaryOp { target: 383, op: Equal, left: 380, right: 382 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: BinaryOp creates target IR ID 383
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] UNIFIED_BINARYOP_PROCESSING: target=383, op=Equal, left=380, right=382
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 383 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Comparison BinaryOp registered: IR ID 383 -> stack, bytecode deferred to branch generation
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ZERO BYTES: IR instruction generated no bytecode: BinaryOp { target: 383, op: Equal, left: 380, right: 382 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 384, object: 378, property_num: 13 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 384
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 378
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 378 resolved to Variable(1) [Local parameter]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 384 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x035b operands=[Variable(1), LargeConstant(13)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x035b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x035b gen_addr=0x035b opcode=0x11 operands=[Variable(1), LargeConstant(13)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=859, byte=0x51, code_address=0x035b, space_len=860
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x035b -> 0x035c (offset 859) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(1) -> Z-Machine variable 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x035c opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=860, byte=0x01, code_address=0x035c, space_len=861
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x035c -> 0x035d (offset 860) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=861, byte=0x0d, code_address=0x035d, space_len=862
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x035d -> 0x035e (offset 861) after emitting byte 0x0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x035e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x035e -> 0x035f (offset 862) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 61
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 384 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 385, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 385
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: BinaryOp { target: 386, op: Equal, left: 384, right: 385 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: BinaryOp creates target IR ID 386
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] UNIFIED_BINARYOP_PROCESSING: target=386, op=Equal, left=384, right=385
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 386 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Comparison BinaryOp registered: IR ID 386 -> stack, bytecode deferred to branch generation
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ZERO BYTES: IR instruction generated no bytecode: BinaryOp { target: 386, op: Equal, left: 384, right: 385 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: BinaryOp { target: 387, op: Or, left: 383, right: 386 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: BinaryOp creates target IR ID 387
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] UNIFIED_BINARYOP_PROCESSING: target=387, op=Or, left=383, right=386
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 383
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 383 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 386
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 386 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Generating binary operation: Or with operands Variable(0), Variable(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x08 at PC=0x035f operands=[Variable(0), Variable(0)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x035f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[1] reads from stack at PC=0x035f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x035f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x035f gen_addr=0x035f opcode=0x08 operands=[Variable(0), Variable(0)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x08 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=863, byte=0x68, code_address=0x035f, space_len=864
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x035f -> 0x0360 (offset 863) after emitting byte 0x68
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0360
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0360 -> 0x0361 (offset 864) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0361
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0361 -> 0x0362 (offset 865) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0362
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0362 -> 0x0363 (offset 866) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (generic) - depth now: 62
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 387 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] BinaryOp (Or) result: IR ID 387 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Branch { condition: 387, true_label: 388, false_label: 389 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: condition_id=387, true=388, false=389 at code_addr=0x0363
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] CHECKING_BINARY_OP_MAPPING: condition=387, mapping exists=true
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] DIRECT_COMPARISON_BRANCH: Detected BinaryOp Or - generating direct Z-Machine branch instruction
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 383
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 383 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 386
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 386 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Translation failed for instruction Branch { condition: 387, true_label: 388, false_label: 389 }: Code generation error: Unsupported comparison operation in direct branch: Or
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 388 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 388 -> address 0x0363
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 392, value: Boolean(true) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 392
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Return { value: Some(392) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 392
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 392 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8b at PC=0x0363 operands=[LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0363 gen_addr=0x0363 opcode=0x8b operands=[LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8b -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0x8b, store_var=None, branch_offset=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0x8b, var_bit=0x00, instruction_byte=0xcb at address 0x0363
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=867, byte=0xcb, code_address=0x0363, space_len=868
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0363 -> 0x0364 (offset 867) after emitting byte 0xcb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x3f at address 0x0364
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=868, byte=0x3f, code_address=0x0364, space_len=869
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0364 -> 0x0365 (offset 868) after emitting byte 0x3f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x0365 byte=0x00 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0365 -> 0x0366 (offset 869) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0366 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=870, byte=0x01, code_address=0x0366, space_len=871
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0366 -> 0x0367 (offset 870) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Jump { label: 390 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xc1 at PC=0x0367 operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0367 gen_addr=0x0367 opcode=0xc1 operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xc1 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xc1, store_var=None, branch_offset=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xc1, var_bit=0x00, instruction_byte=0xc1 at address 0x0367
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=871, byte=0xc1, code_address=0x0367, space_len=872
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0367 -> 0x0368 (offset 871) after emitting byte 0xc1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x0f at address 0x0368
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=872, byte=0x0f, code_address=0x0368, space_len=873
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0368 -> 0x0369 (offset 872) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0369
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0369
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0369 -> 0x036a (offset 873) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x036a opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=874, byte=0x01, code_address=0x036a, space_len=875
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x036a -> 0x036b (offset 874) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x036b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x036b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x036b -> 0x036c (offset 875) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x036c opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=876, byte=0x01, code_address=0x036c, space_len=877
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x036c -> 0x036d (offset 876) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=0 at address=0x036d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=877, byte=0xc0, code_address=0x036d, space_len=878
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x036d -> 0x036e (offset 877) after emitting byte 0xc0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 389 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 389 -> address 0x036e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 390 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 390 -> address 0x036e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 393, object: 378, property_num: 13 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 393
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 378
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 378 resolved to Variable(1) [Local parameter]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 393 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x036e operands=[Variable(1), LargeConstant(13)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x036e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x036e gen_addr=0x036e opcode=0x11 operands=[Variable(1), LargeConstant(13)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=878, byte=0x51, code_address=0x036e, space_len=879
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x036e -> 0x036f (offset 878) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(1) -> Z-Machine variable 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x036f opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=879, byte=0x01, code_address=0x036f, space_len=880
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x036f -> 0x0370 (offset 879) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=880, byte=0x0d, code_address=0x0370, space_len=881
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0370 -> 0x0371 (offset 880) after emitting byte 0x0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0371
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0371 -> 0x0372 (offset 881) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 63
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 393 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 394, object: 393, property_num: 16 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 394
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 393
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 393 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 394 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x0372 operands=[Variable(0), LargeConstant(16)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x0372
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x0372
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0372 gen_addr=0x0372 opcode=0x11 operands=[Variable(0), LargeConstant(16)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=882, byte=0x51, code_address=0x0372, space_len=883
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0372 -> 0x0373 (offset 882) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0373
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0373 -> 0x0374 (offset 883) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=884, byte=0x10, code_address=0x0374, space_len=885
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0374 -> 0x0375 (offset 884) after emitting byte 0x10
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0375
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0375 -> 0x0376 (offset 885) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 64
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 394 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 395, object: 378, property_num: 13 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 395
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 378
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 378 resolved to Variable(1) [Local parameter]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 395 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x0376 operands=[Variable(1), LargeConstant(13)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x0376
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0376 gen_addr=0x0376 opcode=0x11 operands=[Variable(1), LargeConstant(13)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=886, byte=0x51, code_address=0x0376, space_len=887
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0376 -> 0x0377 (offset 886) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(1) -> Z-Machine variable 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0377 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=887, byte=0x01, code_address=0x0377, space_len=888
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0377 -> 0x0378 (offset 887) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=888, byte=0x0d, code_address=0x0378, space_len=889
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0378 -> 0x0379 (offset 888) after emitting byte 0x0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0379
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0379 -> 0x037a (offset 889) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 65
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 395 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 396, object: 395, property_num: 17 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 396
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 395
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 395 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 396 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x037a operands=[Variable(0), LargeConstant(17)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x037a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x037a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x037a gen_addr=0x037a opcode=0x11 operands=[Variable(0), LargeConstant(17)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=890, byte=0x51, code_address=0x037a, space_len=891
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x037a -> 0x037b (offset 890) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x037b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x037b -> 0x037c (offset 891) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=892, byte=0x11, code_address=0x037c, space_len=893
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x037c -> 0x037d (offset 892) after emitting byte 0x11
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x037d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x037d -> 0x037e (offset 893) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 66
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 396 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: BinaryOp { target: 397, op: And, left: 394, right: 396 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: BinaryOp creates target IR ID 397
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] UNIFIED_BINARYOP_PROCESSING: target=397, op=And, left=394, right=396
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 394
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 394 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 396
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 396 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Generating binary operation: And with operands Variable(0), Variable(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x09 at PC=0x037e operands=[Variable(0), Variable(0)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x037e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[1] reads from stack at PC=0x037e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x037e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x037e gen_addr=0x037e opcode=0x09 operands=[Variable(0), Variable(0)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x09 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=894, byte=0x69, code_address=0x037e, space_len=895
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x037e -> 0x037f (offset 894) after emitting byte 0x69
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x037f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x037f -> 0x0380 (offset 895) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0380
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0380 -> 0x0381 (offset 896) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0381
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0381 -> 0x0382 (offset 897) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (generic) - depth now: 67
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 397 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] BinaryOp (And) result: IR ID 397 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 398, object: 378, property_num: 13 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 398
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 378
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 378 resolved to Variable(1) [Local parameter]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 398 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x0382 operands=[Variable(1), LargeConstant(13)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x0382
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0382 gen_addr=0x0382 opcode=0x11 operands=[Variable(1), LargeConstant(13)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=898, byte=0x51, code_address=0x0382, space_len=899
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0382 -> 0x0383 (offset 898) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(1) -> Z-Machine variable 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0383 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=899, byte=0x01, code_address=0x0383, space_len=900
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0383 -> 0x0384 (offset 899) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=900, byte=0x0d, code_address=0x0384, space_len=901
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0384 -> 0x0385 (offset 900) after emitting byte 0x0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0385
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0385 -> 0x0386 (offset 901) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 68
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 398 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 399, object: 398, property_num: 13 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 399
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 398
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 398 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 399 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x0386 operands=[Variable(0), LargeConstant(13)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x0386
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x0386
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0386 gen_addr=0x0386 opcode=0x11 operands=[Variable(0), LargeConstant(13)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=902, byte=0x51, code_address=0x0386, space_len=903
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0386 -> 0x0387 (offset 902) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0387
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0387 -> 0x0388 (offset 903) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=904, byte=0x0d, code_address=0x0388, space_len=905
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0388 -> 0x0389 (offset 904) after emitting byte 0x0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0389
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0389 -> 0x038a (offset 905) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 69
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 399 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 400, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 400
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 401, object: 400, property_num: 13 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 401
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 400
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 400 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 401 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x038a operands=[LargeConstant(1), LargeConstant(13)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x038a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x038a gen_addr=0x038a opcode=0x11 operands=[LargeConstant(1), LargeConstant(13)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=906, byte=0x11, code_address=0x038a, space_len=907
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x038a -> 0x038b (offset 906) after emitting byte 0x11
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x038b opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=907, byte=0x01, code_address=0x038b, space_len=908
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x038b -> 0x038c (offset 907) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=908, byte=0x0d, code_address=0x038c, space_len=909
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x038c -> 0x038d (offset 908) after emitting byte 0x0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x038d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x038d -> 0x038e (offset 909) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 70
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 401 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: BinaryOp { target: 402, op: Equal, left: 399, right: 401 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: BinaryOp creates target IR ID 402
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] UNIFIED_BINARYOP_PROCESSING: target=402, op=Equal, left=399, right=401
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 402 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Comparison BinaryOp registered: IR ID 402 -> stack, bytecode deferred to branch generation
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ZERO BYTES: IR instruction generated no bytecode: BinaryOp { target: 402, op: Equal, left: 399, right: 401 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: BinaryOp { target: 403, op: And, left: 397, right: 402 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: BinaryOp creates target IR ID 403
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] UNIFIED_BINARYOP_PROCESSING: target=403, op=And, left=397, right=402
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 397
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 397 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 402
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 402 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Generating binary operation: And with operands Variable(0), Variable(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x09 at PC=0x038e operands=[Variable(0), Variable(0)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x038e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[1] reads from stack at PC=0x038e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x038e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x038e gen_addr=0x038e opcode=0x09 operands=[Variable(0), Variable(0)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x09 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=910, byte=0x69, code_address=0x038e, space_len=911
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x038e -> 0x038f (offset 910) after emitting byte 0x69
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x038f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x038f -> 0x0390 (offset 911) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0390
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0390 -> 0x0391 (offset 912) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0391
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0391 -> 0x0392 (offset 913) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (generic) - depth now: 71
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 403 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] BinaryOp (And) result: IR ID 403 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Branch { condition: 403, true_label: 404, false_label: 405 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: condition_id=403, true=404, false=405 at code_addr=0x0392
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] CHECKING_BINARY_OP_MAPPING: condition=403, mapping exists=true
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] DIRECT_COMPARISON_BRANCH: Detected BinaryOp And - generating direct Z-Machine branch instruction
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 397
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 397 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 402
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 402 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Translation failed for instruction Branch { condition: 403, true_label: 404, false_label: 405 }: Code generation error: Unsupported comparison operation in direct branch: And
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 404 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 404 -> address 0x0392
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 408, value: Boolean(true) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 408
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Return { value: Some(408) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 408
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 408 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8b at PC=0x0392 operands=[LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0392 gen_addr=0x0392 opcode=0x8b operands=[LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8b -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0x8b, store_var=None, branch_offset=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0x8b, var_bit=0x00, instruction_byte=0xcb at address 0x0392
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=914, byte=0xcb, code_address=0x0392, space_len=915
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0392 -> 0x0393 (offset 914) after emitting byte 0xcb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x3f at address 0x0393
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=915, byte=0x3f, code_address=0x0393, space_len=916
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0393 -> 0x0394 (offset 915) after emitting byte 0x3f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0394
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0394
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0394 -> 0x0395 (offset 916) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0395 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=917, byte=0x01, code_address=0x0395, space_len=918
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0395 -> 0x0396 (offset 917) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Jump { label: 406 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xc1 at PC=0x0396 operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0396 gen_addr=0x0396 opcode=0xc1 operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xc1 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xc1, store_var=None, branch_offset=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xc1, var_bit=0x00, instruction_byte=0xc1 at address 0x0396
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=918, byte=0xc1, code_address=0x0396, space_len=919
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0396 -> 0x0397 (offset 918) after emitting byte 0xc1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x0f at address 0x0397
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=919, byte=0x0f, code_address=0x0397, space_len=920
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0397 -> 0x0398 (offset 919) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0398
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0398
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0398 -> 0x0399 (offset 920) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0399 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=921, byte=0x01, code_address=0x0399, space_len=922
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0399 -> 0x039a (offset 921) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x039a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x039a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x039a -> 0x039b (offset 922) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x039b opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=923, byte=0x01, code_address=0x039b, space_len=924
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x039b -> 0x039c (offset 923) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=0 at address=0x039c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=924, byte=0xc0, code_address=0x039c, space_len=925
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x039c -> 0x039d (offset 924) after emitting byte 0xc0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 405 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 405 -> address 0x039d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 406 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 406 -> address 0x039d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 409, value: Boolean(false) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 409
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Return { value: Some(409) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 409
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 409 resolved to LargeConstant(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8b at PC=0x039d operands=[LargeConstant(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x039d gen_addr=0x039d opcode=0x8b operands=[LargeConstant(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8b -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0x8b, store_var=None, branch_offset=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0x8b, var_bit=0x00, instruction_byte=0xcb at address 0x039d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=925, byte=0xcb, code_address=0x039d, space_len=926
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x039d -> 0x039e (offset 925) after emitting byte 0xcb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x3f at address 0x039e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=926, byte=0x3f, code_address=0x039e, space_len=927
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x039e -> 0x039f (offset 926) after emitting byte 0x3f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0000 -> high_byte=0x00, low_byte=0x00 at code_address 0x039f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  NULL_WORD_SOURCE: emit_word(0x0000) called at code_address 0x039f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  This might be valid V3 default local values OR invalid placeholder operands
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x039f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x039f -> 0x03a0 (offset 927) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x03a0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03a0 -> 0x03a1 (offset 928) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Function 'player_can_see' ends with return: true
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]  Function 'player_can_see' complete: 82 bytes generated
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FINALIZE: Function 'player_can_see' used 0 local variables during generation
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] ❌ PATCH_ERROR: No header location found for function 11 ('player_can_see')
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  TRANSLATING: Function #11: 'list_objects' (77 instructions)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ALIGN: Function 'list_objects' before alignment at code_address=0x03a1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ALIGN: Adding padding byte for even alignment
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x03a1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03a1 -> 0x03a2 (offset 929) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ALIGN: Function 'list_objects' after alignment at code_address=0x03a2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ADDRESS_FIX: Function 'list_objects' stored at relative address 0x03a2 (Phase 2)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record code offset: Recording IR ID 12 -> code_space_offset 0x03a2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record code offset: This will be converted to absolute address during final assembly
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_UPDATED: 'list_objects' (ID 12) updated to actual address 0x03a2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PARAMETER_SETUP: Function 'list_objects' has 1 parameters
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  Parameter mapping: 'location' (IR ID 410) -> local variable slot 1 for function 'list_objects'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  GENERATING: Routine header for 'list_objects' with 5 locals
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_START: Reset local variable counter for function 'list_objects'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_LOCALS: 'list_objects' declared=5, using=5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Generating V3 header: 5 declared locals for function 'list_objects'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=930, byte=0x05, code_address=0x03a2, space_len=931
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03a2 -> 0x03a3 (offset 930) after emitting byte 0x05
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0000 -> high_byte=0x00, low_byte=0x00 at code_address 0x03a3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  NULL_WORD_SOURCE: emit_word(0x0000) called at code_address 0x03a3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  This might be valid V3 default local values OR invalid placeholder operands
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x03a3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03a3 -> 0x03a4 (offset 931) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x03a4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03a4 -> 0x03a5 (offset 932) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitted default value for local 1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0000 -> high_byte=0x00, low_byte=0x00 at code_address 0x03a5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  NULL_WORD_SOURCE: emit_word(0x0000) called at code_address 0x03a5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  This might be valid V3 default local values OR invalid placeholder operands
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x03a5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03a5 -> 0x03a6 (offset 933) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x03a6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03a6 -> 0x03a7 (offset 934) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitted default value for local 2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0000 -> high_byte=0x00, low_byte=0x00 at code_address 0x03a7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  NULL_WORD_SOURCE: emit_word(0x0000) called at code_address 0x03a7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  This might be valid V3 default local values OR invalid placeholder operands
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x03a7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03a7 -> 0x03a8 (offset 935) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x03a8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03a8 -> 0x03a9 (offset 936) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitted default value for local 3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0000 -> high_byte=0x00, low_byte=0x00 at code_address 0x03a9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  NULL_WORD_SOURCE: emit_word(0x0000) called at code_address 0x03a9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  This might be valid V3 default local values OR invalid placeholder operands
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x03a9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03a9 -> 0x03aa (offset 937) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x03aa
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03aa -> 0x03ab (offset 938) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitted default value for local 4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0000 -> high_byte=0x00, low_byte=0x00 at code_address 0x03ab
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  NULL_WORD_SOURCE: emit_word(0x0000) called at code_address 0x03ab
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  This might be valid V3 default local values OR invalid placeholder operands
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x03ab
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03ab -> 0x03ac (offset 939) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x03ac
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03ac -> 0x03ad (offset 940) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitted default value for local 5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 413, object: 410, property_num: 21 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 413
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 410
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 410 resolved to Variable(1) [Local parameter]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 413 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x03ad operands=[Variable(1), LargeConstant(21)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x03ad
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x03ad gen_addr=0x03ad opcode=0x11 operands=[Variable(1), LargeConstant(21)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=941, byte=0x51, code_address=0x03ad, space_len=942
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03ad -> 0x03ae (offset 941) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(1) -> Z-Machine variable 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x03ae opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=942, byte=0x01, code_address=0x03ae, space_len=943
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03ae -> 0x03af (offset 942) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=943, byte=0x15, code_address=0x03af, space_len=944
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03af -> 0x03b0 (offset 943) after emitting byte 0x15
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x03b0 byte=0x00 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x03b0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03b0 -> 0x03b1 (offset 944) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 72
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 413 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Branch { condition: 413, true_label: 415, false_label: 416 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: condition_id=413, true=415, false=416 at code_addr=0x03b1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] CHECKING_BINARY_OP_MAPPING: condition=413, mapping exists=false
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Condition 413 is not a comparison - using jz branch approach
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 413
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 413 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xa0 at PC=0x03b1 operands=[Variable(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x03b1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x03b1 gen_addr=0x03b1 opcode=0xa0 operands=[Variable(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xa0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x03b1 byte=0xa0 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=945, byte=0xa0, code_address=0x03b1, space_len=946
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03b1 -> 0x03b2 (offset 945) after emitting byte 0xa0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x03b2 byte=0x00 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x03b2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03b2 -> 0x03b3 (offset 946) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x03b3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x03b3 byte=0xff phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x03b3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=947, byte=0xff, code_address=0x03b3, space_len=948
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03b3 -> 0x03b4 (offset 947) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x03b4 byte=0xff phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x03b4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=948, byte=0xff, code_address=0x03b4, space_len=949
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03b4 -> 0x03b5 (offset 948) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  JZ_BRANCH_REF_CREATE: code_space_offset=0x03b3 target_id=416 (will convert to final address during assembly)
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen] 🔍 JZ_BRANCH_DEBUG: Created UnresolvedReference
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Code space offset: 0x03b3
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Target ID: 416
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Final code base: 0x0000
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Estimated final location: 0x03b3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Added jz branch reference: code_space_offset=0x03b3, target=416
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: Generated 4 bytes (0x03b1 -> 0x03b5)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 415 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 415 -> address 0x03b5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: CreateArray { target: 418, size: Integer(10) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: CreateArray creates target IR ID 418
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Creating array with size Integer(10)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 418 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] CreateArray: IR ID 418 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x21 at PC=0x03b5 operands=[LargeConstant(10)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x03b5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x03b5 gen_addr=0x03b5 opcode=0x21 operands=[LargeConstant(10)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x21 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x03b5 byte=0x81 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=949, byte=0x81, code_address=0x03b5, space_len=950
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03b5 -> 0x03b6 (offset 949) after emitting byte 0x81
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x000a -> high_byte=0x00, low_byte=0x0a at code_address 0x03b6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x03b6 byte=0x00 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x03b6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03b6 -> 0x03b7 (offset 950) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x03b7 byte=0x0a phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=951, byte=0x0a, code_address=0x03b7, space_len=952
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03b7 -> 0x03b8 (offset 951) after emitting byte 0x0a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x03b8 byte=0x00 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x03b8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03b8 -> 0x03b9 (offset 952) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(414), function: 419, args: [410] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 414
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] Generating get_object_contents for object IR ID 410
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 410
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 410 resolved to Variable(1) [Local parameter]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] get_object_contents: resolved IR ID 410 to operand Variable(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] get_object_contents target mapping: IR ID 414 -> stack variable 0
[2025-09-12T15:05:07Z WARN  gruesome::grue_compiler::codegen_builtins] get_object_contents: object resolved to Variable(1), using placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x21 at PC=0x03b9 operands=[LargeConstant(1)] store=Some(158)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x03b9 gen_addr=0x03b9 opcode=0x21 operands=[LargeConstant(1)] store_var=Some(158)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x21 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x03b9 byte=0x81 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=953, byte=0x81, code_address=0x03b9, space_len=954
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03b9 -> 0x03ba (offset 953) after emitting byte 0x81
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x03ba
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x03ba byte=0x00 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x03ba
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03ba -> 0x03bb (offset 954) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x03bb byte=0x01 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x03bb opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=955, byte=0x01, code_address=0x03bb, space_len=956
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03bb -> 0x03bc (offset 955) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x03bc byte=0x9e phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=956, byte=0x9e, code_address=0x03bc, space_len=957
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03bc -> 0x03bd (offset 956) after emitting byte 0x9e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 414 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 414 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Jump { label: 417 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xc1 at PC=0x03bd operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x03bd gen_addr=0x03bd opcode=0xc1 operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xc1 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xc1, store_var=None, branch_offset=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xc1, var_bit=0x00, instruction_byte=0xc1 at address 0x03bd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x03bd byte=0xc1 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=957, byte=0xc1, code_address=0x03bd, space_len=958
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03bd -> 0x03be (offset 957) after emitting byte 0xc1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x0f at address 0x03be
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x03be byte=0x0f phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=958, byte=0x0f, code_address=0x03be, space_len=959
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03be -> 0x03bf (offset 958) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x03bf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x03bf byte=0x00 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x03bf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03bf -> 0x03c0 (offset 959) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x03c0 byte=0x01 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x03c0 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=960, byte=0x01, code_address=0x03c0, space_len=961
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03c0 -> 0x03c1 (offset 960) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x03c1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x03c1 byte=0x00 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x03c1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03c1 -> 0x03c2 (offset 961) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x03c2 byte=0x01 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x03c2 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=962, byte=0x01, code_address=0x03c2, space_len=963
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03c2 -> 0x03c3 (offset 962) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=0 at address=0x03c3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x03c3 byte=0xc0 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=963, byte=0xc0, code_address=0x03c3, space_len=964
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03c3 -> 0x03c4 (offset 963) after emitting byte 0xc0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 416 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 416 -> address 0x03c4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 414, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 414
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 417 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 417 -> address 0x03c4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: StoreVar { var_id: 412, source: 414 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 414
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 414 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x0d at PC=0x03c4 operands=[SmallConstant(0), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x03c4 gen_addr=0x03c4 opcode=0x0d operands=[SmallConstant(0), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x0d -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x03c4 byte=0x0d phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=964, byte=0x0d, code_address=0x03c4, space_len=965
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03c4 -> 0x03c5 (offset 964) after emitting byte 0x0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x03c5 byte=0x00 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x03c5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03c5 -> 0x03c6 (offset 965) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x03c6 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=966, byte=0x01, code_address=0x03c6, space_len=967
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03c6 -> 0x03c7 (offset 966) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] StoreVar: IR ID 412 stored value from IR ID 414
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: CreateArray { target: 421, size: Integer(0) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: CreateArray creates target IR ID 421
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Creating array with size Integer(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 421 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] CreateArray: IR ID 421 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x21 at PC=0x03c7 operands=[LargeConstant(0)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x03c7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x03c7 gen_addr=0x03c7 opcode=0x21 operands=[LargeConstant(0)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x21 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=967, byte=0x81, code_address=0x03c7, space_len=968
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03c7 -> 0x03c8 (offset 967) after emitting byte 0x81
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0000 -> high_byte=0x00, low_byte=0x00 at code_address 0x03c8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  NULL_WORD_SOURCE: emit_word(0x0000) called at code_address 0x03c8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  This might be valid V3 default local values OR invalid placeholder operands
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x03c8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03c8 -> 0x03c9 (offset 968) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x03c9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03c9 -> 0x03ca (offset 969) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x03ca
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03ca -> 0x03cb (offset 970) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: StoreVar { var_id: 420, source: 421 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 421
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 421 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x0d at PC=0x03cb operands=[SmallConstant(0), Variable(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[1] reads from stack at PC=0x03cb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x03cb gen_addr=0x03cb opcode=0x0d operands=[SmallConstant(0), Variable(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x0d -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=971, byte=0x2d, code_address=0x03cb, space_len=972
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03cb -> 0x03cc (offset 971) after emitting byte 0x2d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x03cc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03cc -> 0x03cd (offset 972) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x03cd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03cd -> 0x03ce (offset 973) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] StoreVar: IR ID 420 stored value from IR ID 421
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 424, value: Integer(0) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 424
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: StoreVar { var_id: 423, source: 424 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 424
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 424 resolved to LargeConstant(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x0d at PC=0x03ce operands=[SmallConstant(0), LargeConstant(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x03ce gen_addr=0x03ce opcode=0x0d operands=[SmallConstant(0), LargeConstant(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x0d -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=974, byte=0x0d, code_address=0x03ce, space_len=975
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03ce -> 0x03cf (offset 974) after emitting byte 0x0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x03cf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03cf -> 0x03d0 (offset 975) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x03d0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03d0 -> 0x03d1 (offset 976) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] StoreVar: IR ID 423 stored value from IR ID 424
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 425 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 425 -> address 0x03d1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadVar { target: 428, var_id: 423 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadVar creates target IR ID 428
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 423
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 423 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x21 at PC=0x03d1 operands=[Variable(0)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x03d1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x03d1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x03d1 gen_addr=0x03d1 opcode=0x21 operands=[Variable(0)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x21 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x03d1 byte=0xa1 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=977, byte=0xa1, code_address=0x03d1, space_len=978
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03d1 -> 0x03d2 (offset 977) after emitting byte 0xa1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x03d2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03d2 -> 0x03d3 (offset 978) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x03d3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03d3 -> 0x03d4 (offset 979) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack pop (store) - depth now: 71
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 428 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] LoadVar: IR ID 428 loaded from IR ID 423 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 429, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 429
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: BinaryOp { target: 430, op: Less, left: 428, right: 429 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: BinaryOp creates target IR ID 430
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] UNIFIED_BINARYOP_PROCESSING: target=430, op=Less, left=428, right=429
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 430 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Comparison BinaryOp registered: IR ID 430 -> stack, bytecode deferred to branch generation
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ZERO BYTES: IR instruction generated no bytecode: BinaryOp { target: 430, op: Less, left: 428, right: 429 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Branch { condition: 430, true_label: 426, false_label: 427 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: condition_id=430, true=426, false=427 at code_addr=0x03d4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] CHECKING_BINARY_OP_MAPPING: condition=430, mapping exists=true
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] DIRECT_COMPARISON_BRANCH: Detected BinaryOp Less - generating direct Z-Machine branch instruction
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 428
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 428 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 429
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 429 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] GENERATING_DIRECT_BRANCH: Less with opcode 0x02, branching to 426 on true
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_COMPARISON_BRANCH: opcode=0x02, operands=[Variable(0), LargeConstant(1)], true=426, false=427 at code_addr=0x03d4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x02 at PC=0x03d4 operands=[Variable(0), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x03d4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x03d4 gen_addr=0x03d4 opcode=0x02 operands=[Variable(0), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x02 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=980, byte=0x42, code_address=0x03d4, space_len=981
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03d4 -> 0x03d5 (offset 980) after emitting byte 0x42
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x03d5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03d5 -> 0x03d6 (offset 981) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x03d6 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=982, byte=0x01, code_address=0x03d6, space_len=983
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03d6 -> 0x03d7 (offset 982) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=3329 at address=0x03d7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x03d7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=983, byte=0x8d, code_address=0x03d7, space_len=984
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03d7 -> 0x03d8 (offset 983) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x03d8 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=984, byte=0x01, code_address=0x03d8, space_len=985
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03d8 -> 0x03d9 (offset 984) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_COMPARISON_BRANCH: Generated 5 bytes (0x03d4 -> 0x03d9), fixup at offset=0x03d7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: Generated 5 bytes (0x03d4 -> 0x03d9) via comparison branch
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 426 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 426 -> address 0x03d9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetArrayElement { target: 431, array: 412, index: 428 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 431 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8d at PC=0x03d9 operands=[LargeConstant(1000)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x03d9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x03d9 gen_addr=0x03d9 opcode=0x8d operands=[LargeConstant(1000)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8d -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x03d9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=985, byte=0x8d, code_address=0x03d9, space_len=986
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03d9 -> 0x03da (offset 985) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x03e8 -> high_byte=0x03, low_byte=0xe8 at code_address 0x03da
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=986, byte=0x03, code_address=0x03da, space_len=987
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03da -> 0x03db (offset 986) after emitting byte 0x03
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=987, byte=0xe8, code_address=0x03db, space_len=988
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03db -> 0x03dc (offset 987) after emitting byte 0xe8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x03dc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03dc -> 0x03dd (offset 988) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (generic) - depth now: 72
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetArrayElement: IR ID 431 -> stack (placeholder: 1000)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: StoreVar { var_id: 422, source: 431 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 431
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 431 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x0d at PC=0x03dd operands=[SmallConstant(0), Variable(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[1] reads from stack at PC=0x03dd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x03dd gen_addr=0x03dd opcode=0x0d operands=[SmallConstant(0), Variable(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x0d -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=989, byte=0x2d, code_address=0x03dd, space_len=990
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03dd -> 0x03de (offset 989) after emitting byte 0x2d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x03de
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03de -> 0x03df (offset 990) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x03df
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03df -> 0x03e0 (offset 991) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] StoreVar: IR ID 422 stored value from IR ID 431
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 433, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 433
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: BinaryOp { target: 434, op: NotEqual, left: 422, right: 433 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: BinaryOp creates target IR ID 434
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] UNIFIED_BINARYOP_PROCESSING: target=434, op=NotEqual, left=422, right=433
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 434 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Comparison BinaryOp registered: IR ID 434 -> stack, bytecode deferred to branch generation
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ZERO BYTES: IR instruction generated no bytecode: BinaryOp { target: 434, op: NotEqual, left: 422, right: 433 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Branch { condition: 434, true_label: 435, false_label: 436 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: condition_id=434, true=435, false=436 at code_addr=0x03e0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] CHECKING_BINARY_OP_MAPPING: condition=434, mapping exists=true
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] DIRECT_COMPARISON_BRANCH: Detected BinaryOp NotEqual - generating direct Z-Machine branch instruction
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 422
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 422 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 433
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 433 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] GENERATING_DIRECT_BRANCH: NotEqual with opcode 0x01, branching to 436 on false
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_COMPARISON_BRANCH: opcode=0x01, operands=[Variable(0), LargeConstant(1)], true=436, false=435 at code_addr=0x03e0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x01 at PC=0x03e0 operands=[Variable(0), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x03e0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x03e0 gen_addr=0x03e0 opcode=0x01 operands=[Variable(0), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 JZ_INSTRUCTION_TRACE: runtime_addr=0x03e0 store_var=None branch_offset=Some(3329)
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 JZ_DETAILS: operands=[Variable(0), LargeConstant(1)] at code_space[0x03e0]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x01 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=992, byte=0x41, code_address=0x03e0, space_len=993
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03e0 -> 0x03e1 (offset 992) after emitting byte 0x41
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x03e1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03e1 -> 0x03e2 (offset 993) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x03e2 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=994, byte=0x01, code_address=0x03e2, space_len=995
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03e2 -> 0x03e3 (offset 994) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=3329 at address=0x03e3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x03e3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=995, byte=0x8d, code_address=0x03e3, space_len=996
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03e3 -> 0x03e4 (offset 995) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x03e4 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=996, byte=0x01, code_address=0x03e4, space_len=997
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03e4 -> 0x03e5 (offset 996) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_COMPARISON_BRANCH: Generated 5 bytes (0x03e0 -> 0x03e5), fixup at offset=0x03e3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: Generated 5 bytes (0x03e0 -> 0x03e5) via comparison branch
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 435 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 435 -> address 0x03e5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 439, object: 420, property_num: 29 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 439
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 420
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 420 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 439 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x03e5 operands=[Variable(0), LargeConstant(29)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x03e5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x03e5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x03e5 gen_addr=0x03e5 opcode=0x11 operands=[Variable(0), LargeConstant(29)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=997, byte=0x51, code_address=0x03e5, space_len=998
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03e5 -> 0x03e6 (offset 997) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x03e6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03e6 -> 0x03e7 (offset 998) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=999, byte=0x1d, code_address=0x03e7, space_len=1000
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03e7 -> 0x03e8 (offset 999) after emitting byte 0x1d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x03e8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03e8 -> 0x03e9 (offset 1000) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 73
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 439 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Branch { condition: 439, true_label: 441, false_label: 442 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: condition_id=439, true=441, false=442 at code_addr=0x03e9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] CHECKING_BINARY_OP_MAPPING: condition=439, mapping exists=false
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Condition 439 is not a comparison - using jz branch approach
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 439
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 439 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xa0 at PC=0x03e9 operands=[Variable(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x03e9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x03e9 gen_addr=0x03e9 opcode=0xa0 operands=[Variable(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xa0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x03e9 byte=0xa0 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1001, byte=0xa0, code_address=0x03e9, space_len=1002
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03e9 -> 0x03ea (offset 1001) after emitting byte 0xa0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x03ea
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03ea -> 0x03eb (offset 1002) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x03eb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x03eb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1003, byte=0xff, code_address=0x03eb, space_len=1004
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03eb -> 0x03ec (offset 1003) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x03ec
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1004, byte=0xff, code_address=0x03ec, space_len=1005
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03ec -> 0x03ed (offset 1004) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  JZ_BRANCH_REF_CREATE: code_space_offset=0x03eb target_id=442 (will convert to final address during assembly)
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen] 🔍 JZ_BRANCH_DEBUG: Created UnresolvedReference
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Code space offset: 0x03eb
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Target ID: 442
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Final code base: 0x0000
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Estimated final location: 0x03eb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Added jz branch reference: code_space_offset=0x03eb, target=442
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: Generated 4 bytes (0x03e9 -> 0x03ed)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 441 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 441 -> address 0x03ed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(440), function: 444, args: [420, 422] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 440
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] Legacy array_add_item builtin called - delegating to inline version
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 440 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 440 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ZERO BYTES: IR instruction generated no bytecode: Call { target: Some(440), function: 444, args: [420, 422] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Jump { label: 443 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xc1 at PC=0x03ed operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x03ed gen_addr=0x03ed opcode=0xc1 operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xc1 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xc1, store_var=None, branch_offset=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xc1, var_bit=0x00, instruction_byte=0xc1 at address 0x03ed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1005, byte=0xc1, code_address=0x03ed, space_len=1006
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03ed -> 0x03ee (offset 1005) after emitting byte 0xc1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x0f at address 0x03ee
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1006, byte=0x0f, code_address=0x03ee, space_len=1007
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03ee -> 0x03ef (offset 1006) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x03ef
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x03ef
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03ef -> 0x03f0 (offset 1007) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x03f0 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1008, byte=0x01, code_address=0x03f0, space_len=1009
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03f0 -> 0x03f1 (offset 1008) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x03f1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x03f1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03f1 -> 0x03f2 (offset 1009) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x03f2 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1010, byte=0x01, code_address=0x03f2, space_len=1011
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03f2 -> 0x03f3 (offset 1010) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=0 at address=0x03f3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1011, byte=0xc0, code_address=0x03f3, space_len=1012
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03f3 -> 0x03f4 (offset 1011) after emitting byte 0xc0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 442 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 442 -> address 0x03f4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 440, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 440
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 443 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 443 -> address 0x03f4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Jump { label: 437 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xc1 at PC=0x03f4 operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x03f4 gen_addr=0x03f4 opcode=0xc1 operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xc1 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xc1, store_var=None, branch_offset=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xc1, var_bit=0x00, instruction_byte=0xc1 at address 0x03f4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1012, byte=0xc1, code_address=0x03f4, space_len=1013
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03f4 -> 0x03f5 (offset 1012) after emitting byte 0xc1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x0f at address 0x03f5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1013, byte=0x0f, code_address=0x03f5, space_len=1014
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03f5 -> 0x03f6 (offset 1013) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x03f6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x03f6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03f6 -> 0x03f7 (offset 1014) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x03f7 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1015, byte=0x01, code_address=0x03f7, space_len=1016
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03f7 -> 0x03f8 (offset 1015) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x03f8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x03f8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03f8 -> 0x03f9 (offset 1016) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x03f9 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1017, byte=0x01, code_address=0x03f9, space_len=1018
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03f9 -> 0x03fa (offset 1017) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=0 at address=0x03fa
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1018, byte=0xc0, code_address=0x03fa, space_len=1019
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03fa -> 0x03fb (offset 1018) after emitting byte 0xc0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 436 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 436 -> address 0x03fb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 437 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 437 -> address 0x03fb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 445, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 445
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: BinaryOp { target: 446, op: Add, left: 428, right: 445 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: BinaryOp creates target IR ID 446
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] UNIFIED_BINARYOP_PROCESSING: target=446, op=Add, left=428, right=445
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 428
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 428 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 445
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 445 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Generating binary operation: Add with operands Variable(0), LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x14 at PC=0x03fb operands=[Variable(0), LargeConstant(1)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x03fb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x03fb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x03fb gen_addr=0x03fb opcode=0x14 operands=[Variable(0), LargeConstant(1)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x14 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1019, byte=0x54, code_address=0x03fb, space_len=1020
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03fb -> 0x03fc (offset 1019) after emitting byte 0x54
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x03fc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03fc -> 0x03fd (offset 1020) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x03fd opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1021, byte=0x01, code_address=0x03fd, space_len=1022
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03fd -> 0x03fe (offset 1021) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x03fe
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03fe -> 0x03ff (offset 1022) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (arithmetic) - depth now: 74
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 446 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] BinaryOp (Add) result: IR ID 446 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: StoreVar { var_id: 423, source: 446 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 446
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 446 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x0d at PC=0x03ff operands=[SmallConstant(0), Variable(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[1] reads from stack at PC=0x03ff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x03ff gen_addr=0x03ff opcode=0x0d operands=[SmallConstant(0), Variable(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x0d -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1023, byte=0x2d, code_address=0x03ff, space_len=1024
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x03ff -> 0x0400 (offset 1023) after emitting byte 0x2d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0400
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0400 -> 0x0401 (offset 1024) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0401
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0401 -> 0x0402 (offset 1025) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] StoreVar: IR ID 423 stored value from IR ID 446
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Jump { label: 425 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xc1 at PC=0x0402 operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0402 gen_addr=0x0402 opcode=0xc1 operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xc1 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xc1, store_var=None, branch_offset=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xc1, var_bit=0x00, instruction_byte=0xc1 at address 0x0402
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1026, byte=0xc1, code_address=0x0402, space_len=1027
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0402 -> 0x0403 (offset 1026) after emitting byte 0xc1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x0f at address 0x0403
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1027, byte=0x0f, code_address=0x0403, space_len=1028
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0403 -> 0x0404 (offset 1027) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0404
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0404
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0404 -> 0x0405 (offset 1028) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0405 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1029, byte=0x01, code_address=0x0405, space_len=1030
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0405 -> 0x0406 (offset 1029) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0406
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0406
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0406 -> 0x0407 (offset 1030) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0407 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1031, byte=0x01, code_address=0x0407, space_len=1032
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0407 -> 0x0408 (offset 1031) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=0 at address=0x0408
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1032, byte=0xc0, code_address=0x0408, space_len=1033
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0408 -> 0x0409 (offset 1032) after emitting byte 0xc0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 427 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 427 -> address 0x0409
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 447, object: 420, property_num: 20 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 447
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 420
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 420 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 447 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x0409 operands=[Variable(0), LargeConstant(20)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x0409
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x0409
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0409 gen_addr=0x0409 opcode=0x11 operands=[Variable(0), LargeConstant(20)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1033, byte=0x51, code_address=0x0409, space_len=1034
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0409 -> 0x040a (offset 1033) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x040a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x040a -> 0x040b (offset 1034) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1035, byte=0x14, code_address=0x040b, space_len=1036
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x040b -> 0x040c (offset 1035) after emitting byte 0x14
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x040c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x040c -> 0x040d (offset 1036) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 75
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 447 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Branch { condition: 447, true_label: 449, false_label: 450 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: condition_id=447, true=449, false=450 at code_addr=0x040d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] CHECKING_BINARY_OP_MAPPING: condition=447, mapping exists=false
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Condition 447 is not a comparison - using jz branch approach
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 447
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 447 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xa0 at PC=0x040d operands=[Variable(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x040d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x040d gen_addr=0x040d opcode=0xa0 operands=[Variable(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xa0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x040d byte=0xa0 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1037, byte=0xa0, code_address=0x040d, space_len=1038
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x040d -> 0x040e (offset 1037) after emitting byte 0xa0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x040e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x040e -> 0x040f (offset 1038) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x040f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x040f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1039, byte=0xff, code_address=0x040f, space_len=1040
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x040f -> 0x0410 (offset 1039) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0410
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1040, byte=0xff, code_address=0x0410, space_len=1041
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0410 -> 0x0411 (offset 1040) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  JZ_BRANCH_REF_CREATE: code_space_offset=0x040f target_id=450 (will convert to final address during assembly)
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen] 🔍 JZ_BRANCH_DEBUG: Created UnresolvedReference
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Code space offset: 0x040f
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Target ID: 450
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Final code base: 0x0000
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Estimated final location: 0x040f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Added jz branch reference: code_space_offset=0x040f, target=450
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: Generated 4 bytes (0x040d -> 0x0411)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 449 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 449 -> address 0x0411
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(448), function: 452, args: [420] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 448
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x21 at PC=0x0411 operands=[LargeConstant(0)] store=Some(192)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0411 gen_addr=0x0411 opcode=0x21 operands=[LargeConstant(0)] store_var=Some(192)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x21 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1041, byte=0x81, code_address=0x0411, space_len=1042
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0411 -> 0x0412 (offset 1041) after emitting byte 0x81
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0000 -> high_byte=0x00, low_byte=0x00 at code_address 0x0412
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  NULL_WORD_SOURCE: emit_word(0x0000) called at code_address 0x0412
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  This might be valid V3 default local values OR invalid placeholder operands
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0412
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0412 -> 0x0413 (offset 1042) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0413
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0413 -> 0x0414 (offset 1043) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1044, byte=0xc0, code_address=0x0414, space_len=1045
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0414 -> 0x0415 (offset 1044) after emitting byte 0xc0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 448 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 448 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Jump { label: 451 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xc1 at PC=0x0415 operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0415 gen_addr=0x0415 opcode=0xc1 operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xc1 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xc1, store_var=None, branch_offset=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xc1, var_bit=0x00, instruction_byte=0xc1 at address 0x0415
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1045, byte=0xc1, code_address=0x0415, space_len=1046
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0415 -> 0x0416 (offset 1045) after emitting byte 0xc1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x0f at address 0x0416
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1046, byte=0x0f, code_address=0x0416, space_len=1047
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0416 -> 0x0417 (offset 1046) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0417
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0417
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0417 -> 0x0418 (offset 1047) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0418 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1048, byte=0x01, code_address=0x0418, space_len=1049
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0418 -> 0x0419 (offset 1048) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0419
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0419
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0419 -> 0x041a (offset 1049) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x041a opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1050, byte=0x01, code_address=0x041a, space_len=1051
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x041a -> 0x041b (offset 1050) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=0 at address=0x041b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1051, byte=0xc0, code_address=0x041b, space_len=1052
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x041b -> 0x041c (offset 1051) after emitting byte 0xc0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 450 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 450 -> address 0x041c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 448, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 448
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 451 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 451 -> address 0x041c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: UnaryOp { target: 453, op: Not, operand: 448 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: UnaryOp creates target IR ID 453
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 448
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 448 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8f at PC=0x041c operands=[LargeConstant(1)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x041c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x041c gen_addr=0x041c opcode=0x8f operands=[LargeConstant(1)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8f -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0x8f, store_var=Some(0), branch_offset=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0x8f, var_bit=0x00, instruction_byte=0xcf at address 0x041c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1052, byte=0xcf, code_address=0x041c, space_len=1053
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x041c -> 0x041d (offset 1052) after emitting byte 0xcf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x3f at address 0x041d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1053, byte=0x3f, code_address=0x041d, space_len=1054
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x041d -> 0x041e (offset 1053) after emitting byte 0x3f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x041e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x041e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x041e -> 0x041f (offset 1054) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x041f opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1055, byte=0x01, code_address=0x041f, space_len=1056
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x041f -> 0x0420 (offset 1055) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0420
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0420 -> 0x0421 (offset 1056) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (generic) - depth now: 76
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 453 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Branch { condition: 453, true_label: 454, false_label: 455 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: condition_id=453, true=454, false=455 at code_addr=0x0421
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] CHECKING_BINARY_OP_MAPPING: condition=453, mapping exists=false
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Condition 453 is not a comparison - using jz branch approach
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 453
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 453 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xa0 at PC=0x0421 operands=[Variable(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x0421
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0421 gen_addr=0x0421 opcode=0xa0 operands=[Variable(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xa0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x0421 byte=0xa0 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1057, byte=0xa0, code_address=0x0421, space_len=1058
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0421 -> 0x0422 (offset 1057) after emitting byte 0xa0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0422
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0422 -> 0x0423 (offset 1058) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x0423
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0423
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1059, byte=0xff, code_address=0x0423, space_len=1060
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0423 -> 0x0424 (offset 1059) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0424
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1060, byte=0xff, code_address=0x0424, space_len=1061
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0424 -> 0x0425 (offset 1060) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  JZ_BRANCH_REF_CREATE: code_space_offset=0x0423 target_id=455 (will convert to final address during assembly)
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen] 🔍 JZ_BRANCH_DEBUG: Created UnresolvedReference
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Code space offset: 0x0423
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Target ID: 455
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Final code base: 0x0000
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Estimated final location: 0x0423
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Added jz branch reference: code_space_offset=0x0423, target=455
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: Generated 4 bytes (0x0421 -> 0x0425)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 454 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 454 -> address 0x0425
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 460, value: Integer(0) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 460
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: StoreVar { var_id: 459, source: 460 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 460
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 460 resolved to LargeConstant(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x0d at PC=0x0425 operands=[SmallConstant(0), LargeConstant(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0425 gen_addr=0x0425 opcode=0x0d operands=[SmallConstant(0), LargeConstant(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x0d -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1061, byte=0x0d, code_address=0x0425, space_len=1062
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0425 -> 0x0426 (offset 1061) after emitting byte 0x0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0426
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0426 -> 0x0427 (offset 1062) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0427
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0427 -> 0x0428 (offset 1063) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] StoreVar: IR ID 459 stored value from IR ID 460
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 461 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 461 -> address 0x0428
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadVar { target: 464, var_id: 459 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadVar creates target IR ID 464
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 459
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 459 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x21 at PC=0x0428 operands=[Variable(0)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x0428
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x0428
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0428 gen_addr=0x0428 opcode=0x21 operands=[Variable(0)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x21 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x0428 byte=0xa1 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1064, byte=0xa1, code_address=0x0428, space_len=1065
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0428 -> 0x0429 (offset 1064) after emitting byte 0xa1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0429
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0429 -> 0x042a (offset 1065) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x042a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x042a -> 0x042b (offset 1066) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack pop (store) - depth now: 75
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 464 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] LoadVar: IR ID 464 loaded from IR ID 459 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 465, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 465
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: BinaryOp { target: 466, op: Less, left: 464, right: 465 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: BinaryOp creates target IR ID 466
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] UNIFIED_BINARYOP_PROCESSING: target=466, op=Less, left=464, right=465
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 466 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Comparison BinaryOp registered: IR ID 466 -> stack, bytecode deferred to branch generation
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ZERO BYTES: IR instruction generated no bytecode: BinaryOp { target: 466, op: Less, left: 464, right: 465 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Branch { condition: 466, true_label: 462, false_label: 463 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: condition_id=466, true=462, false=463 at code_addr=0x042b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] CHECKING_BINARY_OP_MAPPING: condition=466, mapping exists=true
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] DIRECT_COMPARISON_BRANCH: Detected BinaryOp Less - generating direct Z-Machine branch instruction
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 464
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 464 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 465
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 465 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] GENERATING_DIRECT_BRANCH: Less with opcode 0x02, branching to 462 on true
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_COMPARISON_BRANCH: opcode=0x02, operands=[Variable(0), LargeConstant(1)], true=462, false=463 at code_addr=0x042b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x02 at PC=0x042b operands=[Variable(0), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x042b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x042b gen_addr=0x042b opcode=0x02 operands=[Variable(0), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x02 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1067, byte=0x42, code_address=0x042b, space_len=1068
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x042b -> 0x042c (offset 1067) after emitting byte 0x42
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x042c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x042c -> 0x042d (offset 1068) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x042d opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1069, byte=0x01, code_address=0x042d, space_len=1070
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x042d -> 0x042e (offset 1069) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=3329 at address=0x042e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x042e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1070, byte=0x8d, code_address=0x042e, space_len=1071
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x042e -> 0x042f (offset 1070) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x042f opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1071, byte=0x01, code_address=0x042f, space_len=1072
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x042f -> 0x0430 (offset 1071) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_COMPARISON_BRANCH: Generated 5 bytes (0x042b -> 0x0430), fixup at offset=0x042e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: Generated 5 bytes (0x042b -> 0x0430) via comparison branch
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 462 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 462 -> address 0x0430
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetArrayElement { target: 467, array: 420, index: 464 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 467 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8d at PC=0x0430 operands=[LargeConstant(1000)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x0430
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0430 gen_addr=0x0430 opcode=0x8d operands=[LargeConstant(1000)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8d -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x0430
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1072, byte=0x8d, code_address=0x0430, space_len=1073
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0430 -> 0x0431 (offset 1072) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x03e8 -> high_byte=0x03, low_byte=0xe8 at code_address 0x0431
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1073, byte=0x03, code_address=0x0431, space_len=1074
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0431 -> 0x0432 (offset 1073) after emitting byte 0x03
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1074, byte=0xe8, code_address=0x0432, space_len=1075
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0432 -> 0x0433 (offset 1074) after emitting byte 0xe8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0433
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0433 -> 0x0434 (offset 1075) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (generic) - depth now: 76
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetArrayElement: IR ID 467 -> stack (placeholder: 1000)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: StoreVar { var_id: 458, source: 467 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 467
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 467 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x0d at PC=0x0434 operands=[SmallConstant(0), Variable(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[1] reads from stack at PC=0x0434
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0434 gen_addr=0x0434 opcode=0x0d operands=[SmallConstant(0), Variable(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x0d -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1076, byte=0x2d, code_address=0x0434, space_len=1077
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0434 -> 0x0435 (offset 1076) after emitting byte 0x2d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0435
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0435 -> 0x0436 (offset 1077) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0436
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0436 -> 0x0437 (offset 1078) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] StoreVar: IR ID 458 stored value from IR ID 467
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 469, value: String("There is ") }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 469
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 470, object: 458, property_num: 1 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 470
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 458
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 458 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 470 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x0437 operands=[Variable(0), LargeConstant(1)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x0437
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x0437
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0437 gen_addr=0x0437 opcode=0x11 operands=[Variable(0), LargeConstant(1)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1079, byte=0x51, code_address=0x0437, space_len=1080
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0437 -> 0x0438 (offset 1079) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0438
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0438 -> 0x0439 (offset 1080) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0439 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1081, byte=0x01, code_address=0x0439, space_len=1082
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0439 -> 0x043a (offset 1081) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x043a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x043a -> 0x043b (offset 1082) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 77
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 470 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: BinaryOp { target: 471, op: Add, left: 469, right: 470 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: BinaryOp creates target IR ID 471
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] UNIFIED_BINARYOP_PROCESSING: target=471, op=Add, left=469, right=470
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'There is [RUNTIME_STACK_470]' -> 52 Z-chars -> 36 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 String concatenation: 'There is ' + '[RUNTIME_STACK_470]' = 'There is [RUNTIME_STACK_470]' (IR ID 471)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 471 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] BinaryOp (Add) result: IR ID 471 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ZERO BYTES: IR instruction generated no bytecode: BinaryOp { target: 471, op: Add, left: 469, right: 470 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 472, value: String(" here.") }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 472
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: BinaryOp { target: 473, op: Add, left: 471, right: 472 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: BinaryOp creates target IR ID 473
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] UNIFIED_BINARYOP_PROCESSING: target=473, op=Add, left=471, right=472
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'There is [RUNTIME_STACK_470] here.' -> 59 Z-chars -> 40 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 String concatenation: 'There is [RUNTIME_STACK_470]' + ' here.' = 'There is [RUNTIME_STACK_470] here.' (IR ID 473)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 473 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] BinaryOp (Add) result: IR ID 473 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ZERO BYTES: IR instruction generated no bytecode: BinaryOp { target: 473, op: Add, left: 471, right: 472 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(474), function: 41, args: [473] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 474
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] generate_print_builtin: Looking up string for IR ID 473
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available string IDs = [110, 213, 231, 237, 272, 351, 566, 257, 159, 175, 469, 376, 570, 214, 364, 167, 354, 472, 190, 210, 147, 179, 254, 125, 572, 129, 148, 144, 564, 215, 293, 568, 562, 118, 473, 100, 220, 471, 146, 270, 198]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available integer IDs = [76, 330, 340, 69, 344, 381, 465, 561, 261, 284, 279, 62, 342, 320, 385, 429, 178, 366, 316, 400, 440, 309, 217, 86, 445, 408, 448, 133, 243, 433, 312, 233, 321, 560, 302, 333, 392, 409, 241, 225, 424, 460, 559, 558, 66, 372, 414, 266, 274, 90, 79, 128, 323, 184]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string 'There is [RUNTIME_STACK_470] here.' -> 59 Z-chars -> 40 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]  OPTION_B_FIX: Added string ID 473 to encoding system: 'There is [RUNTIME_STACK_470] here.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8d at PC=0x043b operands=[LargeConstant(65535)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x043b gen_addr=0x043b opcode=0x8d operands=[LargeConstant(65535)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8d -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x043b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1083, byte=0x8d, code_address=0x043b, space_len=1084
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x043b -> 0x043c (offset 1083) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x043c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x043c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1084, byte=0xff, code_address=0x043c, space_len=1085
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x043c -> 0x043d (offset 1084) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x043d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1085, byte=0xff, code_address=0x043d, space_len=1086
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x043d -> 0x043e (offset 1085) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 474 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 474 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 475, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 475
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: BinaryOp { target: 476, op: Add, left: 464, right: 475 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: BinaryOp creates target IR ID 476
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] UNIFIED_BINARYOP_PROCESSING: target=476, op=Add, left=464, right=475
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 464
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 464 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 475
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 475 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Generating binary operation: Add with operands Variable(0), LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x14 at PC=0x043e operands=[Variable(0), LargeConstant(1)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x043e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x043e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x043e gen_addr=0x043e opcode=0x14 operands=[Variable(0), LargeConstant(1)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x14 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1086, byte=0x54, code_address=0x043e, space_len=1087
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x043e -> 0x043f (offset 1086) after emitting byte 0x54
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x043f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x043f -> 0x0440 (offset 1087) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0440 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1088, byte=0x01, code_address=0x0440, space_len=1089
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0440 -> 0x0441 (offset 1088) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0441
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0441 -> 0x0442 (offset 1089) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (arithmetic) - depth now: 78
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 476 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] BinaryOp (Add) result: IR ID 476 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: StoreVar { var_id: 459, source: 476 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 476
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 476 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x0d at PC=0x0442 operands=[SmallConstant(0), Variable(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[1] reads from stack at PC=0x0442
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0442 gen_addr=0x0442 opcode=0x0d operands=[SmallConstant(0), Variable(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x0d -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1090, byte=0x2d, code_address=0x0442, space_len=1091
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0442 -> 0x0443 (offset 1090) after emitting byte 0x2d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0443
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0443 -> 0x0444 (offset 1091) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0444
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0444 -> 0x0445 (offset 1092) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] StoreVar: IR ID 459 stored value from IR ID 476
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Jump { label: 461 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xc1 at PC=0x0445 operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0445 gen_addr=0x0445 opcode=0xc1 operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xc1 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xc1, store_var=None, branch_offset=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xc1, var_bit=0x00, instruction_byte=0xc1 at address 0x0445
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1093, byte=0xc1, code_address=0x0445, space_len=1094
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0445 -> 0x0446 (offset 1093) after emitting byte 0xc1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x0f at address 0x0446
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1094, byte=0x0f, code_address=0x0446, space_len=1095
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0446 -> 0x0447 (offset 1094) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0447
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0447
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0447 -> 0x0448 (offset 1095) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0448 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1096, byte=0x01, code_address=0x0448, space_len=1097
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0448 -> 0x0449 (offset 1096) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0449
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0449
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0449 -> 0x044a (offset 1097) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x044a opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1098, byte=0x01, code_address=0x044a, space_len=1099
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x044a -> 0x044b (offset 1098) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=0 at address=0x044b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1099, byte=0xc0, code_address=0x044b, space_len=1100
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x044b -> 0x044c (offset 1099) after emitting byte 0xc0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 463 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 463 -> address 0x044c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Jump { label: 456 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xc1 at PC=0x044c operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x044c gen_addr=0x044c opcode=0xc1 operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xc1 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xc1, store_var=None, branch_offset=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xc1, var_bit=0x00, instruction_byte=0xc1 at address 0x044c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1100, byte=0xc1, code_address=0x044c, space_len=1101
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x044c -> 0x044d (offset 1100) after emitting byte 0xc1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x0f at address 0x044d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1101, byte=0x0f, code_address=0x044d, space_len=1102
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x044d -> 0x044e (offset 1101) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x044e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x044e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x044e -> 0x044f (offset 1102) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x044f opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1103, byte=0x01, code_address=0x044f, space_len=1104
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x044f -> 0x0450 (offset 1103) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0450
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0450
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0450 -> 0x0451 (offset 1104) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0451 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1105, byte=0x01, code_address=0x0451, space_len=1106
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0451 -> 0x0452 (offset 1105) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=0 at address=0x0452
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1106, byte=0xc0, code_address=0x0452, space_len=1107
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0452 -> 0x0453 (offset 1106) after emitting byte 0xc0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 455 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 455 -> address 0x0453
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 456 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 456 -> address 0x0453
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Function 'list_objects' ends with return: false
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Adding implicit return to function 'list_objects'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xb0 at PC=0x0453 operands=[] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0453 gen_addr=0x0453 opcode=0xb0 operands=[] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xb0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0xb0 (rtrue) at address 0x0453
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1107, byte=0xb0, code_address=0x0453, space_len=1108
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0453 -> 0x0454 (offset 1107) after emitting byte 0xb0
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]  Function 'list_objects' complete: 179 bytes generated
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FINALIZE: Function 'list_objects' used 0 local variables during generation
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] ❌ PATCH_ERROR: No header location found for function 12 ('list_objects')
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  TRANSLATING: Function #12: 'list_contents' (29 instructions)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ALIGN: Function 'list_contents' before alignment at code_address=0x0454
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ALIGN: Function 'list_contents' after alignment at code_address=0x0454
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ADDRESS_FIX: Function 'list_contents' stored at relative address 0x0454 (Phase 2)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record code offset: Recording IR ID 13 -> code_space_offset 0x0454
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record code offset: This will be converted to absolute address during final assembly
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_UPDATED: 'list_contents' (ID 13) updated to actual address 0x0454
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PARAMETER_SETUP: Function 'list_contents' has 1 parameters
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  Parameter mapping: 'container' (IR ID 477) -> local variable slot 1 for function 'list_contents'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  GENERATING: Routine header for 'list_contents' with 3 locals
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_START: Reset local variable counter for function 'list_contents'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_LOCALS: 'list_contents' declared=3, using=3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Generating V3 header: 3 declared locals for function 'list_contents'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1108, byte=0x03, code_address=0x0454, space_len=1109
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0454 -> 0x0455 (offset 1108) after emitting byte 0x03
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0000 -> high_byte=0x00, low_byte=0x00 at code_address 0x0455
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  NULL_WORD_SOURCE: emit_word(0x0000) called at code_address 0x0455
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  This might be valid V3 default local values OR invalid placeholder operands
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0455
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0455 -> 0x0456 (offset 1109) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0456
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0456 -> 0x0457 (offset 1110) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitted default value for local 1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0000 -> high_byte=0x00, low_byte=0x00 at code_address 0x0457
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  NULL_WORD_SOURCE: emit_word(0x0000) called at code_address 0x0457
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  This might be valid V3 default local values OR invalid placeholder operands
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0457
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0457 -> 0x0458 (offset 1111) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0458
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0458 -> 0x0459 (offset 1112) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitted default value for local 2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0000 -> high_byte=0x00, low_byte=0x00 at code_address 0x0459
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  NULL_WORD_SOURCE: emit_word(0x0000) called at code_address 0x0459
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  This might be valid V3 default local values OR invalid placeholder operands
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0459
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0459 -> 0x045a (offset 1113) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x045a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x045a -> 0x045b (offset 1114) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitted default value for local 3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 480, object: 477, property_num: 21 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 480
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 477
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 477 resolved to Variable(1) [Local parameter]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 480 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x045b operands=[Variable(1), LargeConstant(21)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x045b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x045b gen_addr=0x045b opcode=0x11 operands=[Variable(1), LargeConstant(21)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1115, byte=0x51, code_address=0x045b, space_len=1116
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x045b -> 0x045c (offset 1115) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(1) -> Z-Machine variable 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x045c opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1116, byte=0x01, code_address=0x045c, space_len=1117
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x045c -> 0x045d (offset 1116) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1117, byte=0x15, code_address=0x045d, space_len=1118
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x045d -> 0x045e (offset 1117) after emitting byte 0x15
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x045e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x045e -> 0x045f (offset 1118) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 79
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 480 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Branch { condition: 480, true_label: 482, false_label: 483 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: condition_id=480, true=482, false=483 at code_addr=0x045f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] CHECKING_BINARY_OP_MAPPING: condition=480, mapping exists=false
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Condition 480 is not a comparison - using jz branch approach
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 480
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 480 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xa0 at PC=0x045f operands=[Variable(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x045f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x045f gen_addr=0x045f opcode=0xa0 operands=[Variable(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xa0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x045f byte=0xa0 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1119, byte=0xa0, code_address=0x045f, space_len=1120
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x045f -> 0x0460 (offset 1119) after emitting byte 0xa0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0460
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0460 -> 0x0461 (offset 1120) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x0461
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0461
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1121, byte=0xff, code_address=0x0461, space_len=1122
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0461 -> 0x0462 (offset 1121) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0462
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1122, byte=0xff, code_address=0x0462, space_len=1123
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0462 -> 0x0463 (offset 1122) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  JZ_BRANCH_REF_CREATE: code_space_offset=0x0461 target_id=483 (will convert to final address during assembly)
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen] 🔍 JZ_BRANCH_DEBUG: Created UnresolvedReference
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Code space offset: 0x0461
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Target ID: 483
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Final code base: 0x0000
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Estimated final location: 0x0461
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Added jz branch reference: code_space_offset=0x0461, target=483
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: Generated 4 bytes (0x045f -> 0x0463)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 482 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 482 -> address 0x0463
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: CreateArray { target: 485, size: Integer(10) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: CreateArray creates target IR ID 485
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Creating array with size Integer(10)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 485 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] CreateArray: IR ID 485 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x21 at PC=0x0463 operands=[LargeConstant(10)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x0463
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0463 gen_addr=0x0463 opcode=0x21 operands=[LargeConstant(10)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x21 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1123, byte=0x81, code_address=0x0463, space_len=1124
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0463 -> 0x0464 (offset 1123) after emitting byte 0x81
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x000a -> high_byte=0x00, low_byte=0x0a at code_address 0x0464
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0464
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0464 -> 0x0465 (offset 1124) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1125, byte=0x0a, code_address=0x0465, space_len=1126
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0465 -> 0x0466 (offset 1125) after emitting byte 0x0a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0466
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0466 -> 0x0467 (offset 1126) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(481), function: 486, args: [477] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 481
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] Generating get_object_contents for object IR ID 477
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 477
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 477 resolved to Variable(1) [Local parameter]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] get_object_contents: resolved IR ID 477 to operand Variable(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] get_object_contents target mapping: IR ID 481 -> stack variable 0
[2025-09-12T15:05:07Z WARN  gruesome::grue_compiler::codegen_builtins] get_object_contents: object resolved to Variable(1), using placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x21 at PC=0x0467 operands=[LargeConstant(1)] store=Some(225)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0467 gen_addr=0x0467 opcode=0x21 operands=[LargeConstant(1)] store_var=Some(225)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x21 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1127, byte=0x81, code_address=0x0467, space_len=1128
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0467 -> 0x0468 (offset 1127) after emitting byte 0x81
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0468
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0468
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0468 -> 0x0469 (offset 1128) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0469 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1129, byte=0x01, code_address=0x0469, space_len=1130
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0469 -> 0x046a (offset 1129) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1130, byte=0xe1, code_address=0x046a, space_len=1131
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x046a -> 0x046b (offset 1130) after emitting byte 0xe1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 481 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 481 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Jump { label: 484 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xc1 at PC=0x046b operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x046b gen_addr=0x046b opcode=0xc1 operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xc1 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xc1, store_var=None, branch_offset=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xc1, var_bit=0x00, instruction_byte=0xc1 at address 0x046b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1131, byte=0xc1, code_address=0x046b, space_len=1132
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x046b -> 0x046c (offset 1131) after emitting byte 0xc1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x0f at address 0x046c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1132, byte=0x0f, code_address=0x046c, space_len=1133
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x046c -> 0x046d (offset 1132) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x046d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x046d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x046d -> 0x046e (offset 1133) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x046e opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1134, byte=0x01, code_address=0x046e, space_len=1135
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x046e -> 0x046f (offset 1134) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x046f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x046f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x046f -> 0x0470 (offset 1135) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0470 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1136, byte=0x01, code_address=0x0470, space_len=1137
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0470 -> 0x0471 (offset 1136) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=0 at address=0x0471
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1137, byte=0xc0, code_address=0x0471, space_len=1138
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0471 -> 0x0472 (offset 1137) after emitting byte 0xc0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 483 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 483 -> address 0x0472
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 481, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 481
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 484 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 484 -> address 0x0472
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: StoreVar { var_id: 479, source: 481 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 481
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 481 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x0d at PC=0x0472 operands=[SmallConstant(0), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0472 gen_addr=0x0472 opcode=0x0d operands=[SmallConstant(0), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x0d -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1138, byte=0x0d, code_address=0x0472, space_len=1139
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0472 -> 0x0473 (offset 1138) after emitting byte 0x0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0473
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0473 -> 0x0474 (offset 1139) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0474 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1140, byte=0x01, code_address=0x0474, space_len=1141
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0474 -> 0x0475 (offset 1140) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] StoreVar: IR ID 479 stored value from IR ID 481
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 489, value: Integer(0) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 489
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: StoreVar { var_id: 488, source: 489 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 489
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 489 resolved to LargeConstant(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x0d at PC=0x0475 operands=[SmallConstant(0), LargeConstant(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0475 gen_addr=0x0475 opcode=0x0d operands=[SmallConstant(0), LargeConstant(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x0d -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1141, byte=0x0d, code_address=0x0475, space_len=1142
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0475 -> 0x0476 (offset 1141) after emitting byte 0x0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0476
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0476 -> 0x0477 (offset 1142) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0477
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0477 -> 0x0478 (offset 1143) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] StoreVar: IR ID 488 stored value from IR ID 489
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 490 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 490 -> address 0x0478
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadVar { target: 493, var_id: 488 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadVar creates target IR ID 493
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 488
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 488 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x21 at PC=0x0478 operands=[Variable(0)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x0478
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x0478
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0478 gen_addr=0x0478 opcode=0x21 operands=[Variable(0)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x21 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x0478 byte=0xa1 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1144, byte=0xa1, code_address=0x0478, space_len=1145
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0478 -> 0x0479 (offset 1144) after emitting byte 0xa1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0479
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0479 -> 0x047a (offset 1145) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x047a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x047a -> 0x047b (offset 1146) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack pop (store) - depth now: 78
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 493 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] LoadVar: IR ID 493 loaded from IR ID 488 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 494, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 494
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: BinaryOp { target: 495, op: Less, left: 493, right: 494 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: BinaryOp creates target IR ID 495
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] UNIFIED_BINARYOP_PROCESSING: target=495, op=Less, left=493, right=494
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 495 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Comparison BinaryOp registered: IR ID 495 -> stack, bytecode deferred to branch generation
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ZERO BYTES: IR instruction generated no bytecode: BinaryOp { target: 495, op: Less, left: 493, right: 494 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Branch { condition: 495, true_label: 491, false_label: 492 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: condition_id=495, true=491, false=492 at code_addr=0x047b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] CHECKING_BINARY_OP_MAPPING: condition=495, mapping exists=true
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] DIRECT_COMPARISON_BRANCH: Detected BinaryOp Less - generating direct Z-Machine branch instruction
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 493
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 493 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 494
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 494 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] GENERATING_DIRECT_BRANCH: Less with opcode 0x02, branching to 491 on true
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_COMPARISON_BRANCH: opcode=0x02, operands=[Variable(0), LargeConstant(1)], true=491, false=492 at code_addr=0x047b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x02 at PC=0x047b operands=[Variable(0), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x047b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x047b gen_addr=0x047b opcode=0x02 operands=[Variable(0), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x02 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1147, byte=0x42, code_address=0x047b, space_len=1148
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x047b -> 0x047c (offset 1147) after emitting byte 0x42
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x047c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x047c -> 0x047d (offset 1148) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x047d opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1149, byte=0x01, code_address=0x047d, space_len=1150
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x047d -> 0x047e (offset 1149) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=3329 at address=0x047e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x047e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1150, byte=0x8d, code_address=0x047e, space_len=1151
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x047e -> 0x047f (offset 1150) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x047f opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1151, byte=0x01, code_address=0x047f, space_len=1152
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x047f -> 0x0480 (offset 1151) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_COMPARISON_BRANCH: Generated 5 bytes (0x047b -> 0x0480), fixup at offset=0x047e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: Generated 5 bytes (0x047b -> 0x0480) via comparison branch
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 491 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 491 -> address 0x0480
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetArrayElement { target: 496, array: 479, index: 493 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 496 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8d at PC=0x0480 operands=[LargeConstant(1000)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x0480
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0480 gen_addr=0x0480 opcode=0x8d operands=[LargeConstant(1000)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8d -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x0480
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1152, byte=0x8d, code_address=0x0480, space_len=1153
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0480 -> 0x0481 (offset 1152) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x03e8 -> high_byte=0x03, low_byte=0xe8 at code_address 0x0481
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1153, byte=0x03, code_address=0x0481, space_len=1154
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0481 -> 0x0482 (offset 1153) after emitting byte 0x03
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1154, byte=0xe8, code_address=0x0482, space_len=1155
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0482 -> 0x0483 (offset 1154) after emitting byte 0xe8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0483
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0483 -> 0x0484 (offset 1155) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (generic) - depth now: 79
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetArrayElement: IR ID 496 -> stack (placeholder: 1000)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: StoreVar { var_id: 487, source: 496 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 496
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 496 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x0d at PC=0x0484 operands=[SmallConstant(0), Variable(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[1] reads from stack at PC=0x0484
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0484 gen_addr=0x0484 opcode=0x0d operands=[SmallConstant(0), Variable(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x0d -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1156, byte=0x2d, code_address=0x0484, space_len=1157
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0484 -> 0x0485 (offset 1156) after emitting byte 0x2d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0485
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0485 -> 0x0486 (offset 1157) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0486
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0486 -> 0x0487 (offset 1158) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] StoreVar: IR ID 487 stored value from IR ID 496
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 498, value: String("  ") }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 498
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 499, object: 487, property_num: 1 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 499
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 487
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 487 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 499 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x0487 operands=[Variable(0), LargeConstant(1)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x0487
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x0487
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0487 gen_addr=0x0487 opcode=0x11 operands=[Variable(0), LargeConstant(1)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1159, byte=0x51, code_address=0x0487, space_len=1160
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0487 -> 0x0488 (offset 1159) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0488
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0488 -> 0x0489 (offset 1160) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0489 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1161, byte=0x01, code_address=0x0489, space_len=1162
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0489 -> 0x048a (offset 1161) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x048a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x048a -> 0x048b (offset 1162) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 80
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 499 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: BinaryOp { target: 500, op: Add, left: 498, right: 499 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: BinaryOp creates target IR ID 500
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] UNIFIED_BINARYOP_PROCESSING: target=500, op=Add, left=498, right=499
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string '  [RUNTIME_STACK_499]' -> 44 Z-chars -> 30 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 String concatenation: '  ' + '[RUNTIME_STACK_499]' = '  [RUNTIME_STACK_499]' (IR ID 500)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 500 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] BinaryOp (Add) result: IR ID 500 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ZERO BYTES: IR instruction generated no bytecode: BinaryOp { target: 500, op: Add, left: 498, right: 499 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(501), function: 41, args: [500] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 501
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] generate_print_builtin: Looking up string for IR ID 500
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available string IDs = [110, 213, 231, 237, 272, 351, 566, 257, 159, 175, 469, 500, 376, 570, 214, 364, 167, 354, 472, 190, 210, 147, 179, 254, 125, 572, 129, 148, 144, 564, 215, 293, 568, 562, 118, 473, 100, 220, 471, 146, 270, 498, 198]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available integer IDs = [344, 128, 184, 489, 561, 284, 279, 62, 342, 320, 385, 440, 445, 316, 217, 408, 475, 243, 433, 312, 321, 392, 424, 225, 460, 372, 323, 79, 69, 465, 261, 429, 178, 366, 400, 481, 309, 86, 448, 133, 494, 233, 560, 302, 333, 409, 241, 559, 558, 66, 414, 266, 274, 381, 330, 340, 90, 76]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string '  [RUNTIME_STACK_499]' -> 44 Z-chars -> 30 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]  OPTION_B_FIX: Added string ID 500 to encoding system: '  [RUNTIME_STACK_499]'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8d at PC=0x048b operands=[LargeConstant(65535)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x048b gen_addr=0x048b opcode=0x8d operands=[LargeConstant(65535)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8d -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x048b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1163, byte=0x8d, code_address=0x048b, space_len=1164
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x048b -> 0x048c (offset 1163) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x048c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x048c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1164, byte=0xff, code_address=0x048c, space_len=1165
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x048c -> 0x048d (offset 1164) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x048d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1165, byte=0xff, code_address=0x048d, space_len=1166
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x048d -> 0x048e (offset 1165) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 501 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 501 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 502, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 502
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: BinaryOp { target: 503, op: Add, left: 493, right: 502 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: BinaryOp creates target IR ID 503
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] UNIFIED_BINARYOP_PROCESSING: target=503, op=Add, left=493, right=502
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 493
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 493 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 502
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 502 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Generating binary operation: Add with operands Variable(0), LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x14 at PC=0x048e operands=[Variable(0), LargeConstant(1)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x048e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x048e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x048e gen_addr=0x048e opcode=0x14 operands=[Variable(0), LargeConstant(1)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x14 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1166, byte=0x54, code_address=0x048e, space_len=1167
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x048e -> 0x048f (offset 1166) after emitting byte 0x54
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x048f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x048f -> 0x0490 (offset 1167) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0490 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1168, byte=0x01, code_address=0x0490, space_len=1169
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0490 -> 0x0491 (offset 1168) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0491
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0491 -> 0x0492 (offset 1169) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (arithmetic) - depth now: 81
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 503 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] BinaryOp (Add) result: IR ID 503 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: StoreVar { var_id: 488, source: 503 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 503
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 503 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x0d at PC=0x0492 operands=[SmallConstant(0), Variable(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[1] reads from stack at PC=0x0492
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0492 gen_addr=0x0492 opcode=0x0d operands=[SmallConstant(0), Variable(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x0d -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1170, byte=0x2d, code_address=0x0492, space_len=1171
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0492 -> 0x0493 (offset 1170) after emitting byte 0x2d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0493
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0493 -> 0x0494 (offset 1171) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0494
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0494 -> 0x0495 (offset 1172) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] StoreVar: IR ID 488 stored value from IR ID 503
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Jump { label: 490 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xc1 at PC=0x0495 operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0495 gen_addr=0x0495 opcode=0xc1 operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xc1 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xc1, store_var=None, branch_offset=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xc1, var_bit=0x00, instruction_byte=0xc1 at address 0x0495
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1173, byte=0xc1, code_address=0x0495, space_len=1174
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0495 -> 0x0496 (offset 1173) after emitting byte 0xc1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x0f at address 0x0496
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1174, byte=0x0f, code_address=0x0496, space_len=1175
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0496 -> 0x0497 (offset 1174) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0497
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0497
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0497 -> 0x0498 (offset 1175) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0498 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1176, byte=0x01, code_address=0x0498, space_len=1177
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0498 -> 0x0499 (offset 1176) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0499
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0499
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0499 -> 0x049a (offset 1177) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x049a opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1178, byte=0x01, code_address=0x049a, space_len=1179
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x049a -> 0x049b (offset 1178) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=0 at address=0x049b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1179, byte=0xc0, code_address=0x049b, space_len=1180
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x049b -> 0x049c (offset 1179) after emitting byte 0xc0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 492 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 492 -> address 0x049c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Function 'list_contents' ends with return: false
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Adding implicit return to function 'list_contents'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xb0 at PC=0x049c operands=[] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x049c gen_addr=0x049c opcode=0xb0 operands=[] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xb0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0xb0 (rtrue) at address 0x049c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1180, byte=0xb0, code_address=0x049c, space_len=1181
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x049c -> 0x049d (offset 1180) after emitting byte 0xb0
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]  Function 'list_contents' complete: 73 bytes generated
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FINALIZE: Function 'list_contents' used 0 local variables during generation
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] ❌ PATCH_ERROR: No header location found for function 13 ('list_contents')
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  TRANSLATING: Function #13: 'take_all' (58 instructions)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ALIGN: Function 'take_all' before alignment at code_address=0x049d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ALIGN: Adding padding byte for even alignment
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x049d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x049d -> 0x049e (offset 1181) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ALIGN: Function 'take_all' after alignment at code_address=0x049e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ADDRESS_FIX: Function 'take_all' stored at relative address 0x049e (Phase 2)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record code offset: Recording IR ID 14 -> code_space_offset 0x049e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record code offset: This will be converted to absolute address during final assembly
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_UPDATED: 'take_all' (ID 14) updated to actual address 0x049e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PARAMETER_SETUP: Function 'take_all' has 0 parameters
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  GENERATING: Routine header for 'take_all' with 3 locals
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_START: Reset local variable counter for function 'take_all'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_LOCALS: 'take_all' declared=3, using=3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Generating V3 header: 3 declared locals for function 'take_all'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1182, byte=0x03, code_address=0x049e, space_len=1183
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x049e -> 0x049f (offset 1182) after emitting byte 0x03
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0000 -> high_byte=0x00, low_byte=0x00 at code_address 0x049f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  NULL_WORD_SOURCE: emit_word(0x0000) called at code_address 0x049f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  This might be valid V3 default local values OR invalid placeholder operands
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x049f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x049f -> 0x04a0 (offset 1183) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x04a0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04a0 -> 0x04a1 (offset 1184) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitted default value for local 1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0000 -> high_byte=0x00, low_byte=0x00 at code_address 0x04a1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  NULL_WORD_SOURCE: emit_word(0x0000) called at code_address 0x04a1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  This might be valid V3 default local values OR invalid placeholder operands
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x04a1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04a1 -> 0x04a2 (offset 1185) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x04a2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04a2 -> 0x04a3 (offset 1186) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitted default value for local 2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0000 -> high_byte=0x00, low_byte=0x00 at code_address 0x04a3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  NULL_WORD_SOURCE: emit_word(0x0000) called at code_address 0x04a3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  This might be valid V3 default local values OR invalid placeholder operands
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x04a3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04a3 -> 0x04a4 (offset 1187) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x04a4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04a4 -> 0x04a5 (offset 1188) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitted default value for local 3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 506, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 506
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 507, object: 506, property_num: 13 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 507
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 506
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 506 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 507 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x04a5 operands=[LargeConstant(1), LargeConstant(13)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x04a5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x04a5 gen_addr=0x04a5 opcode=0x11 operands=[LargeConstant(1), LargeConstant(13)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1189, byte=0x11, code_address=0x04a5, space_len=1190
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04a5 -> 0x04a6 (offset 1189) after emitting byte 0x11
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x04a6 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1190, byte=0x01, code_address=0x04a6, space_len=1191
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04a6 -> 0x04a7 (offset 1190) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1191, byte=0x0d, code_address=0x04a7, space_len=1192
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04a7 -> 0x04a8 (offset 1191) after emitting byte 0x0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x04a8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04a8 -> 0x04a9 (offset 1192) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 82
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 507 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 508, object: 507, property_num: 21 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 508
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 507
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 507 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 508 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x04a9 operands=[Variable(0), LargeConstant(21)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x04a9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x04a9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x04a9 gen_addr=0x04a9 opcode=0x11 operands=[Variable(0), LargeConstant(21)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1193, byte=0x51, code_address=0x04a9, space_len=1194
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04a9 -> 0x04aa (offset 1193) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x04aa
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04aa -> 0x04ab (offset 1194) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1195, byte=0x15, code_address=0x04ab, space_len=1196
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04ab -> 0x04ac (offset 1195) after emitting byte 0x15
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x04ac
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04ac -> 0x04ad (offset 1196) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 83
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 508 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Branch { condition: 508, true_label: 510, false_label: 511 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: condition_id=508, true=510, false=511 at code_addr=0x04ad
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] CHECKING_BINARY_OP_MAPPING: condition=508, mapping exists=false
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Condition 508 is not a comparison - using jz branch approach
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 508
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 508 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xa0 at PC=0x04ad operands=[Variable(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x04ad
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x04ad gen_addr=0x04ad opcode=0xa0 operands=[Variable(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xa0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x04ad byte=0xa0 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1197, byte=0xa0, code_address=0x04ad, space_len=1198
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04ad -> 0x04ae (offset 1197) after emitting byte 0xa0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x04ae
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04ae -> 0x04af (offset 1198) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x04af
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x04af
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1199, byte=0xff, code_address=0x04af, space_len=1200
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04af -> 0x04b0 (offset 1199) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x04b0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1200, byte=0xff, code_address=0x04b0, space_len=1201
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04b0 -> 0x04b1 (offset 1200) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  JZ_BRANCH_REF_CREATE: code_space_offset=0x04af target_id=511 (will convert to final address during assembly)
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen] 🔍 JZ_BRANCH_DEBUG: Created UnresolvedReference
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Code space offset: 0x04af
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Target ID: 511
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Final code base: 0x0000
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen]   Estimated final location: 0x04af
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Added jz branch reference: code_space_offset=0x04af, target=511
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: Generated 4 bytes (0x04ad -> 0x04b1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 510 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 510 -> address 0x04b1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: CreateArray { target: 513, size: Integer(10) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: CreateArray creates target IR ID 513
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Creating array with size Integer(10)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 513 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] CreateArray: IR ID 513 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x21 at PC=0x04b1 operands=[LargeConstant(10)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x04b1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x04b1 gen_addr=0x04b1 opcode=0x21 operands=[LargeConstant(10)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x21 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1201, byte=0x81, code_address=0x04b1, space_len=1202
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04b1 -> 0x04b2 (offset 1201) after emitting byte 0x81
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x000a -> high_byte=0x00, low_byte=0x0a at code_address 0x04b2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x04b2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04b2 -> 0x04b3 (offset 1202) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1203, byte=0x0a, code_address=0x04b3, space_len=1204
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04b3 -> 0x04b4 (offset 1203) after emitting byte 0x0a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x04b4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04b4 -> 0x04b5 (offset 1204) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(509), function: 514, args: [507] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 509
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] Generating get_object_contents for object IR ID 507
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 507
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 507 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] get_object_contents: resolved IR ID 507 to operand Variable(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] get_object_contents target mapping: IR ID 509 -> stack variable 0
[2025-09-12T15:05:07Z WARN  gruesome::grue_compiler::codegen_builtins] get_object_contents: object resolved to Variable(0), using placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x21 at PC=0x04b5 operands=[LargeConstant(1)] store=Some(253)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x04b5 gen_addr=0x04b5 opcode=0x21 operands=[LargeConstant(1)] store_var=Some(253)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x21 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1205, byte=0x81, code_address=0x04b5, space_len=1206
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04b5 -> 0x04b6 (offset 1205) after emitting byte 0x81
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x04b6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x04b6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04b6 -> 0x04b7 (offset 1206) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x04b7 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1207, byte=0x01, code_address=0x04b7, space_len=1208
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04b7 -> 0x04b8 (offset 1207) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1208, byte=0xfd, code_address=0x04b8, space_len=1209
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04b8 -> 0x04b9 (offset 1208) after emitting byte 0xfd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 509 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 509 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Jump { label: 512 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xc1 at PC=0x04b9 operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x04b9 gen_addr=0x04b9 opcode=0xc1 operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xc1 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xc1, store_var=None, branch_offset=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xc1, var_bit=0x00, instruction_byte=0xc1 at address 0x04b9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1209, byte=0xc1, code_address=0x04b9, space_len=1210
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04b9 -> 0x04ba (offset 1209) after emitting byte 0xc1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x0f at address 0x04ba
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1210, byte=0x0f, code_address=0x04ba, space_len=1211
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04ba -> 0x04bb (offset 1210) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x04bb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x04bb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04bb -> 0x04bc (offset 1211) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x04bc opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1212, byte=0x01, code_address=0x04bc, space_len=1213
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04bc -> 0x04bd (offset 1212) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x04bd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x04bd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04bd -> 0x04be (offset 1213) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x04be opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1214, byte=0x01, code_address=0x04be, space_len=1215
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04be -> 0x04bf (offset 1214) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=0 at address=0x04bf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1215, byte=0xc0, code_address=0x04bf, space_len=1216
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04bf -> 0x04c0 (offset 1215) after emitting byte 0xc0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 511 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 511 -> address 0x04c0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 509, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 509
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 512 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 512 -> address 0x04c0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: StoreVar { var_id: 505, source: 509 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 509
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 509 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x0d at PC=0x04c0 operands=[SmallConstant(0), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x04c0 gen_addr=0x04c0 opcode=0x0d operands=[SmallConstant(0), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x0d -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1216, byte=0x0d, code_address=0x04c0, space_len=1217
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04c0 -> 0x04c1 (offset 1216) after emitting byte 0x0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x04c1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04c1 -> 0x04c2 (offset 1217) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x04c2 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1218, byte=0x01, code_address=0x04c2, space_len=1219
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04c2 -> 0x04c3 (offset 1218) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] StoreVar: IR ID 505 stored value from IR ID 509
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 516, value: Integer(0) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 516
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: StoreVar { var_id: 515, source: 516 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 516
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 516 resolved to LargeConstant(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x0d at PC=0x04c3 operands=[SmallConstant(0), LargeConstant(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x04c3 gen_addr=0x04c3 opcode=0x0d operands=[SmallConstant(0), LargeConstant(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x0d -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1219, byte=0x0d, code_address=0x04c3, space_len=1220
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04c3 -> 0x04c4 (offset 1219) after emitting byte 0x0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x04c4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04c4 -> 0x04c5 (offset 1220) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x04c5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04c5 -> 0x04c6 (offset 1221) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] StoreVar: IR ID 515 stored value from IR ID 516
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 519, value: Integer(0) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 519
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: StoreVar { var_id: 518, source: 519 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 519
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 519 resolved to LargeConstant(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x0d at PC=0x04c6 operands=[SmallConstant(0), LargeConstant(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x04c6 gen_addr=0x04c6 opcode=0x0d operands=[SmallConstant(0), LargeConstant(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x0d -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1222, byte=0x0d, code_address=0x04c6, space_len=1223
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04c6 -> 0x04c7 (offset 1222) after emitting byte 0x0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x04c7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04c7 -> 0x04c8 (offset 1223) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x04c8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04c8 -> 0x04c9 (offset 1224) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] StoreVar: IR ID 518 stored value from IR ID 519
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 520 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 520 -> address 0x04c9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadVar { target: 523, var_id: 518 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadVar creates target IR ID 523
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 518
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 518 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x21 at PC=0x04c9 operands=[Variable(0)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x04c9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x04c9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x04c9 gen_addr=0x04c9 opcode=0x21 operands=[Variable(0)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x21 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🎯 CRITICAL_BYTE: runtime_addr=0x04c9 byte=0xa1 phase=CODEGEN TRACKING_0xa0_AND_0x0365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1225, byte=0xa1, code_address=0x04c9, space_len=1226
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04c9 -> 0x04ca (offset 1225) after emitting byte 0xa1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x04ca
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04ca -> 0x04cb (offset 1226) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x04cb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04cb -> 0x04cc (offset 1227) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack pop (store) - depth now: 82
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 523 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] LoadVar: IR ID 523 loaded from IR ID 518 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 524, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 524
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: BinaryOp { target: 525, op: Less, left: 523, right: 524 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: BinaryOp creates target IR ID 525
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] UNIFIED_BINARYOP_PROCESSING: target=525, op=Less, left=523, right=524
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 525 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Comparison BinaryOp registered: IR ID 525 -> stack, bytecode deferred to branch generation
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ZERO BYTES: IR instruction generated no bytecode: BinaryOp { target: 525, op: Less, left: 523, right: 524 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Branch { condition: 525, true_label: 521, false_label: 522 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: condition_id=525, true=521, false=522 at code_addr=0x04cc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] CHECKING_BINARY_OP_MAPPING: condition=525, mapping exists=true
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] DIRECT_COMPARISON_BRANCH: Detected BinaryOp Less - generating direct Z-Machine branch instruction
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 523
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 523 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 524
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 524 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] GENERATING_DIRECT_BRANCH: Less with opcode 0x02, branching to 521 on true
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_COMPARISON_BRANCH: opcode=0x02, operands=[Variable(0), LargeConstant(1)], true=521, false=522 at code_addr=0x04cc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x02 at PC=0x04cc operands=[Variable(0), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x04cc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x04cc gen_addr=0x04cc opcode=0x02 operands=[Variable(0), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x02 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1228, byte=0x42, code_address=0x04cc, space_len=1229
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04cc -> 0x04cd (offset 1228) after emitting byte 0x42
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x04cd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04cd -> 0x04ce (offset 1229) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x04ce opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1230, byte=0x01, code_address=0x04ce, space_len=1231
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04ce -> 0x04cf (offset 1230) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=3329 at address=0x04cf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x04cf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1231, byte=0x8d, code_address=0x04cf, space_len=1232
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04cf -> 0x04d0 (offset 1231) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x04d0 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1232, byte=0x01, code_address=0x04d0, space_len=1233
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04d0 -> 0x04d1 (offset 1232) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_COMPARISON_BRANCH: Generated 5 bytes (0x04cc -> 0x04d1), fixup at offset=0x04cf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: Generated 5 bytes (0x04cc -> 0x04d1) via comparison branch
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 521 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 521 -> address 0x04d1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetArrayElement { target: 526, array: 505, index: 523 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 526 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8d at PC=0x04d1 operands=[LargeConstant(1000)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x04d1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x04d1 gen_addr=0x04d1 opcode=0x8d operands=[LargeConstant(1000)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8d -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x04d1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1233, byte=0x8d, code_address=0x04d1, space_len=1234
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04d1 -> 0x04d2 (offset 1233) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x03e8 -> high_byte=0x03, low_byte=0xe8 at code_address 0x04d2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1234, byte=0x03, code_address=0x04d2, space_len=1235
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04d2 -> 0x04d3 (offset 1234) after emitting byte 0x03
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1235, byte=0xe8, code_address=0x04d3, space_len=1236
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04d3 -> 0x04d4 (offset 1235) after emitting byte 0xe8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x04d4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04d4 -> 0x04d5 (offset 1236) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (generic) - depth now: 83
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetArrayElement: IR ID 526 -> stack (placeholder: 1000)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: StoreVar { var_id: 517, source: 526 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 526
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 526 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x0d at PC=0x04d5 operands=[SmallConstant(0), Variable(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[1] reads from stack at PC=0x04d5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x04d5 gen_addr=0x04d5 opcode=0x0d operands=[SmallConstant(0), Variable(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x0d -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1237, byte=0x2d, code_address=0x04d5, space_len=1238
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04d5 -> 0x04d6 (offset 1237) after emitting byte 0x2d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x04d6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04d6 -> 0x04d7 (offset 1238) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x04d7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04d7 -> 0x04d8 (offset 1239) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] StoreVar: IR ID 517 stored value from IR ID 526
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 528, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 528
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: BinaryOp { target: 529, op: NotEqual, left: 517, right: 528 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: BinaryOp creates target IR ID 529
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] UNIFIED_BINARYOP_PROCESSING: target=529, op=NotEqual, left=517, right=528
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 529 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Comparison BinaryOp registered: IR ID 529 -> stack, bytecode deferred to branch generation
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ZERO BYTES: IR instruction generated no bytecode: BinaryOp { target: 529, op: NotEqual, left: 517, right: 528 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 530, object: 517, property_num: 30 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 530
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 517
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 517 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 530 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x04d8 operands=[Variable(0), LargeConstant(30)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x04d8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x04d8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x04d8 gen_addr=0x04d8 opcode=0x11 operands=[Variable(0), LargeConstant(30)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1240, byte=0x51, code_address=0x04d8, space_len=1241
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04d8 -> 0x04d9 (offset 1240) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x04d9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04d9 -> 0x04da (offset 1241) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1242, byte=0x1e, code_address=0x04da, space_len=1243
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04da -> 0x04db (offset 1242) after emitting byte 0x1e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x04db
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04db -> 0x04dc (offset 1243) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 84
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 530 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 531, value: Boolean(false) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 531
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: BinaryOp { target: 532, op: NotEqual, left: 530, right: 531 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: BinaryOp creates target IR ID 532
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] UNIFIED_BINARYOP_PROCESSING: target=532, op=NotEqual, left=530, right=531
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 532 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Comparison BinaryOp registered: IR ID 532 -> stack, bytecode deferred to branch generation
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ZERO BYTES: IR instruction generated no bytecode: BinaryOp { target: 532, op: NotEqual, left: 530, right: 531 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: BinaryOp { target: 533, op: And, left: 529, right: 532 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: BinaryOp creates target IR ID 533
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] UNIFIED_BINARYOP_PROCESSING: target=533, op=And, left=529, right=532
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 529
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 529 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 532
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 532 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Generating binary operation: And with operands Variable(0), Variable(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x09 at PC=0x04dc operands=[Variable(0), Variable(0)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x04dc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[1] reads from stack at PC=0x04dc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x04dc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x04dc gen_addr=0x04dc opcode=0x09 operands=[Variable(0), Variable(0)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x09 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1244, byte=0x69, code_address=0x04dc, space_len=1245
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04dc -> 0x04dd (offset 1244) after emitting byte 0x69
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x04dd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04dd -> 0x04de (offset 1245) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x04de
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04de -> 0x04df (offset 1246) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x04df
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04df -> 0x04e0 (offset 1247) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (generic) - depth now: 85
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 533 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] BinaryOp (And) result: IR ID 533 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Branch { condition: 533, true_label: 534, false_label: 535 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: condition_id=533, true=534, false=535 at code_addr=0x04e0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] CHECKING_BINARY_OP_MAPPING: condition=533, mapping exists=true
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] DIRECT_COMPARISON_BRANCH: Detected BinaryOp And - generating direct Z-Machine branch instruction
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 529
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 529 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 532
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 532 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Translation failed for instruction Branch { condition: 533, true_label: 534, false_label: 535 }: Code generation error: Unsupported comparison operation in direct branch: And
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 534 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 534 -> address 0x04e0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 538, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 538
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(539), function: 540, args: [517, 538] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 539
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 517
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 517 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 538
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 538 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] generate_move_builtin: object IR 517 -> Variable(0), destination IR 538 -> LargeConstant(1)
[2025-09-12T15:05:07Z WARN  gruesome::grue_compiler::codegen_builtins] move builtin: object operand is variable 0 which could contain 0 at runtime, using player object (1) instead
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] move builtin: using safe constant destination 1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x0e at PC=0x04e0 operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] insert_obj with operand LargeConstant(1) - appears safe
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x04e0 gen_addr=0x04e0 opcode=0x0e operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x0e -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1248, byte=0x0e, code_address=0x04e0, space_len=1249
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04e0 -> 0x04e1 (offset 1248) after emitting byte 0x0e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x04e1 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1249, byte=0x01, code_address=0x04e1, space_len=1250
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04e1 -> 0x04e2 (offset 1249) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x04e2 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1250, byte=0x01, code_address=0x04e2, space_len=1251
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04e2 -> 0x04e3 (offset 1250) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] move builtin: generated insert_obj with safe operands
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 539 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 539 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: GetPropertyByNumber { target: 541, object: 517, property_num: 1 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: GetPropertyByNumber creates target IR ID 541
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 517
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 517 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 541 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x11 at PC=0x04e3 operands=[Variable(0), LargeConstant(1)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x04e3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x04e3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x04e3 gen_addr=0x04e3 opcode=0x11 operands=[Variable(0), LargeConstant(1)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x11 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1251, byte=0x51, code_address=0x04e3, space_len=1252
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04e3 -> 0x04e4 (offset 1251) after emitting byte 0x51
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x04e4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04e4 -> 0x04e5 (offset 1252) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x04e5 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1253, byte=0x01, code_address=0x04e5, space_len=1254
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04e5 -> 0x04e6 (offset 1253) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x04e6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04e6 -> 0x04e7 (offset 1254) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (get_prop*) - depth now: 86
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GetPropertyByNumber: IR ID 541 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 542, value: String(": Taken.") }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 542
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: BinaryOp { target: 543, op: Add, left: 541, right: 542 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: BinaryOp creates target IR ID 543
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] UNIFIED_BINARYOP_PROCESSING: target=543, op=Add, left=541, right=542
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string '[RUNTIME_STACK_541]: Taken.' -> 53 Z-chars -> 36 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 String concatenation: '[RUNTIME_STACK_541]' + ': Taken.' = '[RUNTIME_STACK_541]: Taken.' (IR ID 543)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 543 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] BinaryOp (Add) result: IR ID 543 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ZERO BYTES: IR instruction generated no bytecode: BinaryOp { target: 543, op: Add, left: 541, right: 542 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(544), function: 41, args: [543] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 544
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] generate_print_builtin: Looking up string for IR ID 543
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available string IDs = [110, 213, 231, 237, 272, 351, 566, 257, 159, 175, 469, 500, 376, 570, 214, 364, 167, 354, 472, 190, 542, 543, 210, 147, 179, 254, 125, 572, 129, 148, 144, 564, 215, 293, 568, 562, 118, 473, 100, 220, 471, 146, 270, 498, 198]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available integer IDs = [344, 128, 184, 516, 489, 502, 509, 561, 284, 279, 62, 342, 320, 385, 440, 445, 316, 217, 408, 475, 243, 433, 312, 321, 392, 424, 519, 225, 460, 372, 323, 79, 69, 506, 465, 261, 429, 178, 366, 400, 481, 309, 86, 448, 528, 133, 494, 531, 233, 560, 302, 333, 409, 538, 241, 559, 558, 66, 524, 414, 266, 274, 381, 330, 340, 90, 76]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 Encoded string '[RUNTIME_STACK_541]: Taken.' -> 53 Z-chars -> 36 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]  OPTION_B_FIX: Added string ID 543 to encoding system: '[RUNTIME_STACK_541]: Taken.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8d at PC=0x04e7 operands=[LargeConstant(65535)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x04e7 gen_addr=0x04e7 opcode=0x8d operands=[LargeConstant(65535)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8d -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x04e7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1255, byte=0x8d, code_address=0x04e7, space_len=1256
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04e7 -> 0x04e8 (offset 1255) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x04e8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x04e8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1256, byte=0xff, code_address=0x04e8, space_len=1257
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04e8 -> 0x04e9 (offset 1256) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x04e9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1257, byte=0xff, code_address=0x04e9, space_len=1258
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04e9 -> 0x04ea (offset 1257) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 544 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 544 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 545, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 545
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: BinaryOp { target: 546, op: Add, left: 515, right: 545 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: BinaryOp creates target IR ID 546
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] UNIFIED_BINARYOP_PROCESSING: target=546, op=Add, left=515, right=545
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 515
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 515 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 545
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 545 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Generating binary operation: Add with operands Variable(0), LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x14 at PC=0x04ea operands=[Variable(0), LargeConstant(1)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x04ea
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x04ea
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x04ea gen_addr=0x04ea opcode=0x14 operands=[Variable(0), LargeConstant(1)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x14 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1258, byte=0x54, code_address=0x04ea, space_len=1259
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04ea -> 0x04eb (offset 1258) after emitting byte 0x54
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x04eb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04eb -> 0x04ec (offset 1259) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x04ec opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1260, byte=0x01, code_address=0x04ec, space_len=1261
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04ec -> 0x04ed (offset 1260) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x04ed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04ed -> 0x04ee (offset 1261) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (arithmetic) - depth now: 87
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 546 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] BinaryOp (Add) result: IR ID 546 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: StoreVar { var_id: 515, source: 546 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 546
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 546 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x0d at PC=0x04ee operands=[SmallConstant(0), Variable(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[1] reads from stack at PC=0x04ee
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x04ee gen_addr=0x04ee opcode=0x0d operands=[SmallConstant(0), Variable(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x0d -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1262, byte=0x2d, code_address=0x04ee, space_len=1263
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04ee -> 0x04ef (offset 1262) after emitting byte 0x2d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x04ef
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04ef -> 0x04f0 (offset 1263) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x04f0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04f0 -> 0x04f1 (offset 1264) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] StoreVar: IR ID 515 stored value from IR ID 546
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Jump { label: 536 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xc1 at PC=0x04f1 operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x04f1 gen_addr=0x04f1 opcode=0xc1 operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xc1 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xc1, store_var=None, branch_offset=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xc1, var_bit=0x00, instruction_byte=0xc1 at address 0x04f1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1265, byte=0xc1, code_address=0x04f1, space_len=1266
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04f1 -> 0x04f2 (offset 1265) after emitting byte 0xc1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x0f at address 0x04f2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1266, byte=0x0f, code_address=0x04f2, space_len=1267
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04f2 -> 0x04f3 (offset 1266) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x04f3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x04f3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04f3 -> 0x04f4 (offset 1267) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x04f4 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1268, byte=0x01, code_address=0x04f4, space_len=1269
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04f4 -> 0x04f5 (offset 1268) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x04f5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x04f5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04f5 -> 0x04f6 (offset 1269) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x04f6 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1270, byte=0x01, code_address=0x04f6, space_len=1271
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04f6 -> 0x04f7 (offset 1270) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=0 at address=0x04f7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1271, byte=0xc0, code_address=0x04f7, space_len=1272
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04f7 -> 0x04f8 (offset 1271) after emitting byte 0xc0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 535 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 535 -> address 0x04f8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 536 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 536 -> address 0x04f8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 547, value: Integer(1) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 547
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: BinaryOp { target: 548, op: Add, left: 523, right: 547 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: BinaryOp creates target IR ID 548
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] UNIFIED_BINARYOP_PROCESSING: target=548, op=Add, left=523, right=547
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 523
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 523 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 547
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 547 resolved to LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Generating binary operation: Add with operands Variable(0), LargeConstant(1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x14 at PC=0x04f8 operands=[Variable(0), LargeConstant(1)] store=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x04f8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Instruction pushes result to stack at PC=0x04f8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x04f8 gen_addr=0x04f8 opcode=0x14 operands=[Variable(0), LargeConstant(1)] store_var=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x14 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1272, byte=0x54, code_address=0x04f8, space_len=1273
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04f8 -> 0x04f9 (offset 1272) after emitting byte 0x54
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x04f9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04f9 -> 0x04fa (offset 1273) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x04fa opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1274, byte=0x01, code_address=0x04fa, space_len=1275
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04fa -> 0x04fb (offset 1274) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x04fb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04fb -> 0x04fc (offset 1275) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Stack push (arithmetic) - depth now: 88
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 548 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] BinaryOp (Add) result: IR ID 548 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: StoreVar { var_id: 518, source: 548 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 548
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 548 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x0d at PC=0x04fc operands=[SmallConstant(0), Variable(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[1] reads from stack at PC=0x04fc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x04fc gen_addr=0x04fc opcode=0x0d operands=[SmallConstant(0), Variable(0)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x0d -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1276, byte=0x2d, code_address=0x04fc, space_len=1277
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04fc -> 0x04fd (offset 1276) after emitting byte 0x2d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x04fd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04fd -> 0x04fe (offset 1277) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x04fe
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04fe -> 0x04ff (offset 1278) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] StoreVar: IR ID 518 stored value from IR ID 548
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Jump { label: 520 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xc1 at PC=0x04ff operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x04ff gen_addr=0x04ff opcode=0xc1 operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xc1 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xc1, store_var=None, branch_offset=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xc1, var_bit=0x00, instruction_byte=0xc1 at address 0x04ff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1279, byte=0xc1, code_address=0x04ff, space_len=1280
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x04ff -> 0x0500 (offset 1279) after emitting byte 0xc1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x0f at address 0x0500
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1280, byte=0x0f, code_address=0x0500, space_len=1281
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0500 -> 0x0501 (offset 1280) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0501
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0501
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0501 -> 0x0502 (offset 1281) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0502 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1282, byte=0x01, code_address=0x0502, space_len=1283
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0502 -> 0x0503 (offset 1282) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0503
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0503
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0503 -> 0x0504 (offset 1283) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0504 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1284, byte=0x01, code_address=0x0504, space_len=1285
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0504 -> 0x0505 (offset 1284) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=0 at address=0x0505
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1285, byte=0xc0, code_address=0x0505, space_len=1286
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0505 -> 0x0506 (offset 1285) after emitting byte 0xc0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 522 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 522 -> address 0x0506
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 549, value: Integer(0) }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 549
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: BinaryOp { target: 550, op: Equal, left: 515, right: 549 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: BinaryOp creates target IR ID 550
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] UNIFIED_BINARYOP_PROCESSING: target=550, op=Equal, left=515, right=549
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 550 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Comparison BinaryOp registered: IR ID 550 -> stack, bytecode deferred to branch generation
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ZERO BYTES: IR instruction generated no bytecode: BinaryOp { target: 550, op: Equal, left: 515, right: 549 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Branch { condition: 550, true_label: 551, false_label: 552 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: condition_id=550, true=551, false=552 at code_addr=0x0506
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] CHECKING_BINARY_OP_MAPPING: condition=550, mapping exists=true
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] DIRECT_COMPARISON_BRANCH: Detected BinaryOp Equal - generating direct Z-Machine branch instruction
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 515
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 515 resolved to Variable(0) [Stack result]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_IR_ID_TO_OPERAND: Attempting to resolve IR ID 549
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  resolve_ir_id_to_operand: IR ID 549 resolved to LargeConstant(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] GENERATING_DIRECT_BRANCH: Equal with opcode 0x01, branching to 551 on true
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_COMPARISON_BRANCH: opcode=0x01, operands=[Variable(0), LargeConstant(0)], true=551, false=552 at code_addr=0x0506
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x01 at PC=0x0506 operands=[Variable(0), LargeConstant(0)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Operand[0] reads from stack at PC=0x0506
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0506 gen_addr=0x0506 opcode=0x01 operands=[Variable(0), LargeConstant(0)] store_var=None
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 JZ_INSTRUCTION_TRACE: runtime_addr=0x0506 store_var=None branch_offset=Some(3329)
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 JZ_DETAILS: operands=[Variable(0), LargeConstant(0)] at code_space[0x0506]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x01 -> form=Long
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1286, byte=0x41, code_address=0x0506, space_len=1287
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0506 -> 0x0507 (offset 1286) after emitting byte 0x41
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Variable(0) -> Z-Machine variable 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0507
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0507 -> 0x0508 (offset 1287) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0508
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0508 -> 0x0509 (offset 1288) after emitting byte 0x00
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=3329 at address=0x0509
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x0509
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1289, byte=0x8d, code_address=0x0509, space_len=1290
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0509 -> 0x050a (offset 1289) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x050a opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1290, byte=0x01, code_address=0x050a, space_len=1291
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x050a -> 0x050b (offset 1290) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_COMPARISON_BRANCH: Generated 5 bytes (0x0506 -> 0x050b), fixup at offset=0x0509
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔍 EMIT_CONDITIONAL_BRANCH_INSTRUCTION: Generated 5 bytes (0x0506 -> 0x050b) via comparison branch
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 551 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 551 -> address 0x050b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: LoadImmediate { target: 555, value: String("There's nothing here to take.") }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: LoadImmediate creates target IR ID 555
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Call { target: Some(556), function: 41, args: [555] }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] IR INSTRUCTION: Call creates target IR ID 556
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins] generate_print_builtin: Looking up string for IR ID 555
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available string IDs = [110, 213, 231, 237, 272, 351, 566, 257, 159, 175, 469, 500, 376, 570, 214, 364, 167, 354, 555, 472, 190, 542, 543, 210, 147, 179, 254, 125, 572, 129, 148, 144, 564, 215, 293, 568, 562, 118, 473, 100, 220, 471, 146, 270, 498, 198]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]   Available integer IDs = [344, 128, 184, 516, 545, 549, 489, 502, 509, 561, 284, 279, 62, 342, 320, 385, 440, 445, 316, 217, 408, 475, 243, 433, 312, 321, 392, 424, 519, 225, 460, 372, 323, 79, 69, 506, 465, 261, 429, 178, 366, 400, 481, 309, 86, 448, 528, 547, 133, 494, 531, 233, 560, 302, 333, 409, 538, 241, 559, 558, 66, 524, 414, 266, 274, 381, 330, 340, 90, 76]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_builtins]  OPTION_B_FIX: String ID 555 already in encoding system
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8d at PC=0x050b operands=[LargeConstant(65535)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x050b gen_addr=0x050b opcode=0x8d operands=[LargeConstant(65535)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8d -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x050b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1291, byte=0x8d, code_address=0x050b, space_len=1292
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x050b -> 0x050c (offset 1291) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x050c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x050c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1292, byte=0xff, code_address=0x050c, space_len=1293
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x050c -> 0x050d (offset 1292) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x050d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1293, byte=0xff, code_address=0x050d, space_len=1294
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x050d -> 0x050e (offset 1293) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] use_stack_for_result: IR ID 556 -> stack (Variable 0) for temporary result
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Call result: IR ID 556 -> stack
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Jump { label: 553 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xc1 at PC=0x050e operands=[LargeConstant(1), LargeConstant(1)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x050e gen_addr=0x050e opcode=0xc1 operands=[LargeConstant(1), LargeConstant(1)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xc1 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0xc1, store_var=None, branch_offset=Some(0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0xc1, var_bit=0x00, instruction_byte=0xc1 at address 0x050e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1294, byte=0xc1, code_address=0x050e, space_len=1295
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x050e -> 0x050f (offset 1294) after emitting byte 0xc1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x0f at address 0x050f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1295, byte=0x0f, code_address=0x050f, space_len=1296
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x050f -> 0x0510 (offset 1295) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0510
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0510
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0510 -> 0x0511 (offset 1296) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0511 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1297, byte=0x01, code_address=0x0511, space_len=1298
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0511 -> 0x0512 (offset 1297) after emitting byte 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0001 -> high_byte=0x00, low_byte=0x01 at code_address 0x0512
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0512
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0512 -> 0x0513 (offset 1298) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  OPCODE_EMIT: runtime_addr=0x0513 opcode=0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1299, byte=0x01, code_address=0x0513, space_len=1300
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0513 -> 0x0514 (offset 1299) after emitting byte 0x01
[2025-09-12T15:05:07Z ERROR gruesome::grue_compiler::codegen_instructions] 🔍 EMIT_BRANCH_OFFSET: offset=0 at address=0x0514
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1300, byte=0xc0, code_address=0x0514, space_len=1301
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0514 -> 0x0515 (offset 1300) after emitting byte 0xc0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 552 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 552 -> address 0x0515
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Generate instruction called: Label { id: 553 }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] Label registered: IR ID 553 -> address 0x0515
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Function 'take_all' ends with return: false
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Adding implicit return to function 'take_all'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0xb0 at PC=0x0515 operands=[] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0515 gen_addr=0x0515 opcode=0xb0 operands=[] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0xb0 -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0xb0 (rtrue) at address 0x0515
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1301, byte=0xb0, code_address=0x0515, space_len=1302
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0515 -> 0x0516 (offset 1301) after emitting byte 0xb0
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]  Function 'take_all' complete: 121 bytes generated
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FINALIZE: Function 'take_all' used 0 local variables during generation
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] ❌ PATCH_ERROR: No header location found for function 14 ('take_all')
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PROGRAM_FLOW: Adding flow control based on mode: Interactive
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📋 Interactive mode: Generating main loop
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Generating program flow for mode: Interactive
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Interactive mode: Generating automatic main loop
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Generating automatic main game loop
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Main loop routine starts at address 0x0516
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0x00 at address 0x0516
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Null byte analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an operand position, placeholder resolution failed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - If this is an opcode position, instruction emission is broken
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Expected: Either valid opcode/operand OR 0xFFFF placeholder
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]     - Reality: 0x00 suggests missing UnresolvedReference or failed patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0516 -> 0x0517 (offset 1302) after emitting byte 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record final address: Recording IR ID 9000 -> absolute_address 0x0516
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record final address: Address is already absolute in final memory layout
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record final address: Recording IR ID 9001 -> absolute_address 0x0517
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record final address: Address is already absolute in final memory layout
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x8d at PC=0x0517 operands=[LargeConstant(65535)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0517 gen_addr=0x0517 opcode=0x8d operands=[LargeConstant(65535)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x8d -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emitting 0x8d (print_paddr) at address 0x0517
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1303, byte=0x8d, code_address=0x0517, space_len=1304
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0517 -> 0x0518 (offset 1303) after emitting byte 0x8d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x0518
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0518
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1304, byte=0xff, code_address=0x0518, space_len=1305
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0518 -> 0x0519 (offset 1304) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0519
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1305, byte=0xff, code_address=0x0519, space_len=1306
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0519 -> 0x051a (offset 1305) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Using input buffers: text=0x0220, parse=0x0260
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x04 at PC=0x051a operands=[LargeConstant(544), LargeConstant(608)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x051a gen_addr=0x051a opcode=0x04 operands=[LargeConstant(544), LargeConstant(608)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x04 -> form=Variable
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_FORM_DEBUG: opcode=0x04, store_var=None, branch_offset=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] emit_variable_form: opcode=0x04, var_bit=0x20, instruction_byte=0xe4 at address 0x051a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1306, byte=0xe4, code_address=0x051a, space_len=1307
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x051a -> 0x051b (offset 1306) after emitting byte 0xe4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  VAR_TYPES_BYTE: Emitting types_byte=0x0f at address 0x051b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1307, byte=0x0f, code_address=0x051b, space_len=1308
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x051b -> 0x051c (offset 1307) after emitting byte 0x0f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0220 -> high_byte=0x02, low_byte=0x20 at code_address 0x051c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1308, byte=0x02, code_address=0x051c, space_len=1309
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x051c -> 0x051d (offset 1308) after emitting byte 0x02
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1309, byte=0x20, code_address=0x051d, space_len=1310
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x051d -> 0x051e (offset 1309) after emitting byte 0x20
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0x0260 -> high_byte=0x02, low_byte=0x60 at code_address 0x051e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1310, byte=0x02, code_address=0x051e, space_len=1311
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x051e -> 0x051f (offset 1310) after emitting byte 0x02
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1311, byte=0x60, code_address=0x051f, space_len=1312
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x051f -> 0x0520 (offset 1311) after emitting byte 0x60
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Main loop jump: Critical jump instruction generation
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Main loop jump: main_loop_id=9000, jump_target_id=9001
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Main loop jump: main_loop_routine_address=0x0516
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Main loop jump: main_loop_first_instruction=0x0517
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Main loop jump: code_address=0x0520 (where jump instruction will be placed)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] PC_TRACK: Emitting opcode=0x0c at PC=0x0520 operands=[LargeConstant(65535)] store=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions] GEN_INSTR: runtime_addr=0x0520 gen_addr=0x0520 opcode=0x0c operands=[LargeConstant(65535)] store_var=None
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_instructions]  FORM_DETERMINATION: opcode=0x0c -> form=Short
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1312, byte=0x8c, code_address=0x0520, space_len=1313
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0520 -> 0x0521 (offset 1312) after emitting byte 0x8c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Emit word: word=0xffff -> high_byte=0xff, low_byte=0xff at code_address 0x0521
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0521
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1313, byte=0xff, code_address=0x0521, space_len=1314
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0521 -> 0x0522 (offset 1313) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Placeholder byte: Writing potential placeholder byte 0xff at address 0x0522
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0x00 = NULL (likely unpatched placeholder)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          0xFF = Placeholder high byte (should be part of 0xFFFF)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]          Context: Current instruction emission in progress
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 EMIT_BYTE: code_offset=1314, byte=0xff, code_address=0x0522, space_len=1315
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 CODE_ADDRESS_INCREMENT: 0x0522 -> 0x0523 (offset 1314) after emitting byte 0xff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  MAIN_LOOP_JUMP: jump_instruction at 0x0520, operand at 0x0521
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  MAIN_LOOP_JUMP: Creating UnresolvedReference: UnresolvedReference { reference_type: Jump, location: 1313, target_id: 9001, is_packed_address: false, offset_size: 2, location_space: Code }
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Main loop generation complete at 0x0523
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen] 📊 PHASE 2 COMPLETE: Generated 1271 bytes from 560 IR instructions
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]  PHASE2_ANALYSIS: 324 bytecode instructions, 236 zero-byte instructions = 1271 bytes generated
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]  Step 2f complete: Code space populated (1315 bytes)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  Step 2g: Checking for new strings created during code generation
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  NEW_STRING: Found new string ID 146 created during code generation: 'The [RUNTIME_STACK_145]'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=146, offset=0x0596, size=32
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  NEW_STRING: Found new string ID 148 created during code generation: 'The [RUNTIME_STACK_145] contains:'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=148, offset=0x05b6, size=40
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  NEW_STRING: Found new string ID 213 created during code generation: 'The [RUNTIME_STACK_212]'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=213, offset=0x05de, size=32
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  NEW_STRING: Found new string ID 215 created during code generation: 'The [RUNTIME_STACK_212] is closed.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=215, offset=0x05fe, size=40
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  NEW_STRING: Found new string ID 272 created during code generation: '  [RUNTIME_STACK_271]'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=272, offset=0x0626, size=30
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  NEW_STRING: Found new string ID 471 created during code generation: 'There is [RUNTIME_STACK_470]'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=471, offset=0x0644, size=36
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  NEW_STRING: Found new string ID 473 created during code generation: 'There is [RUNTIME_STACK_470] here.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=473, offset=0x0668, size=40
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  NEW_STRING: Found new string ID 500 created during code generation: '  [RUNTIME_STACK_499]'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=500, offset=0x0690, size=30
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  NEW_STRING: Found new string ID 543 created during code generation: '[RUNTIME_STACK_541]: Taken.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_strings] 🔤 STRING_ALLOCATED: ID=543, offset=0x06ae, size=36
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]  Step 2g complete: Added 316 bytes of new strings created during code generation
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen] 📊 COMPLETE Z-MACHINE SECTIONS SUMMARY:
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]   ├─ Code space: 1315 bytes (functions, main loop, initialization)
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]   ├─ String space: 1746 bytes (encoded text literals)
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]   ├─ Object space: 1188 bytes (object table, properties, relationships)
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]   ├─ Dictionary space: 4 bytes (word parsing dictionary)
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]   ├─ Globals space: 480 bytes (240 global variable slots)
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]   ├─ Abbreviations space: 192 bytes (string compression table)
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]   └─ Pending address fixups: 0
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]  Phase 2 complete: All Z-Machine sections generated
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]  SPACE POPULATION ANALYSIS:
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]   📋 CODE_SPACE: 1315 bytes
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]     First 10 bytes: [0x00, 0xe3, 0x13, 0x00, 0x01, 0x0d, 0x00, 0x02, 0xe3, 0x13]
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]     Last 10 bytes:  [0xff, 0xe4, 0x0f, 0x02, 0x20, 0x02, 0x60, 0x8c, 0xff, 0xff]
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]   📦 OBJECT_SPACE: 1188 bytes
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]     First 10 bytes: [0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00]
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]     Non-zero bytes: 857/1188 (72.1%)
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]   📝 STRING_SPACE: 1746 bytes
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]     First 10 bytes: [0x13, 0xd4, 0x68, 0x08, 0x1a, 0x65, 0x63, 0x20, 0x61, 0x4a]
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]     Non-zero bytes: 1666/1746 (95.4%)
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]   🌐 GLOBALS_SPACE: 480 bytes
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]     First 10 bytes: [0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00]
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]     Non-zero bytes: 0/480
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]   📚 DICTIONARY_SPACE: 4 bytes
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]     All bytes: [0x06, 0x00, 0x00, 0x00]
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]  Phase 3: Calculate comprehensive layout and assemble complete image
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]  Phase 3: Assembling complete Z-Machine image from ALL separated spaces
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📏 Step 3a: Calculating comprehensive memory layout
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📖 Dictionary size: 4 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  Dictionary allocated at 0x0784, size=4 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  Code allocated at 0x0e5a, size=1315 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  Step 3-CONVERT: Converting code space offsets to final addresses
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: Converting all code space offsets to absolute addresses
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 8000 offset 0x0000 -> absolute 0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 1 offset 0x002c -> absolute 0x0e86
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 72 offset 0x004e -> absolute 0x0ea8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 80 offset 0x005a -> absolute 0x0eb4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 81 offset 0x0065 -> absolute 0x0ebf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 82 offset 0x0065 -> absolute 0x0ebf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 73 offset 0x006c -> absolute 0x0ec6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 74 offset 0x006c -> absolute 0x0ec6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 2 offset 0x006e -> absolute 0x0ec8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 93 offset 0x0081 -> absolute 0x0edb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 94 offset 0x008f -> absolute 0x0ee9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 95 offset 0x0092 -> absolute 0x0eec
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 3 offset 0x0094 -> absolute 0x0eee
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 106 offset 0x00a5 -> absolute 0x0eff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 107 offset 0x00b0 -> absolute 0x0f0a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 108 offset 0x00b0 -> absolute 0x0f0a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 114 offset 0x00bc -> absolute 0x0f16
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 115 offset 0x00c7 -> absolute 0x0f21
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 116 offset 0x00c7 -> absolute 0x0f21
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 121 offset 0x00cf -> absolute 0x0f29
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 122 offset 0x00d9 -> absolute 0x0f33
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 134 offset 0x00ee -> absolute 0x0f48
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 135 offset 0x00f9 -> absolute 0x0f53
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 136 offset 0x00f9 -> absolute 0x0f53
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 140 offset 0x0102 -> absolute 0x0f5c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 141 offset 0x0116 -> absolute 0x0f70
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 142 offset 0x0116 -> absolute 0x0f70
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 123 offset 0x0116 -> absolute 0x0f70
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 4 offset 0x0118 -> absolute 0x0f72
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 155 offset 0x0129 -> absolute 0x0f83
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 156 offset 0x0134 -> absolute 0x0f8e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 157 offset 0x0134 -> absolute 0x0f8e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 163 offset 0x0140 -> absolute 0x0f9a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 164 offset 0x014b -> absolute 0x0fa5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 165 offset 0x014b -> absolute 0x0fa5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 171 offset 0x0157 -> absolute 0x0fb1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 172 offset 0x0161 -> absolute 0x0fbb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 173 offset 0x016a -> absolute 0x0fc4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 5 offset 0x016c -> absolute 0x0fc6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 186 offset 0x0178 -> absolute 0x0fd2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 187 offset 0x0183 -> absolute 0x0fdd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 188 offset 0x0183 -> absolute 0x0fdd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 194 offset 0x0191 -> absolute 0x0feb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 195 offset 0x019c -> absolute 0x0ff6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 196 offset 0x019c -> absolute 0x0ff6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 206 offset 0x01b4 -> absolute 0x100e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 207 offset 0x01c7 -> absolute 0x1021
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 208 offset 0x01c7 -> absolute 0x1021
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 6 offset 0x01ce -> absolute 0x1028
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 227 offset 0x01da -> absolute 0x1034
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 228 offset 0x01e5 -> absolute 0x103f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 229 offset 0x01e5 -> absolute 0x103f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 7 offset 0x01f0 -> absolute 0x104a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 244 offset 0x01fd -> absolute 0x1057
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 245 offset 0x020c -> absolute 0x1066
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 246 offset 0x020c -> absolute 0x1066
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 250 offset 0x0217 -> absolute 0x1071
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 251 offset 0x0221 -> absolute 0x107b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 262 offset 0x0227 -> absolute 0x1081
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 263 offset 0x022f -> absolute 0x1089
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 264 offset 0x024b -> absolute 0x10a5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 252 offset 0x024b -> absolute 0x10a5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 8 offset 0x024c -> absolute 0x10a6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 285 offset 0x0268 -> absolute 0x10c2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 286 offset 0x0273 -> absolute 0x10cd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 287 offset 0x0273 -> absolute 0x10cd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 289 offset 0x0278 -> absolute 0x10d2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 290 offset 0x0283 -> absolute 0x10dd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 291 offset 0x0283 -> absolute 0x10dd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 296 offset 0x028b -> absolute 0x10e5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 297 offset 0x029a -> absolute 0x10f4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 298 offset 0x029a -> absolute 0x10f4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 305 offset 0x02a6 -> absolute 0x1100
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 313 offset 0x02b2 -> absolute 0x110c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 314 offset 0x02bd -> absolute 0x1117
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 315 offset 0x02bd -> absolute 0x1117
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 306 offset 0x02c4 -> absolute 0x111e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 307 offset 0x02c4 -> absolute 0x111e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 326 offset 0x02e1 -> absolute 0x113b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 334 offset 0x02ed -> absolute 0x1147
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 335 offset 0x02f8 -> absolute 0x1152
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 336 offset 0x02f8 -> absolute 0x1152
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 327 offset 0x02ff -> absolute 0x1159
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 328 offset 0x02ff -> absolute 0x1159
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 9 offset 0x0306 -> absolute 0x1160
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 347 offset 0x0311 -> absolute 0x116b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 348 offset 0x0318 -> absolute 0x1172
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 349 offset 0x031b -> absolute 0x1175
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 10 offset 0x031c -> absolute 0x1176
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 360 offset 0x032d -> absolute 0x1187
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 361 offset 0x0338 -> absolute 0x1192
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 362 offset 0x0338 -> absolute 0x1192
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 368 offset 0x033d -> absolute 0x1197
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 369 offset 0x034b -> absolute 0x11a5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 370 offset 0x034e -> absolute 0x11a8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 11 offset 0x0350 -> absolute 0x11aa
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 388 offset 0x0363 -> absolute 0x11bd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 389 offset 0x036e -> absolute 0x11c8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 390 offset 0x036e -> absolute 0x11c8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 404 offset 0x0392 -> absolute 0x11ec
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 405 offset 0x039d -> absolute 0x11f7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 406 offset 0x039d -> absolute 0x11f7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 12 offset 0x03a2 -> absolute 0x11fc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 415 offset 0x03b5 -> absolute 0x120f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 416 offset 0x03c4 -> absolute 0x121e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 417 offset 0x03c4 -> absolute 0x121e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 425 offset 0x03d1 -> absolute 0x122b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 426 offset 0x03d9 -> absolute 0x1233
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 435 offset 0x03e5 -> absolute 0x123f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 441 offset 0x03ed -> absolute 0x1247
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 442 offset 0x03f4 -> absolute 0x124e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 443 offset 0x03f4 -> absolute 0x124e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 436 offset 0x03fb -> absolute 0x1255
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 437 offset 0x03fb -> absolute 0x1255
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 427 offset 0x0409 -> absolute 0x1263
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 449 offset 0x0411 -> absolute 0x126b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 450 offset 0x041c -> absolute 0x1276
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 451 offset 0x041c -> absolute 0x1276
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 454 offset 0x0425 -> absolute 0x127f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 461 offset 0x0428 -> absolute 0x1282
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 462 offset 0x0430 -> absolute 0x128a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 463 offset 0x044c -> absolute 0x12a6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 455 offset 0x0453 -> absolute 0x12ad
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 456 offset 0x0453 -> absolute 0x12ad
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 13 offset 0x0454 -> absolute 0x12ae
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 482 offset 0x0463 -> absolute 0x12bd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 483 offset 0x0472 -> absolute 0x12cc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 484 offset 0x0472 -> absolute 0x12cc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 490 offset 0x0478 -> absolute 0x12d2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 491 offset 0x0480 -> absolute 0x12da
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 492 offset 0x049c -> absolute 0x12f6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 14 offset 0x049e -> absolute 0x12f8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 510 offset 0x04b1 -> absolute 0x130b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 511 offset 0x04c0 -> absolute 0x131a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 512 offset 0x04c0 -> absolute 0x131a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 520 offset 0x04c9 -> absolute 0x1323
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 521 offset 0x04d1 -> absolute 0x132b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 534 offset 0x04e0 -> absolute 0x133a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 535 offset 0x04f8 -> absolute 0x1352
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 536 offset 0x04f8 -> absolute 0x1352
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 522 offset 0x0506 -> absolute 0x1360
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 551 offset 0x050b -> absolute 0x1365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 552 offset 0x0515 -> absolute 0x136f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 553 offset 0x0515 -> absolute 0x136f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 9000 offset 0x0516 -> absolute 0x1370
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Convert offsets: IR ID 9001 offset 0x0517 -> absolute 0x1371
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PHASE3_FIX: Converting 16 function addresses from relative to absolute
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PHASE3_FIX: Function ID 8000 address 0x0000 → 0x0e5a (relative + 0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PHASE3_FIX: Function ID 1 address 0x002c → 0x0e86 (relative + 0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PHASE3_FIX: Function ID 2 address 0x006e → 0x0ec8 (relative + 0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PHASE3_FIX: Function ID 3 address 0x0094 → 0x0eee (relative + 0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PHASE3_FIX: Function ID 4 address 0x0118 → 0x0f72 (relative + 0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PHASE3_FIX: Function ID 5 address 0x016c → 0x0fc6 (relative + 0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PHASE3_FIX: Function ID 6 address 0x01ce → 0x1028 (relative + 0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PHASE3_FIX: Function ID 7 address 0x01f0 → 0x104a (relative + 0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PHASE3_FIX: Function ID 8 address 0x024c → 0x10a6 (relative + 0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PHASE3_FIX: Function ID 9 address 0x0306 → 0x1160 (relative + 0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PHASE3_FIX: Function ID 10 address 0x031c → 0x1176 (relative + 0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PHASE3_FIX: Function ID 11 address 0x0350 → 0x11aa (relative + 0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PHASE3_FIX: Function ID 12 address 0x03a2 → 0x11fc (relative + 0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PHASE3_FIX: Function ID 13 address 0x0454 → 0x12ae (relative + 0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PHASE3_FIX: Function ID 14 address 0x049e → 0x12f8 (relative + 0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PHASE3_FIX: Function ID 9000 address 0x0516 → 0x1370 (relative + 0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record final address: Recording IR ID 8000 -> absolute_address 0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record final address: Address is already absolute in final memory layout
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record final address: Recording IR ID 1 -> absolute_address 0x0e86
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record final address: Address is already absolute in final memory layout
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record final address: Recording IR ID 2 -> absolute_address 0x0ec8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record final address: Address is already absolute in final memory layout
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record final address: Recording IR ID 3 -> absolute_address 0x0eee
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record final address: Address is already absolute in final memory layout
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record final address: Recording IR ID 4 -> absolute_address 0x0f72
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record final address: Address is already absolute in final memory layout
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record final address: Recording IR ID 5 -> absolute_address 0x0fc6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record final address: Address is already absolute in final memory layout
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record final address: Recording IR ID 6 -> absolute_address 0x1028
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record final address: Address is already absolute in final memory layout
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record final address: Recording IR ID 7 -> absolute_address 0x104a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record final address: Address is already absolute in final memory layout
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record final address: Recording IR ID 8 -> absolute_address 0x10a6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record final address: Address is already absolute in final memory layout
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record final address: Recording IR ID 9 -> absolute_address 0x1160
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record final address: Address is already absolute in final memory layout
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record final address: Recording IR ID 10 -> absolute_address 0x1176
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record final address: Address is already absolute in final memory layout
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record final address: Recording IR ID 11 -> absolute_address 0x11aa
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record final address: Address is already absolute in final memory layout
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record final address: Recording IR ID 12 -> absolute_address 0x11fc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record final address: Address is already absolute in final memory layout
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record final address: Recording IR ID 13 -> absolute_address 0x12ae
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record final address: Address is already absolute in final memory layout
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record final address: Recording IR ID 14 -> absolute_address 0x12f8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record final address: Address is already absolute in final memory layout
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record final address: Recording IR ID 9000 -> absolute_address 0x1370
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Record final address: Address is already absolute in final memory layout
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PHASE3_FIX: Converting 0 label addresses from relative to absolute
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen] 📊 COMPLETE Z-MACHINE MEMORY LAYOUT:
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]   ├─ Header:       0x0000-0x0040 (64 bytes) - Z-Machine header
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]   ├─ Globals:      0x0040-0x0220 (480 bytes) - Global variables
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]   ├─ Abbreviations:0x0220-0x02e0 (192 bytes) - String compression
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]   ├─ Objects:      0x02e0-0x0784 (1188 bytes) - Object table + properties
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]   ├─ Dictionary:   0x0784-0x0788 (4 bytes) - Word parsing dictionary
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]   ├─ Strings:      0x0788-0x0e5a (1746 bytes) - Encoded text literals
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]   ├─ Code:         0x0e5a-0x137d (1315 bytes) - Executable functions
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]   └─ Total:        4989 bytes (Complete Z-Machine file)
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen] 🎯 PC CALCULATION: PC will point to 0x0e5a (init_locals_count=0, code_base=0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🏗️ Step 3b: Initializing 4989 byte complete Z-Machine image
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📝 Step 3c: Generating static header fields
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_headers] 📝 Phase 1: Generating static header fields (version, serial, flags)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_headers] 📝 Static header fields: Version 3, Serial 250905
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📋 Step 3d: Copying ALL separated spaces to final image (header-first monotonic approach)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  Globals space copied: 480 bytes at 0x0040
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  Abbreviations space copied: 192 bytes at 0x0220
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  Object space copied: 1188 bytes at 0x02e0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Starting property table address patching
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object space layout analysis:
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Object space size: 1188 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Defaults table: 62 bytes (0x00-0x3d)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Objects start at: 0x3e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Max objects: 125 (125x9 bytes)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 1 (index 0):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x003e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0045
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0325 (object_base 0x02e0 + prop_addr_offset 0x0045)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0325]: 0x00 0xbc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x00bc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Calculated absolute_addr: 0x039c (object_base 0x02e0 + space_relative 0x00bc)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Writing absolute addr 0x039c as bytes: 0x03 0x9c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - VERIFICATION: Read back 0x03 0x9c = 0x039c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 1 property table address: 0x00bc → 0x039c (corrected)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 2 (index 1):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0047
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x004e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x032e (object_base 0x02e0 + prop_addr_offset 0x004e)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x032e]: 0x00 0xc8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x00c8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Calculated absolute_addr: 0x03a8 (object_base 0x02e0 + space_relative 0x00c8)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Writing absolute addr 0x03a8 as bytes: 0x03 0xa8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - VERIFICATION: Read back 0x03 0xa8 = 0x03a8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 2 property table address: 0x00c8 → 0x03a8 (corrected)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 3 (index 2):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0050
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0057
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0337 (object_base 0x02e0 + prop_addr_offset 0x0057)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0337]: 0x01 0x0c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x010c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Calculated absolute_addr: 0x03ec (object_base 0x02e0 + space_relative 0x010c)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Writing absolute addr 0x03ec as bytes: 0x03 0xec
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - VERIFICATION: Read back 0x03 0xec = 0x03ec
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 3 property table address: 0x010c → 0x03ec (corrected)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 4 (index 3):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0059
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0060
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0340 (object_base 0x02e0 + prop_addr_offset 0x0060)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0340]: 0x01 0x84
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x0184
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Calculated absolute_addr: 0x0464 (object_base 0x02e0 + space_relative 0x0184)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Writing absolute addr 0x0464 as bytes: 0x04 0x64
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - VERIFICATION: Read back 0x04 0x64 = 0x0464
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 4 property table address: 0x0184 → 0x0464 (corrected)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 5 (index 4):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0062
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0069
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0349 (object_base 0x02e0 + prop_addr_offset 0x0069)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0349]: 0x01 0xc2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x01c2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Calculated absolute_addr: 0x04a2 (object_base 0x02e0 + space_relative 0x01c2)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Writing absolute addr 0x04a2 as bytes: 0x04 0xa2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - VERIFICATION: Read back 0x04 0xa2 = 0x04a2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 5 property table address: 0x01c2 → 0x04a2 (corrected)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 6 (index 5):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x006b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0072
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0352 (object_base 0x02e0 + prop_addr_offset 0x0072)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0352]: 0x02 0x34
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '4'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x0234
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Calculated absolute_addr: 0x0514 (object_base 0x02e0 + space_relative 0x0234)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Writing absolute addr 0x0514 as bytes: 0x05 0x14
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - VERIFICATION: Read back 0x05 0x14 = 0x0514
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 6 property table address: 0x0234 → 0x0514 (corrected)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 7 (index 6):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0074
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x007b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x035b (object_base 0x02e0 + prop_addr_offset 0x007b)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x035b]: 0x02 0xb2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x02b2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Calculated absolute_addr: 0x0592 (object_base 0x02e0 + space_relative 0x02b2)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Writing absolute addr 0x0592 as bytes: 0x05 0x92
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - VERIFICATION: Read back 0x05 0x92 = 0x0592
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 7 property table address: 0x02b2 → 0x0592 (corrected)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 8 (index 7):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x007d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0084
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0364 (object_base 0x02e0 + prop_addr_offset 0x0084)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0364]: 0x03 0x12
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x0312
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Calculated absolute_addr: 0x05f2 (object_base 0x02e0 + space_relative 0x0312)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Writing absolute addr 0x05f2 as bytes: 0x05 0xf2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - VERIFICATION: Read back 0x05 0xf2 = 0x05f2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 8 property table address: 0x0312 → 0x05f2 (corrected)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 9 (index 8):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0086
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x008d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x036d (object_base 0x02e0 + prop_addr_offset 0x008d)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x036d]: 0x03 0x5c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '\'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x035c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Calculated absolute_addr: 0x063c (object_base 0x02e0 + space_relative 0x035c)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Writing absolute addr 0x063c as bytes: 0x06 0x3c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - VERIFICATION: Read back 0x06 0x3c = 0x063c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 9 property table address: 0x035c → 0x063c (corrected)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 10 (index 9):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x008f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0096
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0376 (object_base 0x02e0 + prop_addr_offset 0x0096)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0376]: 0x03 0xa4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x03a4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Calculated absolute_addr: 0x0684 (object_base 0x02e0 + space_relative 0x03a4)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Writing absolute addr 0x0684 as bytes: 0x06 0x84
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - VERIFICATION: Read back 0x06 0x84 = 0x0684
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 10 property table address: 0x03a4 → 0x0684 (corrected)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 11 (index 10):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0098
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x009f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x037f (object_base 0x02e0 + prop_addr_offset 0x009f)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x037f]: 0x03 0xcc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x03cc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Calculated absolute_addr: 0x06ac (object_base 0x02e0 + space_relative 0x03cc)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Writing absolute addr 0x06ac as bytes: 0x06 0xac
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - VERIFICATION: Read back 0x06 0xac = 0x06ac
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 11 property table address: 0x03cc → 0x06ac (corrected)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 12 (index 11):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x00a1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x00a8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0388 (object_base 0x02e0 + prop_addr_offset 0x00a8)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0388]: 0x03 0xec
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x03ec
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Calculated absolute_addr: 0x06cc (object_base 0x02e0 + space_relative 0x03ec)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Writing absolute addr 0x06cc as bytes: 0x06 0xcc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - VERIFICATION: Read back 0x06 0xcc = 0x06cc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 12 property table address: 0x03ec → 0x06cc (corrected)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 13 (index 12):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x00aa
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x00b1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0391 (object_base 0x02e0 + prop_addr_offset 0x00b1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0391]: 0x04 0x0a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x040a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Calculated absolute_addr: 0x06ea (object_base 0x02e0 + space_relative 0x040a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Writing absolute addr 0x06ea as bytes: 0x06 0xea
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - VERIFICATION: Read back 0x06 0xea = 0x06ea
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 13 property table address: 0x040a → 0x06ea (corrected)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 14 (index 13):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x00b3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x00ba
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x039a (object_base 0x02e0 + prop_addr_offset 0x00ba)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x039a]: 0x04 0x2c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' ','
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x042c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Calculated absolute_addr: 0x070c (object_base 0x02e0 + space_relative 0x042c)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Writing absolute addr 0x070c as bytes: 0x07 0x0c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - VERIFICATION: Read back 0x07 0x0c = 0x070c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 14 property table address: 0x042c → 0x070c (corrected)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 15 (index 14):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x00bc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x00c3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x03a3 (object_base 0x02e0 + prop_addr_offset 0x00c3)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x03a3]: 0x5f 0x0a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '_' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x5f0a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 15 has invalid prop table addr 0x5f0a, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 16 (index 15):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x00c5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x00cc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x03ac (object_base 0x02e0 + prop_addr_offset 0x00cc)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x03ac]: 0x00 0x2d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '-'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x002d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Calculated absolute_addr: 0x030d (object_base 0x02e0 + space_relative 0x002d)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Writing absolute addr 0x030d as bytes: 0x03 0x0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - VERIFICATION: Read back 0x03 0x0d = 0x030d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 16 property table address: 0x002d → 0x030d (corrected)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 17 (index 16):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x00ce
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x00d5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x03b5 (object_base 0x02e0 + prop_addr_offset 0x00d5)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x03b5]: 0x5d 0x40
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: ']' '@'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x5d40
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 17 has invalid prop table addr 0x5d40, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 18 (index 17):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x00d7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x00de
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x03be (object_base 0x02e0 + prop_addr_offset 0x00de)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x03be]: 0x60 0x1a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '`' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x601a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 18 has invalid prop table addr 0x601a, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 19 (index 18):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x00e0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x00e7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x03c7 (object_base 0x02e0 + prop_addr_offset 0x00e7)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x03c7]: 0x24 0x1c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '$' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x241c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 19 has invalid prop table addr 0x241c, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 20 (index 19):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x00e9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x00f0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x03d0 (object_base 0x02e0 + prop_addr_offset 0x00f0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x03d0]: 0xae 0x65
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' 'e'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0xae65
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 20 has invalid prop table addr 0xae65, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 21 (index 20):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x00f2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x00f9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x03d9 (object_base 0x02e0 + prop_addr_offset 0x00f9)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x03d9]: 0x3b 0x2d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: ';' '-'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x3b2d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 21 has invalid prop table addr 0x3b2d, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 22 (index 21):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x00fb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0102
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x03e2 (object_base 0x02e0 + prop_addr_offset 0x0102)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x03e2]: 0x0b 0x5e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '^'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x0b5e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 22 has invalid prop table addr 0x0b5e, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 23 (index 22):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0104
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x010b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x03eb (object_base 0x02e0 + prop_addr_offset 0x010b)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x03eb]: 0x00 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x0000
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 23 has invalid prop table addr 0x0000, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 24 (index 23):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x010d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0114
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x03f4 (object_base 0x02e0 + prop_addr_offset 0x0114)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x03f4]: 0xe7 0x13
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0xe713
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 24 has invalid prop table addr 0xe713, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 25 (index 24):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0116
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x011d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x03fd (object_base 0x02e0 + prop_addr_offset 0x011d)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x03fd]: 0x3a 0x6c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: ':' 'l'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x3a6c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 25 has invalid prop table addr 0x3a6c, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 26 (index 25):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x011f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0126
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0406 (object_base 0x02e0 + prop_addr_offset 0x0126)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0406]: 0x18 0x39
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '9'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x1839
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 26 has invalid prop table addr 0x1839, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 27 (index 26):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0128
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x012f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x040f (object_base 0x02e0 + prop_addr_offset 0x012f)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x040f]: 0x65 0x40
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: 'e' '@'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x6540
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 27 has invalid prop table addr 0x6540, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 28 (index 27):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0131
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0138
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0418 (object_base 0x02e0 + prop_addr_offset 0x0138)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0418]: 0xaa 0x5d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' ']'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0xaa5d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 28 has invalid prop table addr 0xaa5d, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 29 (index 28):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x013a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0141
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0421 (object_base 0x02e0 + prop_addr_offset 0x0141)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0421]: 0x5c 0x0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '\' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x5c0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 29 has invalid prop table addr 0x5c0d, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 30 (index 29):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0143
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x014a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x042a (object_base 0x02e0 + prop_addr_offset 0x014a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x042a]: 0xd1 0x44
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' 'D'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0xd144
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 30 has invalid prop table addr 0xd144, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 31 (index 30):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x014c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0153
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0433 (object_base 0x02e0 + prop_addr_offset 0x0153)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0433]: 0x60 0x06
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '`' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x6006
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 31 has invalid prop table addr 0x6006, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 32 (index 31):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0155
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x015c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x043c (object_base 0x02e0 + prop_addr_offset 0x015c)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x043c]: 0x1a 0x54
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' 'T'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x1a54
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 32 has invalid prop table addr 0x1a54, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 33 (index 32):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x015e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0165
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0445 (object_base 0x02e0 + prop_addr_offset 0x0165)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0445]: 0x4e 0x97
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: 'N' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x4e97
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 33 has invalid prop table addr 0x4e97, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 34 (index 33):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0167
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x016e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x044e (object_base 0x02e0 + prop_addr_offset 0x016e)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x044e]: 0x80 0x54
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' 'T'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x8054
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 34 has invalid prop table addr 0x8054, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 35 (index 34):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0170
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0177
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0457 (object_base 0x02e0 + prop_addr_offset 0x0177)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0457]: 0x36 0xf4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '6' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x36f4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 35 has invalid prop table addr 0x36f4, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 36 (index 35):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0179
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0180
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0460 (object_base 0x02e0 + prop_addr_offset 0x0180)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0460]: 0x4a 0xe0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: 'J' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x4ae0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 36 has invalid prop table addr 0x4ae0, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 37 (index 36):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0182
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0189
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0469 (object_base 0x02e0 + prop_addr_offset 0x0189)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0469]: 0x2d 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '-' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x2d00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 37 has invalid prop table addr 0x2d00, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 38 (index 37):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x018b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0192
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0472 (object_base 0x02e0 + prop_addr_offset 0x0192)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0472]: 0x40 0x2c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '@' ','
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x402c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 38 has invalid prop table addr 0x402c, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 39 (index 38):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0194
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x019b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x047b (object_base 0x02e0 + prop_addr_offset 0x019b)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x047b]: 0x53 0x59
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: 'S' 'Y'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x5359
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 39 has invalid prop table addr 0x5359, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 40 (index 39):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x019d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x01a4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0484 (object_base 0x02e0 + prop_addr_offset 0x01a4)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0484]: 0xc0 0x71
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' 'q'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0xc071
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 40 has invalid prop table addr 0xc071, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 41 (index 40):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x01a6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x01ad
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x048d (object_base 0x02e0 + prop_addr_offset 0x01ad)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x048d]: 0x48 0x04
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: 'H' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x4804
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 41 has invalid prop table addr 0x4804, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 42 (index 41):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x01af
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x01b6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0496 (object_base 0x02e0 + prop_addr_offset 0x01b6)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0496]: 0x38 0x03
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '8' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x3803
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 42 has invalid prop table addr 0x3803, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 43 (index 42):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x01b8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x01bf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x049f (object_base 0x02e0 + prop_addr_offset 0x01bf)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x049f]: 0x96 0x40
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '@'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x9640
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 43 has invalid prop table addr 0x9640, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 44 (index 43):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x01c1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x01c8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x04a8 (object_base 0x02e0 + prop_addr_offset 0x01c8)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x04a8]: 0x00 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x0000
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 44 has invalid prop table addr 0x0000, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 45 (index 44):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x01ca
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x01d1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x04b1 (object_base 0x02e0 + prop_addr_offset 0x01d1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x04b1]: 0x1d 0x4d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' 'M'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x1d4d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 45 has invalid prop table addr 0x1d4d, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 46 (index 45):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x01d3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x01da
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x04ba (object_base 0x02e0 + prop_addr_offset 0x01da)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x04ba]: 0xd9 0x28
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '('
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0xd928
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 46 has invalid prop table addr 0xd928, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 47 (index 46):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x01dc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x01e3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x04c3 (object_base 0x02e0 + prop_addr_offset 0x01e3)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x04c3]: 0x02 0xa6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x02a6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Calculated absolute_addr: 0x0586 (object_base 0x02e0 + space_relative 0x02a6)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Writing absolute addr 0x0586 as bytes: 0x05 0x86
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - VERIFICATION: Read back 0x05 0x86 = 0x0586
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 47 property table address: 0x02a6 → 0x0586 (corrected)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 48 (index 47):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x01e5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x01ec
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x04cc (object_base 0x02e0 + prop_addr_offset 0x01ec)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x04cc]: 0x79 0x50
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: 'y' 'P'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x7950
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 48 has invalid prop table addr 0x7950, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 49 (index 48):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x01ee
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x01f5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x04d5 (object_base 0x02e0 + prop_addr_offset 0x01f5)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x04d5]: 0x03 0x34
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '4'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x0334
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Calculated absolute_addr: 0x0614 (object_base 0x02e0 + space_relative 0x0334)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Writing absolute addr 0x0614 as bytes: 0x06 0x14
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - VERIFICATION: Read back 0x06 0x14 = 0x0614
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 49 property table address: 0x0334 → 0x0614 (corrected)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 50 (index 49):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x01f7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x01fe
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x04de (object_base 0x02e0 + prop_addr_offset 0x01fe)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x04de]: 0x40 0x11
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '@' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x4011
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 50 has invalid prop table addr 0x4011, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 51 (index 50):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0200
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0207
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x04e7 (object_base 0x02e0 + prop_addr_offset 0x0207)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x04e7]: 0x2a 0xe0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '*' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x2ae0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 51 has invalid prop table addr 0x2ae0, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 52 (index 51):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0209
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0210
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x04f0 (object_base 0x02e0 + prop_addr_offset 0x0210)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x04f0]: 0x0a 0x03
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x0a03
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 52 has invalid prop table addr 0x0a03, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 53 (index 52):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0212
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0219
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x04f9 (object_base 0x02e0 + prop_addr_offset 0x0219)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x04f9]: 0x62 0x46
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: 'b' 'F'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x6246
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 53 has invalid prop table addr 0x6246, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 54 (index 53):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x021b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0222
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0502 (object_base 0x02e0 + prop_addr_offset 0x0222)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0502]: 0x8d 0x39
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '9'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x8d39
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 54 has invalid prop table addr 0x8d39, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 55 (index 54):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0224
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x022b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x050b (object_base 0x02e0 + prop_addr_offset 0x022b)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x050b]: 0x66 0x3e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: 'f' '>'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x663e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 55 has invalid prop table addr 0x663e, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 56 (index 55):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x022d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0234
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0514 (object_base 0x02e0 + prop_addr_offset 0x0234)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0514]: 0x00 0x13
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x0013
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Calculated absolute_addr: 0x02f3 (object_base 0x02e0 + space_relative 0x0013)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Writing absolute addr 0x02f3 as bytes: 0x02 0xf3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - VERIFICATION: Read back 0x02 0xf3 = 0x02f3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 56 property table address: 0x0013 → 0x02f3 (corrected)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 57 (index 56):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0236
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x023d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x051d (object_base 0x02e0 + prop_addr_offset 0x023d)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x051d]: 0x13 0x2d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '-'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x132d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 57 has invalid prop table addr 0x132d, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 58 (index 57):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x023f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0246
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0526 (object_base 0x02e0 + prop_addr_offset 0x0246)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0526]: 0x2d 0x03
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '-' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x2d03
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 58 has invalid prop table addr 0x2d03, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 59 (index 58):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0248
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x024f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x052f (object_base 0x02e0 + prop_addr_offset 0x024f)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x052f]: 0x53 0x4c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: 'S' 'L'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x534c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 59 has invalid prop table addr 0x534c, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 60 (index 59):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0251
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0258
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0538 (object_base 0x02e0 + prop_addr_offset 0x0258)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0538]: 0x2e 0x64
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' 'd'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x2e64
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 60 has invalid prop table addr 0x2e64, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 61 (index 60):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x025a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0261
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0541 (object_base 0x02e0 + prop_addr_offset 0x0261)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0541]: 0x65 0xaa
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: 'e' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x65aa
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 61 has invalid prop table addr 0x65aa, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 62 (index 61):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0263
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x026a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x054a (object_base 0x02e0 + prop_addr_offset 0x026a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x054a]: 0x00 0x4e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' 'N'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x004e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Calculated absolute_addr: 0x032e (object_base 0x02e0 + space_relative 0x004e)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Writing absolute addr 0x032e as bytes: 0x03 0x2e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - VERIFICATION: Read back 0x03 0x2e = 0x032e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 62 property table address: 0x004e → 0x032e (corrected)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 63 (index 62):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x026c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0273
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0553 (object_base 0x02e0 + prop_addr_offset 0x0273)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0553]: 0x01 0xaa
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x01aa
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Calculated absolute_addr: 0x048a (object_base 0x02e0 + space_relative 0x01aa)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Writing absolute addr 0x048a as bytes: 0x04 0x8a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - VERIFICATION: Read back 0x04 0x8a = 0x048a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 63 property table address: 0x01aa → 0x048a (corrected)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 64 (index 63):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0275
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x027c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x055c (object_base 0x02e0 + prop_addr_offset 0x027c)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x055c]: 0xa6 0x5f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '_'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0xa65f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 64 has invalid prop table addr 0xa65f, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 65 (index 64):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x027e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0285
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0565 (object_base 0x02e0 + prop_addr_offset 0x0285)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0565]: 0x1a 0xec
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x1aec
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 65 has invalid prop table addr 0x1aec, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 66 (index 65):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0287
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x028e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x056e (object_base 0x02e0 + prop_addr_offset 0x028e)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x056e]: 0xa0 0x62
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' 'b'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0xa062
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 66 has invalid prop table addr 0xa062, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 67 (index 66):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0290
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0297
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0577 (object_base 0x02e0 + prop_addr_offset 0x0297)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0577]: 0x4d 0x0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: 'M' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x4d0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 67 has invalid prop table addr 0x4d0d, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 68 (index 67):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0299
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x02a0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0580 (object_base 0x02e0 + prop_addr_offset 0x02a0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0580]: 0xd9 0x03
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0xd903
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 68 has invalid prop table addr 0xd903, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 69 (index 68):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x02a2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x02a9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0589 (object_base 0x02e0 + prop_addr_offset 0x02a9)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0589]: 0x03 0x2d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '-'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x032d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Calculated absolute_addr: 0x060d (object_base 0x02e0 + space_relative 0x032d)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Writing absolute addr 0x060d as bytes: 0x06 0x0d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - VERIFICATION: Read back 0x06 0x0d = 0x060d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 69 property table address: 0x032d → 0x060d (corrected)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 70 (index 69):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x02ab
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x02b2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0592 (object_base 0x02e0 + prop_addr_offset 0x02b2)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0592]: 0x00 0x13
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x0013
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Calculated absolute_addr: 0x02f3 (object_base 0x02e0 + space_relative 0x0013)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Writing absolute addr 0x02f3 as bytes: 0x02 0xf3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - VERIFICATION: Read back 0x02 0xf3 = 0x02f3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 70 property table address: 0x0013 → 0x02f3 (corrected)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 71 (index 70):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x02b4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x02bb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x059b (object_base 0x02e0 + prop_addr_offset 0x02bb)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x059b]: 0x13 0xd4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x13d4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 71 has invalid prop table addr 0x13d4, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 72 (index 71):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x02bd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x02c4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x05a4 (object_base 0x02e0 + prop_addr_offset 0x02c4)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x05a4]: 0x20 0x15
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: ' ' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x2015
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 72 has invalid prop table addr 0x2015, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 73 (index 72):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x02c6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x02cd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x05ad (object_base 0x02e0 + prop_addr_offset 0x02cd)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x05ad]: 0x53 0x6a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: 'S' 'j'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x536a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 73 has invalid prop table addr 0x536a, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 74 (index 73):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x02cf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x02d6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x05b6 (object_base 0x02e0 + prop_addr_offset 0x02d6)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x05b6]: 0x20 0x4d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: ' ' 'M'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x204d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 74 has invalid prop table addr 0x204d, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 75 (index 74):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x02d8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x02df
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x05bf (object_base 0x02e0 + prop_addr_offset 0x02df)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x05bf]: 0x30 0x18
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '0' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x3018
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 75 has invalid prop table addr 0x3018, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 76 (index 75):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x02e1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x02e8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x05c8 (object_base 0x02e0 + prop_addr_offset 0x02e8)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x05c8]: 0xf7 0x1a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0xf71a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 76 has invalid prop table addr 0xf71a, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 77 (index 76):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x02ea
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x02f1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x05d1 (object_base 0x02e0 + prop_addr_offset 0x02f1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x05d1]: 0x28 0x13
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '(' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x2813
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 77 has invalid prop table addr 0x2813, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 78 (index 77):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x02f3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x02fa
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x05da (object_base 0x02e0 + prop_addr_offset 0x02fa)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x05da]: 0x68 0x34
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: 'h' '4'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x6834
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 78 has invalid prop table addr 0x6834, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 79 (index 78):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x02fc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0303
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x05e3 (object_base 0x02e0 + prop_addr_offset 0x0303)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x05e3]: 0x3b 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: ';' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x3b00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 79 has invalid prop table addr 0x3b00, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 80 (index 79):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0305
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x030c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x05ec (object_base 0x02e0 + prop_addr_offset 0x030c)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x05ec]: 0x17 0x28
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '('
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x1728
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 80 has invalid prop table addr 0x1728, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 81 (index 80):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x030e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0315
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x05f5 (object_base 0x02e0 + prop_addr_offset 0x0315)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x05f5]: 0x0e 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x0e00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 81 has invalid prop table addr 0x0e00, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 82 (index 81):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0317
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x031e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x05fe (object_base 0x02e0 + prop_addr_offset 0x031e)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x05fe]: 0x00 0x3b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' ';'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x003b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Calculated absolute_addr: 0x031b (object_base 0x02e0 + space_relative 0x003b)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Writing absolute addr 0x031b as bytes: 0x03 0x1b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - VERIFICATION: Read back 0x03 0x1b = 0x031b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 82 property table address: 0x003b → 0x031b (corrected)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 83 (index 82):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0320
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0327
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0607 (object_base 0x02e0 + prop_addr_offset 0x0327)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0607]: 0x4c 0x1c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: 'L' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x4c1c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 83 has invalid prop table addr 0x4c1c, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 84 (index 83):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0329
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0330
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0610 (object_base 0x02e0 + prop_addr_offset 0x0330)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0610]: 0xd3 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0xd300
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 84 has invalid prop table addr 0xd300, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 85 (index 84):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0332
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0339
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0619 (object_base 0x02e0 + prop_addr_offset 0x0339)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0619]: 0x52 0x78
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: 'R' 'x'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x5278
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 85 has invalid prop table addr 0x5278, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 86 (index 85):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x033b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0342
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0622 (object_base 0x02e0 + prop_addr_offset 0x0342)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0622]: 0x0a 0x1b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x0a1b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 86 has invalid prop table addr 0x0a1b, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 87 (index 86):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0344
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x034b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x062b (object_base 0x02e0 + prop_addr_offset 0x034b)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x062b]: 0x1a 0xb5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x1ab5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 87 has invalid prop table addr 0x1ab5, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 88 (index 87):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x034d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0354
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0634 (object_base 0x02e0 + prop_addr_offset 0x0354)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0634]: 0x18 0x6a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' 'j'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x186a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 88 has invalid prop table addr 0x186a, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 89 (index 88):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0356
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x035d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x063d (object_base 0x02e0 + prop_addr_offset 0x035d)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x063d]: 0x13 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x1300
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 89 has invalid prop table addr 0x1300, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 90 (index 89):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x035f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0366
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0646 (object_base 0x02e0 + prop_addr_offset 0x0366)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0646]: 0xd4 0x68
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' 'h'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0xd468
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 90 has invalid prop table addr 0xd468, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 91 (index 90):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0368
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x036f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x064f (object_base 0x02e0 + prop_addr_offset 0x036f)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x064f]: 0x45 0x46
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: 'E' 'F'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x4546
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 91 has invalid prop table addr 0x4546, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 92 (index 91):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0371
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0378
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0658 (object_base 0x02e0 + prop_addr_offset 0x0378)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0658]: 0xa0 0x18
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0xa018
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 92 has invalid prop table addr 0xa018, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 93 (index 92):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x037a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0381
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0661 (object_base 0x02e0 + prop_addr_offset 0x0381)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0661]: 0x5e 0x9a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '^' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x5e9a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 93 has invalid prop table addr 0x5e9a, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 94 (index 93):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0383
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x038a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x066a (object_base 0x02e0 + prop_addr_offset 0x038a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x066a]: 0x93 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x9300
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 94 has invalid prop table addr 0x9300, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 95 (index 94):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x038c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0393
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0673 (object_base 0x02e0 + prop_addr_offset 0x0393)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0673]: 0x00 0x86
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x0086
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Calculated absolute_addr: 0x0366 (object_base 0x02e0 + space_relative 0x0086)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Writing absolute addr 0x0366 as bytes: 0x03 0x66
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - VERIFICATION: Read back 0x03 0x66 = 0x0366
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 95 property table address: 0x0086 → 0x0366 (corrected)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 96 (index 95):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0395
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x039c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x067c (object_base 0x02e0 + prop_addr_offset 0x039c)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x067c]: 0x00 0x62
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' 'b'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x0062
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Calculated absolute_addr: 0x0342 (object_base 0x02e0 + space_relative 0x0062)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Writing absolute addr 0x0342 as bytes: 0x03 0x42
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - VERIFICATION: Read back 0x03 0x42 = 0x0342
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 96 property table address: 0x0062 → 0x0342 (corrected)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 97 (index 96):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x039e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x03a5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0685 (object_base 0x02e0 + prop_addr_offset 0x03a5)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0685]: 0x10 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x1001
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 97 has invalid prop table addr 0x1001, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 98 (index 97):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x03a7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x03ae
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x068e (object_base 0x02e0 + prop_addr_offset 0x03ae)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x068e]: 0x46 0x46
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: 'F' 'F'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x4646
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 98 has invalid prop table addr 0x4646, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 99 (index 98):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x03b0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x03b7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0697 (object_base 0x02e0 + prop_addr_offset 0x03b7)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0697]: 0xe2 0x14
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0xe214
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 99 has invalid prop table addr 0xe214, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 100 (index 99):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x03b9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x03c0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x06a0 (object_base 0x02e0 + prop_addr_offset 0x03c0)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x06a0]: 0x52 0x65
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: 'R' 'e'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x5265
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 100 has invalid prop table addr 0x5265, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 101 (index 100):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x03c2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x03c9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x06a9 (object_base 0x02e0 + prop_addr_offset 0x03c9)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x06a9]: 0xf4 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0xf400
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 101 has invalid prop table addr 0xf400, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 102 (index 101):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x03cb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x03d2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x06b2 (object_base 0x02e0 + prop_addr_offset 0x03d2)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x06b2]: 0x46 0x2e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: 'F' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x462e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 102 has invalid prop table addr 0x462e, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 103 (index 102):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x03d4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x03db
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x06bb (object_base 0x02e0 + prop_addr_offset 0x03db)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x06bb]: 0x5d 0x56
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: ']' 'V'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x5d56
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 103 has invalid prop table addr 0x5d56, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 104 (index 103):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x03dd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x03e4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x06c4 (object_base 0x02e0 + prop_addr_offset 0x03e4)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x06c4]: 0xa1 0x45
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' 'E'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0xa145
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 104 has invalid prop table addr 0xa145, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 105 (index 104):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x03e6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x03ed
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x06cd (object_base 0x02e0 + prop_addr_offset 0x03ed)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x06cd]: 0x0f 0x01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x0f01
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 105 has invalid prop table addr 0x0f01, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 106 (index 105):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x03ef
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x03f6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x06d6 (object_base 0x02e0 + prop_addr_offset 0x03f6)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x06d6]: 0x9c 0xe2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x9ce2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 106 has invalid prop table addr 0x9ce2, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 107 (index 106):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x03f8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x03ff
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x06df (object_base 0x02e0 + prop_addr_offset 0x03ff)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x06df]: 0x0e 0x52
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' 'R'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x0e52
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 107 has invalid prop table addr 0x0e52, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 108 (index 107):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0401
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0408
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x06e8 (object_base 0x02e0 + prop_addr_offset 0x0408)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x06e8]: 0x9c 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x9c00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 108 has invalid prop table addr 0x9c00, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 109 (index 108):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x040a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0411
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x06f1 (object_base 0x02e0 + prop_addr_offset 0x0411)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x06f1]: 0x1d 0xd7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x1dd7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 109 has invalid prop table addr 0x1dd7, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 110 (index 109):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0413
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x041a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x06fa (object_base 0x02e0 + prop_addr_offset 0x041a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x06fa]: 0x14 0xc2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x14c2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 110 has invalid prop table addr 0x14c2, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 111 (index 110):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x041c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0423
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0703 (object_base 0x02e0 + prop_addr_offset 0x0423)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0703]: 0x65 0x98
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: 'e' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x6598
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 111 has invalid prop table addr 0x6598, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 112 (index 111):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0425
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x042c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x070c (object_base 0x02e0 + prop_addr_offset 0x042c)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x070c]: 0x00 0x12
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x0012
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Calculated absolute_addr: 0x02f2 (object_base 0x02e0 + space_relative 0x0012)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Writing absolute addr 0x02f2 as bytes: 0x02 0xf2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - VERIFICATION: Read back 0x02 0xf2 = 0x02f2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 112 property table address: 0x0012 → 0x02f2 (corrected)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 113 (index 112):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x042e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0435
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0715 (object_base 0x02e0 + prop_addr_offset 0x0435)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0715]: 0x00 0xe7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x00e7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Calculated absolute_addr: 0x03c7 (object_base 0x02e0 + space_relative 0x00e7)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Writing absolute addr 0x03c7 as bytes: 0x03 0xc7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - VERIFICATION: Read back 0x03 0xc7 = 0x03c7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 113 property table address: 0x00e7 → 0x03c7 (corrected)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 114 (index 113):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0437
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x043e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x071e (object_base 0x02e0 + prop_addr_offset 0x043e)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x071e]: 0xfa 0x63
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' 'c'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0xfa63
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 114 has invalid prop table addr 0xfa63, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 115 (index 114):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0440
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0447
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0727 (object_base 0x02e0 + prop_addr_offset 0x0447)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0727]: 0xc2 0x6d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' 'm'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0xc26d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 115 has invalid prop table addr 0xc26d, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 116 (index 115):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0449
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0450
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0730 (object_base 0x02e0 + prop_addr_offset 0x0450)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0730]: 0x98 0x5d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' ']'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x985d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 116 has invalid prop table addr 0x985d, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 117 (index 116):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0452
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0459
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0739 (object_base 0x02e0 + prop_addr_offset 0x0459)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0739]: 0x00 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x0000
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 117 has invalid prop table addr 0x0000, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 118 (index 117):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x045b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0462
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0742 (object_base 0x02e0 + prop_addr_offset 0x0462)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0742]: 0x00 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x0000
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 118 has invalid prop table addr 0x0000, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 119 (index 118):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0464
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x046b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x074b (object_base 0x02e0 + prop_addr_offset 0x046b)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x074b]: 0x00 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x0000
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 119 has invalid prop table addr 0x0000, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 120 (index 119):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x046d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0474
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0754 (object_base 0x02e0 + prop_addr_offset 0x0474)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0754]: 0x00 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x0000
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 120 has invalid prop table addr 0x0000, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 121 (index 120):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0476
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x047d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x075d (object_base 0x02e0 + prop_addr_offset 0x047d)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x075d]: 0x00 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x0000
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 121 has invalid prop table addr 0x0000, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 122 (index 121):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x047f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0486
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0766 (object_base 0x02e0 + prop_addr_offset 0x0486)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0766]: 0x00 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x0000
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 122 has invalid prop table addr 0x0000, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 123 (index 122):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0488
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x048f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x076f (object_base 0x02e0 + prop_addr_offset 0x048f)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x076f]: 0x00 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x0000
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 123 has invalid prop table addr 0x0000, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 124 (index 123):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x0491
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x0498
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0778 (object_base 0x02e0 + prop_addr_offset 0x0498)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0778]: 0x00 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x0000
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 124 has invalid prop table addr 0x0000, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH DETAILED: Object 125 (index 124):
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - obj_offset_in_space: 0x049a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - prop_addr_offset: 0x04a1
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - final_addr_offset: 0x0781 (object_base 0x02e0 + prop_addr_offset 0x04a1)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Reading bytes from final_data[0x0781]: 0x00 0x00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - As chars: '.' '.'
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]   - Decoded space_relative_addr: 0x0000
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Object 125 has invalid prop table addr 0x0000, skipping
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PATCH: Property table address patching complete: 27 objects patched
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  Dictionary space copied: 4 bytes at 0x0784
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  String space copied: 1746 bytes at 0x0788
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  CODE_COPY_DEBUG: code_base=0x0e5a, total_size=0x137d, code_space.len()=1315
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  CODE_COPY_DEBUG: Slice bounds [3674..4989] = 1315 bytes
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  CODE_COPY_DEBUG: Code space first 10 bytes: [0, 227, 19, 0, 1, 13, 0, 2, 227, 19]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  Code space copied: 1315 bytes at 0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  CODE_COPY_VERIFY: Final data at code_base first 10 bytes: [0, 227, 19, 0, 1, 13, 0, 2, 227, 19]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  Step 3e: Updating header address fields with final memory layout
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PC_CALCULATION_DEBUG: final_code_base=0x0e5a, init_locals_count=0, calculated_pc=0x0e5b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  PC_CALCULATION_DEBUG: PC will point to first instruction at 0x0e5b (after header at 0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_headers] 📝 Phase 2: Updating header address fields with final memory layout
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_headers] 📝 Address fields updated: PC=0x0e5b, Dict=0x0784, Obj=0x02e0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  Step 3e.5: Mapping all object IR IDs to addresses for UnresolvedReference resolution
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔧 OBJECT_IR_ID_MAPPING: Adding all object IR IDs to address mapping table
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔧 OBJECT_IR_ID_MAPPING: IR ID 59 -> Object #13 (address=13)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔧 OBJECT_IR_ID_MAPPING: IR ID 28 -> Object #2 (address=2)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔧 OBJECT_IR_ID_MAPPING: IR ID 55 -> Object #9 (address=9)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔧 OBJECT_IR_ID_MAPPING: IR ID 45 -> Object #8 (address=8)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔧 OBJECT_IR_ID_MAPPING: IR ID 57 -> Object #11 (address=11)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔧 OBJECT_IR_ID_MAPPING: IR ID 29 -> Object #3 (address=3)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔧 OBJECT_IR_ID_MAPPING: IR ID 42 -> Object #5 (address=5)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔧 OBJECT_IR_ID_MAPPING: IR ID 30 -> Object #4 (address=4)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔧 OBJECT_IR_ID_MAPPING: IR ID 58 -> Object #12 (address=12)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔧 OBJECT_IR_ID_MAPPING: IR ID 43 -> Object #6 (address=6)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔧 OBJECT_IR_ID_MAPPING: IR ID 44 -> Object #7 (address=7)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔧 OBJECT_IR_ID_MAPPING: IR ID 56 -> Object #10 (address=10)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔧 OBJECT_IR_ID_MAPPING: IR ID 60 -> Object #14 (address=14)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 🔧 OBJECT_IR_ID_MAPPING: Added 13 object IR ID mappings
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  Step 3f: Resolving all address references and fixups
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]  Resolving all address references in final game image
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen] 📋 Processing 80 unresolved references
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x0010] -> final=0x0e6a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: StringRef target_id=562 location=0x0e6a packed=true offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_RESOLVE_DEBUG: String ID 562 offset=0x0188 + base=0x0788 = final_addr=0x0910
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Patch 2-byte: location=0x0e6a old_value=0xffff -> new_value=0x0910
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_LEGACY_PACK_DEBUG: String ID 562 target_address=0x0910 packed to 0x0488
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_WRITE_DEBUG: Writing 0x04 0x88 to location 0x0e6a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x0013] -> final=0x0e6d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: StringRef target_id=564 location=0x0e6d packed=true offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_RESOLVE_DEBUG: String ID 564 offset=0x01a2 + base=0x0788 = final_addr=0x092a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Patch 2-byte: location=0x0e6d old_value=0xffff -> new_value=0x092a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_LEGACY_PACK_DEBUG: String ID 564 target_address=0x092a packed to 0x0495
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_WRITE_DEBUG: Writing 0x04 0x95 to location 0x0e6d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x0016] -> final=0x0e70
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: StringRef target_id=566 location=0x0e70 packed=true offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_RESOLVE_DEBUG: String ID 566 offset=0x01cc + base=0x0788 = final_addr=0x0954
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Patch 2-byte: location=0x0e70 old_value=0xffff -> new_value=0x0954
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_LEGACY_PACK_DEBUG: String ID 566 target_address=0x0954 packed to 0x04aa
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_WRITE_DEBUG: Writing 0x04 0xaa to location 0x0e70
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x0019] -> final=0x0e73
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: StringRef target_id=568 location=0x0e73 packed=true offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_RESOLVE_DEBUG: String ID 568 offset=0x01f2 + base=0x0788 = final_addr=0x097a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] String 568 debug: About to patch address
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] String 568 debug: target_address: 0x097a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] String 568 debug: offset_size: 2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] String 568 debug: Will write bytes: high=0x09, low=0x7a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Patch 2-byte: location=0x0e73 old_value=0xffff -> new_value=0x097a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_LEGACY_PACK_DEBUG: String ID 568 target_address=0x097a packed to 0x04bd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_WRITE_DEBUG: Writing 0x04 0xbd to location 0x0e73
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] String 568 debug: Wrote 2-bytes: 0x097a at locations 0x0e73-0x0e74
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] String 568 debug: Verification read: 0x04bd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x001c] -> final=0x0e76
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: StringRef target_id=570 location=0x0e76 packed=true offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_RESOLVE_DEBUG: String ID 570 offset=0x0202 + base=0x0788 = final_addr=0x098a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Patch 2-byte: location=0x0e76 old_value=0xffff -> new_value=0x098a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_LEGACY_PACK_DEBUG: String ID 570 target_address=0x098a packed to 0x04c5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_WRITE_DEBUG: Writing 0x04 0xc5 to location 0x0e76
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x001f] -> final=0x0e79
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: StringRef target_id=572 location=0x0e79 packed=true offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_RESOLVE_DEBUG: String ID 572 offset=0x0220 + base=0x0788 = final_addr=0x09a8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Patch 2-byte: location=0x0e79 old_value=0xffff -> new_value=0x09a8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_LEGACY_PACK_DEBUG: String ID 572 target_address=0x09a8 packed to 0x04d4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_WRITE_DEBUG: Writing 0x04 0xd4 to location 0x0e79
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x0023] -> final=0x0e7d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: FunctionCall target_id=1 location=0x0e7d packed=true offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ADDRESS_RESOLUTION_DEBUG: Looking up function 1 in ir_id_to_address table
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ADDRESS_RESOLUTION_DEBUG: Found function 1 at address 0x0e86
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ADDRESS_RESOLUTION_DEBUG: Address 0x0e86 is already absolute (>= final_code_base 0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ADDRESS_RESOLUTION_DEBUG: final_addr=0x0e86 from routine_addr=0x0e86
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ADDRESS_FIX: Function 1 call targets header start at 0x0e86
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ADDRESS_RESOLUTION_DEBUG: Packed address calculation: 0x0e86 / 2 = 0x0743
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Patch 2-byte: location=0x0e7d old_value=0xffff -> new_value=0x0743
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_PATCH_DEBUG: ID 1 target_address=0x0743 not packed (type=FunctionCall, is_packed=true)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_WRITE_DEBUG: Writing 0x07 0x43 to location 0x0e7d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x002a] -> final=0x0e84
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: Jump target_id=9001 location=0x0e84 packed=false offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Jump resolution: Converting code_space offset 0x1371 to final address 0x1371
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Jump resolution: Using jump offset calculation (signed word, not branch encoding)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_jump_offset: location=0x0e84, target_address=0x1371
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_jump_offset: current_PC=0x0e86, offset=1261
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_jump_offset: Writing jump offset 0x04ed (1261) as bytes 0x04 0xed to location 0x0e84
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x04 directly to final_data[0x0e84]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0xed directly to final_data[0x0e85]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x003e] -> final=0x0e98
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: FunctionCall target_id=12 location=0x0e98 packed=true offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ADDRESS_RESOLUTION_DEBUG: Looking up function 12 in ir_id_to_address table
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ADDRESS_RESOLUTION_DEBUG: Found function 12 at address 0x11fc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ADDRESS_RESOLUTION_DEBUG: Address 0x11fc is already absolute (>= final_code_base 0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ADDRESS_RESOLUTION_DEBUG: final_addr=0x11fc from routine_addr=0x11fc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ADDRESS_FIX: Function 12 call targets header start at 0x11fc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ADDRESS_RESOLUTION_DEBUG: Packed address calculation: 0x11fc / 2 = 0x08fe
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Patch 2-byte: location=0x0e98 old_value=0xffff -> new_value=0x08fe
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_PATCH_DEBUG: ID 12 target_address=0x08fe not packed (type=FunctionCall, is_packed=true)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_WRITE_DEBUG: Writing 0x08 0xfe to location 0x0e98
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x004c] -> final=0x0ea6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: Branch target_id=73 location=0x0ea6 packed=false offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Resolved address 0x0ec6 from offset 0x0ec6 (final_code_base=0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Calling patch_branch_offset to calculate relative offset
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: location=0x0ea6, target_address=0x0ec6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: address_after_2byte=0x0ea8, offset_2byte=32
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x80 directly to final_data[0x0ea6]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x20 directly to final_data[0x0ea7]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: 2-byte format, wrote 0x80 0x20 at location 0x0ea6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: patch_branch_offset returned: Ok(())
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x0058] -> final=0x0eb2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: Branch target_id=81 location=0x0eb2 packed=false offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Resolved address 0x0ebf from offset 0x0ebf (final_code_base=0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Calling patch_branch_offset to calculate relative offset
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: location=0x0eb2, target_address=0x0ebf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: address_after_2byte=0x0eb4, offset_2byte=13
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x80 directly to final_data[0x0eb2]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x0d directly to final_data[0x0eb3]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: 2-byte format, wrote 0x80 0x0d at location 0x0eb2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: patch_branch_offset returned: Ok(())
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x0090] -> final=0x0eea
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: StringRef target_id=100 location=0x0eea packed=true offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_RESOLVE_DEBUG: String ID 100 offset=0x0000 + base=0x0788 = final_addr=0x0788
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Patch 2-byte: location=0x0eea old_value=0xffff -> new_value=0x0788
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_LEGACY_PACK_DEBUG: String ID 100 target_address=0x0788 packed to 0x03c4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_WRITE_DEBUG: Writing 0x03 0xc4 to location 0x0eea
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x0099] -> final=0x0ef3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: FunctionCall target_id=11 location=0x0ef3 packed=true offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ADDRESS_RESOLUTION_DEBUG: Looking up function 11 in ir_id_to_address table
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ADDRESS_RESOLUTION_DEBUG: Found function 11 at address 0x11aa
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ADDRESS_RESOLUTION_DEBUG: Address 0x11aa is already absolute (>= final_code_base 0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ADDRESS_RESOLUTION_DEBUG: final_addr=0x11aa from routine_addr=0x11aa
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ADDRESS_FIX: Function 11 call targets header start at 0x11aa
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ADDRESS_RESOLUTION_DEBUG: Packed address calculation: 0x11aa / 2 = 0x08d5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Patch 2-byte: location=0x0ef3 old_value=0xffff -> new_value=0x08d5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_PATCH_DEBUG: ID 11 target_address=0x08d5 not packed (type=FunctionCall, is_packed=true)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_WRITE_DEBUG: Writing 0x08 0xd5 to location 0x0ef3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x00a3] -> final=0x0efd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: Branch target_id=107 location=0x0efd packed=false offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Resolved address 0x0f0a from offset 0x0f0a (final_code_base=0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Calling patch_branch_offset to calculate relative offset
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: location=0x0efd, target_address=0x0f0a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: address_after_2byte=0x0eff, offset_2byte=13
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x80 directly to final_data[0x0efd]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x0d directly to final_data[0x0efe]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: 2-byte format, wrote 0x80 0x0d at location 0x0efd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: patch_branch_offset returned: Ok(())
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x00a6] -> final=0x0f00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: StringRef target_id=110 location=0x0f00 packed=true offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_RESOLVE_DEBUG: String ID 110 offset=0x0016 + base=0x0788 = final_addr=0x079e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Patch 2-byte: location=0x0f00 old_value=0xffff -> new_value=0x079e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_LEGACY_PACK_DEBUG: String ID 110 target_address=0x079e packed to 0x03cf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_WRITE_DEBUG: Writing 0x03 0xcf to location 0x0f00
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x00ba] -> final=0x0f14
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: Branch target_id=115 location=0x0f14 packed=false offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Resolved address 0x0f21 from offset 0x0f21 (final_code_base=0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Calling patch_branch_offset to calculate relative offset
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: location=0x0f14, target_address=0x0f21
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: address_after_2byte=0x0f16, offset_2byte=13
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x80 directly to final_data[0x0f14]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x0d directly to final_data[0x0f15]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: 2-byte format, wrote 0x80 0x0d at location 0x0f14
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: patch_branch_offset returned: Ok(())
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x00bd] -> final=0x0f17
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: StringRef target_id=118 location=0x0f17 packed=true offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_RESOLVE_DEBUG: String ID 118 offset=0x002c + base=0x0788 = final_addr=0x07b4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Patch 2-byte: location=0x0f17 old_value=0xffff -> new_value=0x07b4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_LEGACY_PACK_DEBUG: String ID 118 target_address=0x07b4 packed to 0x03da
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_WRITE_DEBUG: Writing 0x03 0xda to location 0x0f17
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x00cd] -> final=0x0f27
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: Branch target_id=122 location=0x0f27 packed=false offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Resolved address 0x0f33 from offset 0x0f33 (final_code_base=0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Calling patch_branch_offset to calculate relative offset
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: location=0x0f27, target_address=0x0f33
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: address_after_2byte=0x0f29, offset_2byte=12
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x80 directly to final_data[0x0f27]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x0c directly to final_data[0x0f28]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: 2-byte format, wrote 0x80 0x0c at location 0x0f27
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: patch_branch_offset returned: Ok(())
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x00d0] -> final=0x0f2a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: StringRef target_id=125 location=0x0f2a packed=true offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_RESOLVE_DEBUG: String ID 125 offset=0x003c + base=0x0788 = final_addr=0x07c4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Patch 2-byte: location=0x0f2a old_value=0xffff -> new_value=0x07c4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_LEGACY_PACK_DEBUG: String ID 125 target_address=0x07c4 packed to 0x03e2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_WRITE_DEBUG: Writing 0x03 0xe2 to location 0x0f2a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x00e0] -> final=0x0f3a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: StringRef target_id=129 location=0x0f3a packed=true offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_RESOLVE_DEBUG: String ID 129 offset=0x004a + base=0x0788 = final_addr=0x07d2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Patch 2-byte: location=0x0f3a old_value=0xffff -> new_value=0x07d2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_LEGACY_PACK_DEBUG: String ID 129 target_address=0x07d2 packed to 0x03e9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_WRITE_DEBUG: Writing 0x03 0xe9 to location 0x0f3a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x00ec] -> final=0x0f46
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: Branch target_id=135 location=0x0f46 packed=false offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Resolved address 0x0f53 from offset 0x0f53 (final_code_base=0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Calling patch_branch_offset to calculate relative offset
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: location=0x0f46, target_address=0x0f53
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: address_after_2byte=0x0f48, offset_2byte=13
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x80 directly to final_data[0x0f46]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x0d directly to final_data[0x0f47]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: 2-byte format, wrote 0x80 0x0d at location 0x0f46
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: patch_branch_offset returned: Ok(())
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x0107] -> final=0x0f61
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: StringRef target_id=148 location=0x0f61 packed=true offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_RESOLVE_DEBUG: String ID 148 offset=0x05b6 + base=0x0788 = final_addr=0x0d3e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Patch 2-byte: location=0x0f61 old_value=0xffff -> new_value=0x0d3e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_LEGACY_PACK_DEBUG: String ID 148 target_address=0x0d3e packed to 0x069f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_WRITE_DEBUG: Writing 0x06 0x9f to location 0x0f61
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x010b] -> final=0x0f65
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: FunctionCall target_id=13 location=0x0f65 packed=true offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ADDRESS_RESOLUTION_DEBUG: Looking up function 13 in ir_id_to_address table
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ADDRESS_RESOLUTION_DEBUG: Found function 13 at address 0x12ae
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ADDRESS_RESOLUTION_DEBUG: Address 0x12ae is already absolute (>= final_code_base 0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ADDRESS_RESOLUTION_DEBUG: final_addr=0x12ae from routine_addr=0x12ae
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ADDRESS_FIX: Function 13 call targets header start at 0x12ae
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ADDRESS_RESOLUTION_DEBUG: Packed address calculation: 0x12ae / 2 = 0x0957
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Patch 2-byte: location=0x0f65 old_value=0xffff -> new_value=0x0957
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_PATCH_DEBUG: ID 13 target_address=0x0957 not packed (type=FunctionCall, is_packed=true)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_WRITE_DEBUG: Writing 0x09 0x57 to location 0x0f65
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x011d] -> final=0x0f77
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: FunctionCall target_id=11 location=0x0f77 packed=true offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ADDRESS_RESOLUTION_DEBUG: Looking up function 11 in ir_id_to_address table
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ADDRESS_RESOLUTION_DEBUG: Found function 11 at address 0x11aa
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ADDRESS_RESOLUTION_DEBUG: Address 0x11aa is already absolute (>= final_code_base 0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ADDRESS_RESOLUTION_DEBUG: final_addr=0x11aa from routine_addr=0x11aa
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ADDRESS_FIX: Function 11 call targets header start at 0x11aa
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ADDRESS_RESOLUTION_DEBUG: Packed address calculation: 0x11aa / 2 = 0x08d5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Patch 2-byte: location=0x0f77 old_value=0xffff -> new_value=0x08d5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_PATCH_DEBUG: ID 11 target_address=0x08d5 not packed (type=FunctionCall, is_packed=true)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_WRITE_DEBUG: Writing 0x08 0xd5 to location 0x0f77
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x0127] -> final=0x0f81
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: Branch target_id=156 location=0x0f81 packed=false offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Resolved address 0x0f8e from offset 0x0f8e (final_code_base=0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Calling patch_branch_offset to calculate relative offset
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: location=0x0f81, target_address=0x0f8e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: address_after_2byte=0x0f83, offset_2byte=13
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x80 directly to final_data[0x0f81]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x0d directly to final_data[0x0f82]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: 2-byte format, wrote 0x80 0x0d at location 0x0f81
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: patch_branch_offset returned: Ok(())
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x012a] -> final=0x0f84
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: StringRef target_id=159 location=0x0f84 packed=true offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_RESOLVE_DEBUG: String ID 159 offset=0x005c + base=0x0788 = final_addr=0x07e4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Patch 2-byte: location=0x0f84 old_value=0xffff -> new_value=0x07e4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_LEGACY_PACK_DEBUG: String ID 159 target_address=0x07e4 packed to 0x03f2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_WRITE_DEBUG: Writing 0x03 0xf2 to location 0x0f84
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x013e] -> final=0x0f98
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: Branch target_id=164 location=0x0f98 packed=false offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Resolved address 0x0fa5 from offset 0x0fa5 (final_code_base=0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Calling patch_branch_offset to calculate relative offset
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: location=0x0f98, target_address=0x0fa5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: address_after_2byte=0x0f9a, offset_2byte=13
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x80 directly to final_data[0x0f98]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x0d directly to final_data[0x0f99]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: 2-byte format, wrote 0x80 0x0d at location 0x0f98
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: patch_branch_offset returned: Ok(())
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x0141] -> final=0x0f9b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: StringRef target_id=167 location=0x0f9b packed=true offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_RESOLVE_DEBUG: String ID 167 offset=0x0072 + base=0x0788 = final_addr=0x07fa
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Patch 2-byte: location=0x0f9b old_value=0xffff -> new_value=0x07fa
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_LEGACY_PACK_DEBUG: String ID 167 target_address=0x07fa packed to 0x03fd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_WRITE_DEBUG: Writing 0x03 0xfd to location 0x0f9b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x0155] -> final=0x0faf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: Branch target_id=172 location=0x0faf packed=false offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Resolved address 0x0fbb from offset 0x0fbb (final_code_base=0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Calling patch_branch_offset to calculate relative offset
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: location=0x0faf, target_address=0x0fbb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: address_after_2byte=0x0fb1, offset_2byte=12
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x80 directly to final_data[0x0faf]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x0c directly to final_data[0x0fb0]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: 2-byte format, wrote 0x80 0x0c at location 0x0faf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: patch_branch_offset returned: Ok(())
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x0158] -> final=0x0fb2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: StringRef target_id=175 location=0x0fb2 packed=true offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_RESOLVE_DEBUG: String ID 175 offset=0x0082 + base=0x0788 = final_addr=0x080a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Patch 2-byte: location=0x0fb2 old_value=0xffff -> new_value=0x080a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_LEGACY_PACK_DEBUG: String ID 175 target_address=0x080a packed to 0x0405
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_WRITE_DEBUG: Writing 0x04 0x05 to location 0x0fb2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x0168] -> final=0x0fc2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: StringRef target_id=179 location=0x0fc2 packed=true offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_RESOLVE_DEBUG: String ID 179 offset=0x0092 + base=0x0788 = final_addr=0x081a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Patch 2-byte: location=0x0fc2 old_value=0xffff -> new_value=0x081a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_LEGACY_PACK_DEBUG: String ID 179 target_address=0x081a packed to 0x040d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_WRITE_DEBUG: Writing 0x04 0x0d to location 0x0fc2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x0176] -> final=0x0fd0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: Branch target_id=186 location=0x0fd0 packed=false offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Resolved address 0x0fd2 from offset 0x0fd2 (final_code_base=0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Calling patch_branch_offset to calculate relative offset
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: location=0x0fd0, target_address=0x0fd2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: address_after_2byte=0x0fd2, offset_2byte=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x80 directly to final_data[0x0fd0]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x02 directly to final_data[0x0fd1]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: 2-byte format, wrote 0x80 0x02 at location 0x0fd0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: patch_branch_offset returned: Ok(())
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x0179] -> final=0x0fd3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: StringRef target_id=190 location=0x0fd3 packed=true offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_RESOLVE_DEBUG: String ID 190 offset=0x0098 + base=0x0788 = final_addr=0x0820
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Patch 2-byte: location=0x0fd3 old_value=0xffff -> new_value=0x0820
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_LEGACY_PACK_DEBUG: String ID 190 target_address=0x0820 packed to 0x0410
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_WRITE_DEBUG: Writing 0x04 0x10 to location 0x0fd3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x0185] -> final=0x0fdf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: FunctionCall target_id=11 location=0x0fdf packed=true offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ADDRESS_RESOLUTION_DEBUG: Looking up function 11 in ir_id_to_address table
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ADDRESS_RESOLUTION_DEBUG: Found function 11 at address 0x11aa
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ADDRESS_RESOLUTION_DEBUG: Address 0x11aa is already absolute (>= final_code_base 0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ADDRESS_RESOLUTION_DEBUG: final_addr=0x11aa from routine_addr=0x11aa
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ADDRESS_FIX: Function 11 call targets header start at 0x11aa
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ADDRESS_RESOLUTION_DEBUG: Packed address calculation: 0x11aa / 2 = 0x08d5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Patch 2-byte: location=0x0fdf old_value=0xffff -> new_value=0x08d5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_PATCH_DEBUG: ID 11 target_address=0x08d5 not packed (type=FunctionCall, is_packed=true)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_WRITE_DEBUG: Writing 0x08 0xd5 to location 0x0fdf
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x018f] -> final=0x0fe9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: Branch target_id=195 location=0x0fe9 packed=false offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Resolved address 0x0ff6 from offset 0x0ff6 (final_code_base=0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Calling patch_branch_offset to calculate relative offset
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: location=0x0fe9, target_address=0x0ff6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: address_after_2byte=0x0feb, offset_2byte=13
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x80 directly to final_data[0x0fe9]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x0d directly to final_data[0x0fea]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: 2-byte format, wrote 0x80 0x0d at location 0x0fe9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: patch_branch_offset returned: Ok(())
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x0192] -> final=0x0fec
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: StringRef target_id=198 location=0x0fec packed=true offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_RESOLVE_DEBUG: String ID 198 offset=0x00a8 + base=0x0788 = final_addr=0x0830
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Patch 2-byte: location=0x0fec old_value=0xffff -> new_value=0x0830
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_LEGACY_PACK_DEBUG: String ID 198 target_address=0x0830 packed to 0x0418
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_WRITE_DEBUG: Writing 0x04 0x18 to location 0x0fec
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x01bd] -> final=0x1017
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: StringRef target_id=215 location=0x1017 packed=true offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_RESOLVE_DEBUG: String ID 215 offset=0x05fe + base=0x0788 = final_addr=0x0d86
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Patch 2-byte: location=0x1017 old_value=0xffff -> new_value=0x0d86
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_LEGACY_PACK_DEBUG: String ID 215 target_address=0x0d86 packed to 0x06c3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_WRITE_DEBUG: Writing 0x06 0xc3 to location 0x1017
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x01cb] -> final=0x1025
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: StringRef target_id=220 location=0x1025 packed=true offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_RESOLVE_DEBUG: String ID 220 offset=0x00ca + base=0x0788 = final_addr=0x0852
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Patch 2-byte: location=0x1025 old_value=0xffff -> new_value=0x0852
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_LEGACY_PACK_DEBUG: String ID 220 target_address=0x0852 packed to 0x0429
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_WRITE_DEBUG: Writing 0x04 0x29 to location 0x1025
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x01d8] -> final=0x1032
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: Branch target_id=228 location=0x1032 packed=false offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Resolved address 0x103f from offset 0x103f (final_code_base=0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Calling patch_branch_offset to calculate relative offset
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: location=0x1032, target_address=0x103f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: address_after_2byte=0x1034, offset_2byte=13
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x80 directly to final_data[0x1032]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x0d directly to final_data[0x1033]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: 2-byte format, wrote 0x80 0x0d at location 0x1032
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: patch_branch_offset returned: Ok(())
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x01db] -> final=0x1035
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: StringRef target_id=231 location=0x1035 packed=true offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_RESOLVE_DEBUG: String ID 231 offset=0x00d0 + base=0x0788 = final_addr=0x0858
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Patch 2-byte: location=0x1035 old_value=0xffff -> new_value=0x0858
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_LEGACY_PACK_DEBUG: String ID 231 target_address=0x0858 packed to 0x042c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_WRITE_DEBUG: Writing 0x04 0x2c to location 0x1035
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x01ed] -> final=0x1047
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: StringRef target_id=237 location=0x1047 packed=true offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_RESOLVE_DEBUG: String ID 237 offset=0x00e0 + base=0x0788 = final_addr=0x0868
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Patch 2-byte: location=0x1047 old_value=0xffff -> new_value=0x0868
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_LEGACY_PACK_DEBUG: String ID 237 target_address=0x0868 packed to 0x0434
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_WRITE_DEBUG: Writing 0x04 0x34 to location 0x1047
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x01fb] -> final=0x1055
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: Branch target_id=245 location=0x1055 packed=false offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Resolved address 0x1066 from offset 0x1066 (final_code_base=0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Calling patch_branch_offset to calculate relative offset
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: location=0x1055, target_address=0x1066
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: address_after_2byte=0x1057, offset_2byte=17
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x80 directly to final_data[0x1055]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x11 directly to final_data[0x1056]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: 2-byte format, wrote 0x80 0x11 at location 0x1055
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: patch_branch_offset returned: Ok(())
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x0215] -> final=0x106f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: Branch target_id=251 location=0x106f packed=false offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Resolved address 0x107b from offset 0x107b (final_code_base=0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Calling patch_branch_offset to calculate relative offset
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: location=0x106f, target_address=0x107b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: address_after_2byte=0x1071, offset_2byte=12
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x80 directly to final_data[0x106f]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x0c directly to final_data[0x1070]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: 2-byte format, wrote 0x80 0x0c at location 0x106f
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: patch_branch_offset returned: Ok(())
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x0218] -> final=0x1072
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: StringRef target_id=254 location=0x1072 packed=true offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_RESOLVE_DEBUG: String ID 254 offset=0x00e8 + base=0x0788 = final_addr=0x0870
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Patch 2-byte: location=0x1072 old_value=0xffff -> new_value=0x0870
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_LEGACY_PACK_DEBUG: String ID 254 target_address=0x0870 packed to 0x0438
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_WRITE_DEBUG: Writing 0x04 0x38 to location 0x1072
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x0222] -> final=0x107c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: StringRef target_id=257 location=0x107c packed=true offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_RESOLVE_DEBUG: String ID 257 offset=0x00f8 + base=0x0788 = final_addr=0x0880
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Patch 2-byte: location=0x107c old_value=0xffff -> new_value=0x0880
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_LEGACY_PACK_DEBUG: String ID 257 target_address=0x0880 packed to 0x0440
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_WRITE_DEBUG: Writing 0x04 0x40 to location 0x107c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x022d] -> final=0x1087
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: Branch target_id=263 location=0x1087 packed=false offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Resolved address 0x1089 from offset 0x1089 (final_code_base=0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Calling patch_branch_offset to calculate relative offset
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: location=0x1087, target_address=0x1089
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: address_after_2byte=0x1089, offset_2byte=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x80 directly to final_data[0x1087]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x02 directly to final_data[0x1088]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: 2-byte format, wrote 0x80 0x02 at location 0x1087
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: patch_branch_offset returned: Ok(())
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x023b] -> final=0x1095
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: StringRef target_id=272 location=0x1095 packed=true offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_RESOLVE_DEBUG: String ID 272 offset=0x0626 + base=0x0788 = final_addr=0x0dae
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Patch 2-byte: location=0x1095 old_value=0xffff -> new_value=0x0dae
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_LEGACY_PACK_DEBUG: String ID 272 target_address=0x0dae packed to 0x06d7
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_WRITE_DEBUG: Writing 0x06 0xd7 to location 0x1095
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x0266] -> final=0x10c0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: Branch target_id=286 location=0x10c0 packed=false offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Resolved address 0x10cd from offset 0x10cd (final_code_base=0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Calling patch_branch_offset to calculate relative offset
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: location=0x10c0, target_address=0x10cd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: address_after_2byte=0x10c2, offset_2byte=13
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x80 directly to final_data[0x10c0]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x0d directly to final_data[0x10c1]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: 2-byte format, wrote 0x80 0x0d at location 0x10c0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: patch_branch_offset returned: Ok(())
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x0276] -> final=0x10d0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: Branch target_id=290 location=0x10d0 packed=false offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Resolved address 0x10dd from offset 0x10dd (final_code_base=0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Calling patch_branch_offset to calculate relative offset
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: location=0x10d0, target_address=0x10dd
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: address_after_2byte=0x10d2, offset_2byte=13
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x80 directly to final_data[0x10d0]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x0d directly to final_data[0x10d1]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: 2-byte format, wrote 0x80 0x0d at location 0x10d0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: patch_branch_offset returned: Ok(())
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x0279] -> final=0x10d3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: StringRef target_id=293 location=0x10d3 packed=true offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_RESOLVE_DEBUG: String ID 293 offset=0x0108 + base=0x0788 = final_addr=0x0890
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Patch 2-byte: location=0x10d3 old_value=0xffff -> new_value=0x0890
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_LEGACY_PACK_DEBUG: String ID 293 target_address=0x0890 packed to 0x0448
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_WRITE_DEBUG: Writing 0x04 0x48 to location 0x10d3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x0289] -> final=0x10e3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: Branch target_id=297 location=0x10e3 packed=false offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Resolved address 0x10f4 from offset 0x10f4 (final_code_base=0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Calling patch_branch_offset to calculate relative offset
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: location=0x10e3, target_address=0x10f4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: address_after_2byte=0x10e5, offset_2byte=17
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x80 directly to final_data[0x10e3]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x11 directly to final_data[0x10e4]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: 2-byte format, wrote 0x80 0x11 at location 0x10e3
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: patch_branch_offset returned: Ok(())
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x02a4] -> final=0x10fe
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: Branch target_id=306 location=0x10fe packed=false offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Resolved address 0x111e from offset 0x111e (final_code_base=0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Calling patch_branch_offset to calculate relative offset
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: location=0x10fe, target_address=0x111e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: address_after_2byte=0x1100, offset_2byte=32
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x80 directly to final_data[0x10fe]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x20 directly to final_data[0x10ff]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: 2-byte format, wrote 0x80 0x20 at location 0x10fe
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: patch_branch_offset returned: Ok(())
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x02b0] -> final=0x110a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: Branch target_id=314 location=0x110a packed=false offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Resolved address 0x1117 from offset 0x1117 (final_code_base=0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Calling patch_branch_offset to calculate relative offset
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: location=0x110a, target_address=0x1117
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: address_after_2byte=0x110c, offset_2byte=13
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x80 directly to final_data[0x110a]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x0d directly to final_data[0x110b]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: 2-byte format, wrote 0x80 0x0d at location 0x110a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: patch_branch_offset returned: Ok(())
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x02df] -> final=0x1139
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: Branch target_id=327 location=0x1139 packed=false offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Resolved address 0x1159 from offset 0x1159 (final_code_base=0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Calling patch_branch_offset to calculate relative offset
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: location=0x1139, target_address=0x1159
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: address_after_2byte=0x113b, offset_2byte=32
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x80 directly to final_data[0x1139]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x20 directly to final_data[0x113a]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: 2-byte format, wrote 0x80 0x20 at location 0x1139
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: patch_branch_offset returned: Ok(())
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x02eb] -> final=0x1145
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: Branch target_id=335 location=0x1145 packed=false offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Resolved address 0x1152 from offset 0x1152 (final_code_base=0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Calling patch_branch_offset to calculate relative offset
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: location=0x1145, target_address=0x1152
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: address_after_2byte=0x1147, offset_2byte=13
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x80 directly to final_data[0x1145]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x0d directly to final_data[0x1146]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: 2-byte format, wrote 0x80 0x0d at location 0x1145
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: patch_branch_offset returned: Ok(())
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x0301] -> final=0x115b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: FunctionCall target_id=1 location=0x115b packed=true offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ADDRESS_RESOLUTION_DEBUG: Looking up function 1 in ir_id_to_address table
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ADDRESS_RESOLUTION_DEBUG: Found function 1 at address 0x0e86
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ADDRESS_RESOLUTION_DEBUG: Address 0x0e86 is already absolute (>= final_code_base 0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ADDRESS_RESOLUTION_DEBUG: final_addr=0x0e86 from routine_addr=0x0e86
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ADDRESS_FIX: Function 1 call targets header start at 0x0e86
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ADDRESS_RESOLUTION_DEBUG: Packed address calculation: 0x0e86 / 2 = 0x0743
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Patch 2-byte: location=0x115b old_value=0xffff -> new_value=0x0743
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_PATCH_DEBUG: ID 1 target_address=0x0743 not packed (type=FunctionCall, is_packed=true)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_WRITE_DEBUG: Writing 0x07 0x43 to location 0x115b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x0319] -> final=0x1173
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: StringRef target_id=354 location=0x1173 packed=true offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_RESOLVE_DEBUG: String ID 354 offset=0x011c + base=0x0788 = final_addr=0x08a4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Patch 2-byte: location=0x1173 old_value=0xffff -> new_value=0x08a4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_LEGACY_PACK_DEBUG: String ID 354 target_address=0x08a4 packed to 0x0452
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_WRITE_DEBUG: Writing 0x04 0x52 to location 0x1173
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x0321] -> final=0x117b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: FunctionCall target_id=11 location=0x117b packed=true offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ADDRESS_RESOLUTION_DEBUG: Looking up function 11 in ir_id_to_address table
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ADDRESS_RESOLUTION_DEBUG: Found function 11 at address 0x11aa
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ADDRESS_RESOLUTION_DEBUG: Address 0x11aa is already absolute (>= final_code_base 0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ADDRESS_RESOLUTION_DEBUG: final_addr=0x11aa from routine_addr=0x11aa
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  FUNCTION_ADDRESS_FIX: Function 11 call targets header start at 0x11aa
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  ADDRESS_RESOLUTION_DEBUG: Packed address calculation: 0x11aa / 2 = 0x08d5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Patch 2-byte: location=0x117b old_value=0xffff -> new_value=0x08d5
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_PATCH_DEBUG: ID 11 target_address=0x08d5 not packed (type=FunctionCall, is_packed=true)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_WRITE_DEBUG: Writing 0x08 0xd5 to location 0x117b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x032b] -> final=0x1185
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: Branch target_id=361 location=0x1185 packed=false offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Resolved address 0x1192 from offset 0x1192 (final_code_base=0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Calling patch_branch_offset to calculate relative offset
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: location=0x1185, target_address=0x1192
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: address_after_2byte=0x1187, offset_2byte=13
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x80 directly to final_data[0x1185]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x0d directly to final_data[0x1186]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: 2-byte format, wrote 0x80 0x0d at location 0x1185
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: patch_branch_offset returned: Ok(())
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x032e] -> final=0x1188
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: StringRef target_id=364 location=0x1188 packed=true offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_RESOLVE_DEBUG: String ID 364 offset=0x012c + base=0x0788 = final_addr=0x08b4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Patch 2-byte: location=0x1188 old_value=0xffff -> new_value=0x08b4
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_LEGACY_PACK_DEBUG: String ID 364 target_address=0x08b4 packed to 0x045a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_WRITE_DEBUG: Writing 0x04 0x5a to location 0x1188
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x033b] -> final=0x1195
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: Branch target_id=368 location=0x1195 packed=false offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Resolved address 0x1197 from offset 0x1197 (final_code_base=0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Calling patch_branch_offset to calculate relative offset
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: location=0x1195, target_address=0x1197
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: address_after_2byte=0x1197, offset_2byte=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x80 directly to final_data[0x1195]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x02 directly to final_data[0x1196]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: 2-byte format, wrote 0x80 0x02 at location 0x1195
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: patch_branch_offset returned: Ok(())
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x034c] -> final=0x11a6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: StringRef target_id=376 location=0x11a6 packed=true offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_RESOLVE_DEBUG: String ID 376 offset=0x0142 + base=0x0788 = final_addr=0x08ca
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Patch 2-byte: location=0x11a6 old_value=0xffff -> new_value=0x08ca
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_LEGACY_PACK_DEBUG: String ID 376 target_address=0x08ca packed to 0x0465
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_WRITE_DEBUG: Writing 0x04 0x65 to location 0x11a6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x03b3] -> final=0x120d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: Branch target_id=416 location=0x120d packed=false offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Resolved address 0x121e from offset 0x121e (final_code_base=0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Calling patch_branch_offset to calculate relative offset
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: location=0x120d, target_address=0x121e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: address_after_2byte=0x120f, offset_2byte=17
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x80 directly to final_data[0x120d]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x11 directly to final_data[0x120e]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: 2-byte format, wrote 0x80 0x11 at location 0x120d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: patch_branch_offset returned: Ok(())
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x03d7] -> final=0x1231
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: Branch target_id=426 location=0x1231 packed=false offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Resolved address 0x1233 from offset 0x1233 (final_code_base=0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Calling patch_branch_offset to calculate relative offset
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: location=0x1231, target_address=0x1233
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: address_after_2byte=0x1233, offset_2byte=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x80 directly to final_data[0x1231]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x02 directly to final_data[0x1232]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: 2-byte format, wrote 0x80 0x02 at location 0x1231
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: patch_branch_offset returned: Ok(())
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x03e3] -> final=0x123d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: Branch target_id=436 location=0x123d packed=false offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Resolved address 0x1255 from offset 0x1255 (final_code_base=0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Calling patch_branch_offset to calculate relative offset
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: location=0x123d, target_address=0x1255
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: address_after_2byte=0x123f, offset_2byte=24
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x80 directly to final_data[0x123d]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x18 directly to final_data[0x123e]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: 2-byte format, wrote 0x80 0x18 at location 0x123d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: patch_branch_offset returned: Ok(())
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x03eb] -> final=0x1245
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: Branch target_id=442 location=0x1245 packed=false offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Resolved address 0x124e from offset 0x124e (final_code_base=0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Calling patch_branch_offset to calculate relative offset
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: location=0x1245, target_address=0x124e
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: address_after_2byte=0x1247, offset_2byte=9
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x80 directly to final_data[0x1245]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x09 directly to final_data[0x1246]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: 2-byte format, wrote 0x80 0x09 at location 0x1245
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: patch_branch_offset returned: Ok(())
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x040f] -> final=0x1269
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: Branch target_id=450 location=0x1269 packed=false offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Resolved address 0x1276 from offset 0x1276 (final_code_base=0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Calling patch_branch_offset to calculate relative offset
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: location=0x1269, target_address=0x1276
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: address_after_2byte=0x126b, offset_2byte=13
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x80 directly to final_data[0x1269]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x0d directly to final_data[0x126a]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: 2-byte format, wrote 0x80 0x0d at location 0x1269
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: patch_branch_offset returned: Ok(())
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x0423] -> final=0x127d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: Branch target_id=455 location=0x127d packed=false offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Resolved address 0x12ad from offset 0x12ad (final_code_base=0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Calling patch_branch_offset to calculate relative offset
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: location=0x127d, target_address=0x12ad
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: address_after_2byte=0x127f, offset_2byte=48
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x80 directly to final_data[0x127d]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x30 directly to final_data[0x127e]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: 2-byte format, wrote 0x80 0x30 at location 0x127d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: patch_branch_offset returned: Ok(())
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x042e] -> final=0x1288
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: Branch target_id=462 location=0x1288 packed=false offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Resolved address 0x128a from offset 0x128a (final_code_base=0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Calling patch_branch_offset to calculate relative offset
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: location=0x1288, target_address=0x128a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: address_after_2byte=0x128a, offset_2byte=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x80 directly to final_data[0x1288]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x02 directly to final_data[0x1289]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: 2-byte format, wrote 0x80 0x02 at location 0x1288
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: patch_branch_offset returned: Ok(())
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x043c] -> final=0x1296
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: StringRef target_id=473 location=0x1296 packed=true offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_RESOLVE_DEBUG: String ID 473 offset=0x0668 + base=0x0788 = final_addr=0x0df0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Patch 2-byte: location=0x1296 old_value=0xffff -> new_value=0x0df0
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_LEGACY_PACK_DEBUG: String ID 473 target_address=0x0df0 packed to 0x06f8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_WRITE_DEBUG: Writing 0x06 0xf8 to location 0x1296
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x0461] -> final=0x12bb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: Branch target_id=483 location=0x12bb packed=false offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Resolved address 0x12cc from offset 0x12cc (final_code_base=0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Calling patch_branch_offset to calculate relative offset
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: location=0x12bb, target_address=0x12cc
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: address_after_2byte=0x12bd, offset_2byte=17
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x80 directly to final_data[0x12bb]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x11 directly to final_data[0x12bc]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: 2-byte format, wrote 0x80 0x11 at location 0x12bb
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: patch_branch_offset returned: Ok(())
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x047e] -> final=0x12d8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: Branch target_id=491 location=0x12d8 packed=false offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Resolved address 0x12da from offset 0x12da (final_code_base=0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Calling patch_branch_offset to calculate relative offset
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: location=0x12d8, target_address=0x12da
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: address_after_2byte=0x12da, offset_2byte=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x80 directly to final_data[0x12d8]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x02 directly to final_data[0x12d9]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: 2-byte format, wrote 0x80 0x02 at location 0x12d8
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: patch_branch_offset returned: Ok(())
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x048c] -> final=0x12e6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: StringRef target_id=500 location=0x12e6 packed=true offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_RESOLVE_DEBUG: String ID 500 offset=0x0690 + base=0x0788 = final_addr=0x0e18
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Patch 2-byte: location=0x12e6 old_value=0xffff -> new_value=0x0e18
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_LEGACY_PACK_DEBUG: String ID 500 target_address=0x0e18 packed to 0x070c
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_WRITE_DEBUG: Writing 0x07 0x0c to location 0x12e6
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x04af] -> final=0x1309
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: Branch target_id=511 location=0x1309 packed=false offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Resolved address 0x131a from offset 0x131a (final_code_base=0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Calling patch_branch_offset to calculate relative offset
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: location=0x1309, target_address=0x131a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: address_after_2byte=0x130b, offset_2byte=17
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x80 directly to final_data[0x1309]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x11 directly to final_data[0x130a]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: 2-byte format, wrote 0x80 0x11 at location 0x1309
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: patch_branch_offset returned: Ok(())
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x04cf] -> final=0x1329
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: Branch target_id=521 location=0x1329 packed=false offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Resolved address 0x132b from offset 0x132b (final_code_base=0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Calling patch_branch_offset to calculate relative offset
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: location=0x1329, target_address=0x132b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: address_after_2byte=0x132b, offset_2byte=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x80 directly to final_data[0x1329]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x02 directly to final_data[0x132a]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: 2-byte format, wrote 0x80 0x02 at location 0x1329
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: patch_branch_offset returned: Ok(())
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x04e8] -> final=0x1342
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: StringRef target_id=543 location=0x1342 packed=true offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_RESOLVE_DEBUG: String ID 543 offset=0x06ae + base=0x0788 = final_addr=0x0e36
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Patch 2-byte: location=0x1342 old_value=0xffff -> new_value=0x0e36
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_LEGACY_PACK_DEBUG: String ID 543 target_address=0x0e36 packed to 0x071b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_WRITE_DEBUG: Writing 0x07 0x1b to location 0x1342
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x0509] -> final=0x1363
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: Branch target_id=551 location=0x1363 packed=false offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Resolved address 0x1365 from offset 0x1365 (final_code_base=0x0e5a)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: Calling patch_branch_offset to calculate relative offset
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: location=0x1363, target_address=0x1365
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: address_after_2byte=0x1365, offset_2byte=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x80 directly to final_data[0x1363]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0x02 directly to final_data[0x1364]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_branch_offset: 2-byte format, wrote 0x80 0x02 at location 0x1363
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Branch resolution: patch_branch_offset returned: Ok(())
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x050c] -> final=0x1366
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: StringRef target_id=555 location=0x1366 packed=true offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_RESOLVE_DEBUG: String ID 555 offset=0x0172 + base=0x0788 = final_addr=0x08fa
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Patch 2-byte: location=0x1366 old_value=0xffff -> new_value=0x08fa
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_LEGACY_PACK_DEBUG: String ID 555 target_address=0x08fa packed to 0x047d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_WRITE_DEBUG: Writing 0x04 0x7d to location 0x1366
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x0518] -> final=0x1372
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: StringRef target_id=1029 location=0x1372 packed=true offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_RESOLVE_DEBUG: String ID 1029 offset=0x0592 + base=0x0788 = final_addr=0x0d1a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Patch 2-byte: location=0x1372 old_value=0xffff -> new_value=0x0d1a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  STRING_LEGACY_PACK_DEBUG: String ID 1029 target_address=0x0d1a packed to 0x068d
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  LEGACY_WRITE_DEBUG: Writing 0x06 0x8d to location 0x1372
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📍 ADDRESS_TRANSLATE: Code[0x0521] -> final=0x137b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF: Jump target_id=9001 location=0x137b packed=false offset_size=2
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  RESOLVE_REF_STATE: code_space.len()=1315, final_data.len()=4989, final_code_base=0x0e5a
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Jump resolution: Converting code_space offset 0x1371 to final address 0x1371
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] Jump resolution: Using jump offset calculation (signed word, not branch encoding)
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_jump_offset: location=0x137b, target_address=0x1371
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_jump_offset: current_PC=0x137d, offset=-10
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] patch_jump_offset: Writing jump offset 0xfff6 (-10) as bytes 0xff 0xf6 to location 0x137b
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0xff directly to final_data[0x137b]
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  WRITE_BYTE_AT: Writing byte 0xf6 directly to final_data[0x137c]
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]  All unresolved references processed
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]  All address references resolved successfully
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen] 📊 Step 3g: Finalizing file length and checksum
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_headers] 📝 Phase 3: Finalizing header metadata
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen_headers] 📝 Metadata finalized: File length=4989, Checksum=0x5972
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen] 🎉 COMPLETE Z-MACHINE FILE assembled successfully: 4989 bytes
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen]  Phase 3 complete: Final Z-Machine image assembled
[2025-09-12T15:05:07Z DEBUG gruesome::grue_compiler::codegen]  Phase 5: Validating final Z-Machine image
[2025-09-12T15:05:07Z INFO  gruesome::grue_compiler::codegen] 🎉 COMPLETE Z-MACHINE FILE generation complete: 4989 bytes
